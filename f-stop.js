function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function BestInPlaceEditor(e){"use strict";this.element=e,this.initOptions(),this.bindForm(),this.initPlaceHolder(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}function paste_preprocess_content(e){if(e.match(/<img.*?src.*?/)){var t=[],n=jQuery.parseHTML(e);jQuery.each(n,function(e,n){"IMG"==n.nodeName?$(n).addClass("new_paste_image"):$(n).find("img").addClass("new_paste_image"),t[e]=$(n).prop("outerHTML")}),e=t.join("")}if(e.match(/<img.*?src.*?placeholder_/)){t=[];for(var i=0;i<$(e).length;i++)content=$(e)[i],$(content).is("img")&&$(content)[0].hasAttribute("data-src")?t[i]=$(content).attr("src",$(content).attr("data-src")).prop("outerHTML"):$(content).find("img").length?(img=$(content).find("img")[0],img.hasAttribute("data-src")&&($(img).attr("src",$(img).attr("data-src")),t[i]=$(content).prop("outerHTML"))):t[i]=$(content).prop("outerHTML");e=t.join("")}return e.match(/\<img.*?src.*?https\:\/\/mail\.google\.com/)||e.match(/\<img.*?src.*?https\:\/\/asana-user-private-us-east-1/)||e.match(/\<img.*?src.*?https\:\/\/s3\.amazonaws\.com\/profile_photos/)?!1:(matches=e.match(/ipvm\.wistia\.(?:com|net)\/medias\/([a-zA-Z0-9]+)/),matches&&$("body").is(".active_admin")&&(e='<iframe src="https://fast.wistia.net/embed/iframe/'+matches[1]+'" title="Wistia Video"                               allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen                               mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="600" height="338"></iframe>'),matches=e.match(/fast\.wistia\.(?:com|net)\/embed\/iframe\/([a-zA-Z0-9]+)/),matches&&e.match(/(\<\s*?div|\/div)/)&&$("body").is(".active_admin")&&(e='<iframe src="https://fast.wistia.net/embed/iframe/'+matches[1]+'" title="Wistia Video"                               allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen                               mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen width="600" height="338"></iframe>'),matches=e.match(/ipvm\.wistia\.(?:com|net)\/projects\/([a-zA-Z0-9]+)/),matches&&$("body").is(".active_admin")&&(e=$("body").is(".admin_events")||$("body").is(".admin_zoom_webinars")?'<iframe class="wistia_playlist" src="https://fast.wistia.net/embed/playlists/'+matches[1]+'?bento%5BmenuPosition%5D=bottom                              &amp;media_0_0%5BautoPlay%5D=false&amp;media_0_0%5BcontrolsVisibleOnLoad%5D=false&amp;theme=bento&amp;version=v1&amp;videoFoam=false                              &amp;videoOptions%5BautoPlay%5D=true&amp;videoOptions%5BinlineOptionsOnly%5D=true&amp;videoOptions%5BplayerColor%5D=012A5D                              &amp;videoOptions%5Bversion%5D=v1&amp;videoOptions%5BvideoHeight%5D=360&amp;videoOptions%5BvideoWidth%5D=640&amp;videoOptions%5BvolumeControl%5D=true"                              name="wistia_playlist" width="599" height="471" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe>':'<iframe class="wistia_playlist" src="https://fast.wistia.net/embed/playlists/'+matches[1]+'?bento%5BmenuPosition%5D=bottom                              &amp;media_0_0%5BautoPlay%5D=false&amp;media_0_0%5BcontrolsVisibleOnLoad%5D=false&amp;theme=bento&amp;version=v1&amp;videoFoam=false                              &amp;videoOptions%5BautoPlay%5D=true&amp;videoOptions%5BinlineOptionsOnly%5D=true&amp;videoOptions%5BplayerColor%5D=012A5D                              &amp;videoOptions%5Bversion%5D=v1&amp;videoOptions%5BvideoHeight%5D=360&amp;videoOptions%5BvideoWidth%5D=640&amp;videoOptions%5BvolumeControl%5D=true"                              name="wistia_playlist" width="599" height="471" frameborder="0" scrolling="no" allowfullscreen="allowfullscreen"></iframe>'),ytregexWS=/^\s*((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?\s*$/,htmlsafe=e.replace(/<[^>]*>?/gm,""),htmlsafe=htmlsafe.replace(/amp\;/g,""),matches=htmlsafe.match(ytregexWS),matches&&(vidID=matches[5],timestamp=matches[6],time=0,timestamp&&timestamp.split("&").forEach(function(e){res=e.split("="),("t"==res[0]||"?t"==res[0])&&(time=res[1],time=time.split(/[a-zA-Z]+/g),4==time.length&&(time=3600*parseInt(time[0])+60*parseInt(time[1])+parseInt(time[2])),3==time.length&&(time=60*parseInt(time[0])+parseInt(time[1])),(2==time.length||1==time.length)&&(time=parseInt(time[0])))}),embedString='<iframe width="560" height="315" src="https://youtube.com/embed/'+vidID+"?start="+time+'" allowfullscreen></iframe>',e=embedString),e)}function process_paste(e,t){if(data=t.clipboardData||t.originalEvent.clipboardData,source=data.getData("text/html"),source.match(/\<img.*?src.*?https\:\/\/mail\.google\.com/)||source.match(/\<img.*?src.*?https\:\/\/asana-user-private-us-east-1/)||source.match(/\<img.*?src.*?https\:\/\/s3\.amazonaws\.com\/profile_photos/)){for(var n=0;n<data.items.length;n++)if(-1!=data.items[n].type.indexOf("image"))return blob=data.items[n].getAsFile(),selection=e.dom.doc.getSelection(),selection.rangeCount?(img=document.createElement("IMG"),URLObj=window.URL||window.webkitURL,img.setAttribute("src",URLObj.createObjectURL(blob)),img.onload=function(){$(this).css({width:Math.min(img.width,600)+"px",height:"auto","margin-left":"30px","padding-left":"0px"}),selection.getRangeAt(0).insertNode(img),tinyMCE.activeEditor.uploadImages(),selection.collapseToEnd()},!1):!1}else if(source.match(/\<img.*?src.*?/))return tinyMCE.activeEditor.dom.select("img.new_paste_image").forEach(function(e){e.onload=function(){tinyMCE.activeEditor.selection.select(e),updatedHTML=$(e).css({width:Math.min(e.width,600)+"px",height:"auto","margin-left":"30px","padding-left":"0px"}).removeClass("new_paste_image")[0].outerHTML,tinyMCE.activeEditor.selection.setContent(updatedHTML)}}),!1}!function(e,t){function n(e){var t=pe[e]={};return Z.each(e.split(te),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(ge,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:me.test(i)?Z.parseJSON(i):i}catch(o){}Z.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Z.grep(e,function(e,i){return e===t===n});if("string"==typeof t){var i=Z.grep(e,function(e){return 1===e.nodeType});if(Le.test(t))return Z.filter(t,i,!n);t=Z.filter(t,i)}return Z.grep(e,function(e,i){return Z.inArray(e,t)>=0===n})}function c(e){var t=$e.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,i,r,o=Z._data(e),s=Z._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)Z.event.add(t,n,a[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ge.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Ge.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=vt.length;r--;)if(t=vt[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(r[o]=Z._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Z._data(n,"olddisplay",x(n.nodeName)))):(i=nt(n,"display"),r[o]||"none"===i||Z._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function b(e,t,n){var i=ct.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function _(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Z.css(e,n+gt[r],!0)),i?("content"===n&&(o-=parseFloat(nt(e,"padding"+gt[r]))||0),"margin"!==n&&(o-=parseFloat(nt(e,"border"+gt[r]+"Width"))||0)):(o+=parseFloat(nt(e,"padding"+gt[r]))||0,"padding"!==n&&(o+=parseFloat(nt(e,"border"+gt[r]+"Width"))||0));return o}function w(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=i||null==i){if(i=nt(e,t),(0>i||null==i)&&(i=e.style[t]),dt.test(i))return i;r=o&&(Z.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(o?"border":"content"),r)+"px"}function x(e){if(ht[e])return ht[e];var t=Z("<"+e+">").appendTo(H.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(it=H.body.appendChild(it||Z.extend(H.createElement("iframe"),{frameBorder:0,width:0,height:0})),rt&&it.createElement||(rt=(it.contentWindow||it.contentDocument).document,rt.write("<!doctype html><html><body>"),rt.close()),t=rt.body.appendChild(rt.createElement(e)),n=nt(t,"display"),H.body.removeChild(it)),ht[e]=n,n}function C(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||_t.test(e)?i(e,r):C(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)C(e+"["+r+"]",t[r],n,i)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,s=t.toLowerCase().split(te),a=0,l=s.length;if(Z.isFunction(n))for(;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function T(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],u=0,c=l?l.length:0,d=e===Lt;c>u&&(d||!a);u++)a=l[u](n,i,r),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=T(e,n,i,r,a,s)));return!d&&a||s["*"]||(a=T(e,n,i,r,"*",s)),a}function S(e,n){var i,r,o=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Z.extend(!0,e,r)}function E(e,n,i){var r,o,s,a,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function D(e,t){var n,i,r,o,s=e.dataTypes.slice(),a=s[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=s[++u];)if("*"!==r){if("*"!==a&&a!==r){if(n=l[a+" "+r]||l["* "+r],!n)for(i in l)if(o=i.split(" "),o[1]===r&&(n=l[a+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],s.splice(u--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Vt=t},0),Vt=Z.now()}function O(e,t){Z.each(t,function(t,n){for(var i=(Jt[t]||[]).concat(Jt["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function M(e,t,n){var i,r=0,o=Zt.length,s=Z.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Vt||P(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,r=1-i,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),1>r&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vt||P(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(I(u,l.opts.specialEasing);o>r;r++)if(i=Zt[r].call(l,e,u,l.opts))return i;return O(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e,t){var n,i,r,o,s;for(n in e)if(i=Z.camelCase(n),r=t[i],o=e[n],Z.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function R(e,t,n){var i,r,o,s,a,l,u,c,d,f=this,h=e.style,p={},m=[],g=e.nodeType&&v(e);n.queue||(c=Z._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,Z.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==x(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Z.support.shrinkWrapBlocks||f.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Gt.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in p)Z.style(e,t,p[t])});for(i=0;s>i;i++)r=m[i],u=f.createTween(r,g?a[r]:0),p[r]=a[r]||Z.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function L(e,t,n,i,r){return new L.prototype.init(e,t,n,i,r)}function B(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=gt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var $,z,H=e.document,j=e.location,W=e.navigator,q=e.jQuery,U=e.$,Y=Array.prototype.push,V=Array.prototype.slice,X=Array.prototype.indexOf,G=Object.prototype.toString,K=Object.prototype.hasOwnProperty,Q=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,$)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ee=/\S/,te=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,se=/(?:^|:|,)(?:\s*\[)+/g,ae=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ue=/^-ms-/,ce=/-([\da-z])/gi,de=function(e,t){return(t+"").toUpperCase()},fe=function(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",fe,!1),Z.ready()):"complete"===H.readyState&&(H.detachEvent("onreadystatechange",fe),Z.ready())},he={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,i){var r,o,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ie.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:H,e=Z.parseHTML(r[1],s,!0),re.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(o=H.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=H,this.selector=e,this}return Z.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Z.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||Z.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(c&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[n]=Z.extend(c,s,r)):r!==t&&(a[n]=r));return a},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=U),t&&e.jQuery===Z&&(e.jQuery=q),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!H.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(z.resolveWith(H,[Z]),Z.fn.trigger&&Z(H).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):he[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!K.call(e,"constructor")&&!K.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||K.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||H,(i=re.exec(e))?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):oe.test(t.replace(ae,"@").replace(le,"]").replace(se,""))?new Function("return "+t)():void Z.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ee.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ue,"ms-").replace(ce,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,s=e.length,a=s===t||Z.isFunction(e);if(i)if(a){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(a){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("\ufeff\xa0")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?Y.call(i,e):Z.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],a=0,l=e.length,u=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(u)for(;l>a;a++)r=n(e[a],a,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),Z.isFunction(e)?(r=V.call(arguments,2),o=function(){return e.apply(n,r.concat(V.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):t},access:function(e,n,i,r,o,s,a){var l,u=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)Z.access(e,n,c,i[c],1,s,r);o=1}else if(r!==t){if(l=a===t&&Z.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,r),n=null)),n)for(;d>c;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,a);o=1}return o?e:u?n.call(e):d?n(e[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!z)if(z=Z.Deferred(),"complete"===H.readyState)setTimeout(Z.ready,1);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",fe,!1),e.addEventListener("load",Z.ready,!1);else{H.attachEvent("onreadystatechange",fe),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&H.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Z.ready()}}()}return z.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()}),$=Z(H);var pe={};Z.Callbacks=function(e){e="string"==typeof e?pe[e]||n(e):Z.extend({},e);var i,r,o,s,a,l,u=[],c=!e.once&&[],d=function(t){for(i=e.memory&&t,r=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):i?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;!function n(t){Z.each(t,function(t,i){var r=Z.type(i);"function"===r?e.unique&&f.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?a=u.length:i&&(s=t,d(i))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return Z.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(o?c.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var o=i[0],s=e[t];r[i[1]](Z.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=V.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===a?e:Z.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?V.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),Z.support=function(){var t,n,i,r,o,s,a,l,u,c,d,f=H.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),i=f.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=H.createElement("select"),o=r.appendChild(H.createElement("option")),s=f.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==f.className,enctype:!!H.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==H.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===H.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete f.test}catch(h){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),s=H.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),f.appendChild(s),a=H.createDocumentFragment(),a.appendChild(f.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(f),f.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in f,c||(f.setAttribute(l,"return;"),c="function"==typeof f[l]),t[u+"Bubbles"]=c;return Z(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=H.getElementsByTagName("body")[0];a&&(n=H.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=H.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=H.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(f),n=i=r=o=s=a=f=null,t}();var me=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ge=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Z.acceptData(e)){var o,s,a=Z.expando,l="string"==typeof n,u=e.nodeType,c=u?Z.cache:e,d=u?e[a]:e[a]&&a;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[a]=d=Z.deletedIds.pop()||Z.guid++:d=a),c[d]||(c[d]={},u||(c[d].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=Z.extend(c[d],n):c[d].data=Z.extend(c[d].data,n)),o=c[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Z.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[Z.camelCase(n)])):s=o,s}},removeData:function(e,t,n){if(Z.acceptData(e)){var i,o,s,a=e.nodeType,l=a?Z.cache:e,u=a?e[Z.expando]:Z.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){Z.isArray(t)||(t in i?t=[t]:(t=Z.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete i[t[o]];if(!(n?r:Z.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(a?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var r,o,s,a,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)a=s[c].name,a.indexOf("data-")||(a=Z.camelCase(a.substring(5)),i(u,a,d[a]));Z._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Z.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+o,[r[0]]),d===t&&u&&(d=Z.data(u,e),d=i(u,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,void this.each(function(){var t=Z(this);t.triggerHandler("setData"+o,r),Z.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Z._data(e,t),n&&(!i||Z.isArray(n)?i=Z._data(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),
Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Z.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=Z._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var ve,ye,be,_e=/[\t\r\n]/g,we=/\r/g,xe=/^(?:button|input)$/i,Ce=/^(?:button|input|object|select|textarea)$/i,ke=/^a(?:rea|)$/i,Te=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Se=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(te),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)o.indexOf(" "+t[s]+" ")<0&&(o+=t[s]+" ");r.className=Z.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(te),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(_e," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?Z.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=Z(this),a=t,l=e.split(te);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(_e," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(i){var o,s=Z(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(we,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(Z.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(e)[n](i):"undefined"==typeof e.getAttribute?Z.prop(e,n,i):(a=1!==l||!Z.isXMLDoc(e),a&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Te.test(n)?ye:ve)),i!==t?null===i?void Z.removeAttr(e,n):s&&"set"in s&&a&&(o=s.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,s=0;if(t&&1===e.nodeType)for(i=t.split(te);s<i.length;s++)r=i[s],r&&(n=Z.propFix[r]||r,o=Te.test(r),o||Z.attr(e,r,""),e.removeAttribute(Se?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(xe.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return ve&&Z.nodeName(e,"button")?ve.get(e,t):t in e?e.value:null},set:function(e,t,n){return ve&&Z.nodeName(e,"button")?ve.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(e),s&&(n=Z.propFix[n]||n,o=Z.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Ce.test(e.nodeName)||ke.test(e.nodeName)&&e.href?0:t}}}}),ye={get:function(e,n){var i,r=Z.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Z.removeAttr(e,n):(i=Z.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Se||(be={name:!0,id:!0,coords:!0},ve=Z.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(be[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=H.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:ve.get,set:function(e,t,n){""===t&&(t="false"),ve.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Ee=/^(?:textarea|input|select)$/i,De=/^([^\.]*|)(?:\.(.+)|)$/,Ae=/(?:^|\s)hover(\.\S+|)\b/,Ne=/^key/,Pe=/^(?:mouse|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,Me=function(e){return Z.event.special.hover?e:e.replace(Ae,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,i,r,o){var s,a,l,u,c,d,f,h,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=Z._data(e))){for(i.handler&&(p=i,i=p.handler,o=p.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=Z.trim(Me(n)).split(" "),u=0;u<n.length;u++)c=De.exec(n[u])||[],d=c[1],f=(c[2]||"").split(".").sort(),g=Z.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=Z.event.special[d]||{},h=Z.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:f.join(".")},p),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,f,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,h):m.push(h),Z.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,f,h,p,m,g=Z.hasData(e)&&Z._data(e);if(g&&(f=g.events)){for(t=Z.trim(Me(t||"")).split(" "),o=0;o<t.length;o++)if(s=De.exec(t[o])||[],a=l=s[1],u=s[2],a){for(h=Z.event.special[a]||{},a=(i?h.delegateType:h.bindType)||a,p=f[a]||[],c=p.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<p.length;d++)m=p[d],!r&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(p.splice(d--,1),m.selector&&p.delegateCount--,h.remove&&h.remove.call(e,m));0===p.length&&c!==p.length&&(h.teardown&&h.teardown.call(e,u,g.handle)!==!1||Z.removeEvent(e,a,g.handle),delete f[a])}else for(a in f)Z.event.remove(e,a+t[o],n,i,!0);Z.isEmptyObject(f)&&(delete g.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,u,c,d,f,h,p,m,g=n.type||n,v=[];if(!Oe.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!Z.event.customEvent[g]||Z.event.global[g]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Z.makeArray(i):[],i.unshift(n),f=Z.event.special[g]||{},!f.trigger||f.trigger.apply(r,i)!==!1){if(p=[[r,f.bindType||g]],!o&&!f.noBubble&&!Z.isWindow(r)){for(m=f.delegateType||g,u=Oe.test(m+g)?r:r.parentNode,c=r;u;u=u.parentNode)p.push([u,m]),c=u;c===(r.ownerDocument||H)&&p.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)u=p[l][0],n.type=p[l][1],h=(Z._data(u,"events")||{})[n.type]&&Z._data(u,"handle"),h&&h.apply(u,i),h=d&&u[d],h&&Z.acceptData(u)&&h.apply&&h.apply(u,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||f._default&&f._default.apply(r.ownerDocument,i)!==!1||"click"===g&&Z.nodeName(r,"a")||!Z.acceptData(r)||d&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Z.isWindow(r)&&(c=r[d],c&&(r[d]=null),Z.event.triggered=g,r[g](),Z.event.triggered=t,c&&(r[d]=c)),n.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||e.event);var i,r,o,s,a,l,u,c,d,f=(Z._data(this,"events")||{})[n.type]||[],h=f.delegateCount,p=V.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},v=[];if(p[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},u=[],i=0;h>i;i++)c=f[i],d=c.selector,a[d]===t&&(a[d]=c.needsContext?Z(d,this).index(o)>=0:Z.find(d,this,null,[o]).length),a[d]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(f.length>h&&v.push({elem:this,matches:f.slice(h)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,s=((Z.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,p),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||H,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i=e,r=Z.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=Z.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||H),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=H.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector;return(!r||r!==i&&!Z.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ee.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&H.addEventListener(e,i,!0)},teardown:function(){0===--n&&H.removeEventListener(e,i,!0)}}}),Z.fn.extend({on:function(e,n,i,r,s){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(e){return Z().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){Z.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+e.guid)||0)%i;return Z._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ne.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Pe.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||P;var r,o,s,a,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(s=w(t),!s&&!i&&(r=ne.exec(e)))if(a=r[1]){if(9===l){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&x(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return L.apply(n,B.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&fe&&t.getElementsByClassName)return L.apply(n,B.call(t.getElementsByClassName(a),0)),n}return m(e.replace(Q,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return $(function(t){return t=+t,$(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function a(e,t){var i,r,o,s,a,l,u,c=j[A][e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=b.preFilter;a;){(!i||(r=J.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ee.exec(a))&&(o.push(i=new N(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Q," "));for(s in b.filter)!(r=ae[s].exec(a))||u[s]&&!(r=u[s](r))||(o.push(i=new N(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return t?a.length:a?n.error(e):j(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=I++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,s){if(s){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,s))return t}else for(var a,l=M+" "+o+" ",u=l+v;t=t[i];)if(r||1===t.nodeType){if((a=t[A])===u)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[A]=u,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function d(e,t,n,i,r,o){return i&&!i[A]&&(i=d(i)),r&&!r[A]&&(r=d(r,o)),$(function(o,s,a,l){var u,d,f,h=[],m=[],g=s.length,v=o||p(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?v:c(v,h,e,a,l),b=n?r||(o?e:g||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(u=c(b,m),i(u,[],a,l),d=u.length;d--;)(f=u[d])&&(b[m[d]]=!(y[m[d]]=f));if(o){if(r||e){if(r){for(u=[],d=b.length;d--;)(f=b[d])&&u.push(y[d]=f);r(null,b=[],u,l)}for(d=b.length;d--;)(f=b[d])&&(u=r?F.call(o,f):h[d])>-1&&(o[u]=!(s[u]=f))}}else b=c(b===s?b.splice(g,b.length):b),r?r(null,s,b,l):L.apply(s,b)})}function f(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,c=l(function(e){return e===t},s,!0),h=l(function(e){return F.call(t,e)>-1},s,!0),p=[function(e,n,i){return!o&&(i||n!==S)||((t=n).nodeType?c(e,n,i):h(e,n,i))}];r>a;a++)if(n=b.relative[e[a].type])p=[l(u(p),n)];else{if(n=b.filter[e[a].type].apply(null,e[a].matches),n[A]){for(i=++a;r>i&&!b.relative[e[i].type];i++);return d(a>1&&u(p),a>1&&e.slice(0,a-1).join("").replace(Q,"$1"),n,i>a&&f(e.slice(a,i)),r>i&&f(e=e.slice(i)),r>i&&e.join(""))}p.push(n)}return u(p)}function h(e,t){var i=t.length>0,r=e.length>0,o=function(s,a,l,u,d){var f,h,p,m=[],g=0,y="0",_=s&&[],w=null!=d,x=S,C=s||r&&b.find.TAG("*",d&&a.parentNode||a),k=M+=null==x?1:Math.E;for(w&&(S=a!==P&&a,v=o.el);null!=(f=C[y]);y++){if(r&&f){for(h=0;p=e[h];h++)if(p(f,a,l)){u.push(f);break}w&&(M=k,v=++o.el)}i&&((f=!p&&f)&&g--,s&&_.push(f))}if(g+=y,i&&y!==g){for(h=0;p=t[h];h++)p(_,m,a,l);if(s){if(g>0)for(;y--;)_[y]||m[y]||(m[y]=R.call(u));m=c(m)}L.apply(u,m),w&&!s&&m.length>0&&g+t.length>1&&n.uniqueSort(u)}return w&&(M=k,S=x),_};return o.el=0,i?$(o):o}function p(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function m(e,t,n,i,r){var o,s,l,u,c,d=a(e);d.length;if(!i&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!r&&b.relative[s[1].type]){if(t=b.find.ID(l.matches[0].replace(se,""),t,r)[0],!t)return n;e=e.slice(s.shift().length)}for(o=ae.POS.test(e)?-1:s.length-1;o>=0&&(l=s[o],!b.relative[u=l.type]);o--)if((c=b.find[u])&&(i=c(l.matches[0].replace(se,""),ie.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(o,1),e=i.length&&s.join(""),!e)return L.apply(n,B.call(i,0)),n;break}}return C(e,d)(i,t,r,n,ie.test(e)),n}function g(){}var v,y,b,_,w,x,C,k,T,S,E=!0,D="undefined",A=("sizcache"+Math.random()).replace(".",""),N=String,P=e.document,O=P.documentElement,M=0,I=0,R=[].pop,L=[].push,B=[].slice,F=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},$=function(e,t){return e[A]=null==t||t,e},z=function(){var e={},t=[];return $(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},H=z(),j=z(),W=z(),q="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Y=U.replace("w","w#"),V="([*^$|!~]?=)",X="\\["+q+"*("+U+")"+q+"*(?:"+V+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Y+")|)|)"+q+"*\\]",G=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),J=new RegExp("^"+q+"*,"+q+"*"),ee=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),te=new RegExp(G),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ie=/[\x20\t\r\n\f]*[+~]/,re=/h\d/i,oe=/input|select|textarea|button/i,se=/\\(?!\\)/g,ae={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+G),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+K,"i")},le=function(e){var t=P.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ue=le(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),ce=le(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==D&&"#"===e.firstChild.getAttribute("href")}),de=le(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),fe=le(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),he=le(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",O.insertBefore(e,O.firstChild);var t=P.getElementsByName&&P.getElementsByName(A).length===2+P.getElementsByName(A+0).length;return y=!P.getElementById(A),O.removeChild(e),t});try{B.call(O.childNodes,0)[0].nodeType}catch(pe){B=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},_=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=_(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.contains=O.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:O.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=w(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||de?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:$,match:ae,attrHandle:ce?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==D&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==D&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==D&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ue?function(e,t){return typeof t.getElementsByTagName!==D?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:he&&function(e,t){return typeof t.getElementsByName!==D?t.getElementsByName(name):void 0},CLASS:fe&&function(e,t,n){return typeof t.getElementsByClassName===D||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(se,""),e[3]=(e[4]||e[5]||"").replace(se,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return ae.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(te.test(t)&&(n=a(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(se,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(se,""),function(t){var n=typeof t.getAttributeNode!==D&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(se,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[A][e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==D&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r,o){var s=n.attr(r,e);return null==s?"!="===t:t?(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.substr(s.length-i.length)===i:"~="===t?(" "+s+" ").indexOf(i)>-1:"|="===t?s===i||s.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[A]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?$(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=F.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:$(function(e){var t=[],n=[],i=C(e.replace(Q,"$1"));return i[A]?$(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:$(function(e){return function(t){return n(e,t).length>0}}),contains:$(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return re.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return oe.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k=O.compareDocumentPosition?function(e,t){return e===t?(T=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1;
}:function(e,t){if(e===t)return T=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return s(e,t);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return s(r[c],o[c]);return c===n?s(e,o[c],-1):s(r[c],t,1)},[0,0].sort(k),E=!T,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(T=E,e.sort(k),T){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C=n.compile=function(e,t){var n,i=[],r=[],o=W[A][e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)o=f(t[n]),o[A]?i.push(o):r.push(o);o=W(e,h(r,i))}return o},P.querySelectorAll&&!function(){var e,t=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector;le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),le(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,n,r,s,l){if(!s&&!l&&!o.test(e)){var u,c,d=!0,f=A,h=n,p=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=a(e),(d=n.getAttribute("id"))?f=d.replace(i,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",c=u.length;c--;)u[c]=f+u[c].join("");h=ie.test(e)&&n.parentNode||n,p=u.join(",")}if(p)try{return L.apply(r,B.call(h.querySelectorAll(p),0)),r}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,r,s,l)},l&&(le(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",G)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!w(t)&&!s.test(i)&&!o.test(i))try{var a=l.call(t,i);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(u){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Ie=/Until$/,Re=/^(?:parents|prev(?:Until|All))/,Le=/^.[^:#\[\.,]*$/,Be=Z.expr.match.needsContext,Fe={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,i,r,o,s,a=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=a.length;n>t;t++)if(Z.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,Z.find(e,this[t],s),t>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,n=Z(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Be.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Be.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),i=Z.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Z.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return Ie.test(e)||(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),r=this.length>1&&!Fe[e]?Z.unique(r):r,this.length>1&&Re.test(e)&&(r=r.reverse()),this.pushStack(r,e,V.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!Z(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var $e="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ze=/ jQuery\d+="(?:null|\d+)"/g,He=/^\s+/,je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,qe=/<tbody/i,Ue=/<|&#?\w+;/,Ye=/<(?:script|style|link)/i,Ve=/<(?:script|object|embed|option|style)/i,Xe=new RegExp("<(?:"+$e+")[\\s/>]","i"),Ge=/^(?:checkbox|radio)$/,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Qe=/\/(java|ecma)script/i,Ze=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},et=c(H),tt=et.appendChild(H.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,Z.support.htmlSerialize||(Je._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||H).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Z.filter(e,[n]).length)&&(t||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(ze,""):t;if("string"==typeof e&&!Ye.test(e)&&(Z.support.htmlSerialize||!Xe.test(e))&&(Z.support.leadingWhitespace||!He.test(e))&&!Je[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(je,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,s,a,l=0,u=e[0],c=[],f=this.length;if(!Z.support.checkClone&&f>1&&"string"==typeof u&&Ke.test(u))return this.each(function(){Z(this).domManip(e,n,i)});if(Z.isFunction(u))return this.each(function(r){var o=Z(this);e[0]=u.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=Z.buildFragment(e,this,c),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&Z.nodeName(o,"tr"),a=r.cacheable||f-1;f>l;l++)i.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===a?s:Z.clone(s,!0,!0));s=o=null,c.length&&Z.each(c,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ze,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,i){var r,o,s,a=e[0];return n=n||H,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof a&&a.length<512&&n===H&&"<"===a.charAt(0))||Ve.test(a)||!Z.support.checkClone&&Ke.test(a)||!Z.support.html5Clone&&Xe.test(a)||(o=!0,r=Z.fragments[a],s=r!==t),r||(r=n.createDocumentFragment(),Z.clean(e,n,r,i),o&&(Z.fragments[a]=s&&r)),{fragment:r,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var i,r=0,o=[],s=Z(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),Z(s[r])[t](i),o=o.concat(i);return this.pushStack(o,e,s.selector)}}),Z.extend({clone:function(e,t,n){var i,r,o,s;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Xe.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(s=tt.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(h(e,s),i=p(e),r=p(s),o=0;i[o];++o)r[o]&&h(i[o],r[o]);if(t&&(f(e,s),n))for(i=p(e),r=p(s),o=0;i[o];++o)f(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r,o,s,a,l,u,d,f,h,p,g,v=t===H&&et,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=H),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Ue.test(s)){for(v=v||c(t),d=t.createElement("div"),v.appendChild(d),s=s.replace(je,"<$1></$2>"),a=(We.exec(s)||["",""])[1].toLowerCase(),l=Je[a]||Je._default,u=l[0],d.innerHTML=l[1]+s+l[2];u--;)d=d.lastChild;if(!Z.support.tbody)for(f=qe.test(s),h="table"!==a||f?"<table>"!==l[1]||f?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=h.length-1;o>=0;--o)Z.nodeName(h[o],"tbody")&&!h[o].childNodes.length&&h[o].parentNode.removeChild(h[o]);!Z.support.leadingWhitespace&&He.test(s)&&d.insertBefore(t.createTextNode(He.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?y.push(s):Z.merge(y,s)}if(d&&(s=d=v=null),!Z.support.appendChecked)for(r=0;null!=(s=y[r]);r++)Z.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),m);if(n)for(p=function(e){return!e.type||Qe.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(s=y[r]);r++)Z.nodeName(s,"script")&&p(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),p),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(e,t){for(var n,i,r,o,s=0,a=Z.expando,l=Z.cache,u=Z.support.deleteExpando,c=Z.event.special;null!=(r=e[s]);s++)if((t||Z.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)c[o]?Z.event.remove(r,o):Z.removeEvent(r,o,n.handle);l[i]&&(delete l[i],u?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Z.deletedIds.push(i))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(W.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof e)&&(i=e(i)),Z.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(H);return e}}();var nt,it,rt,ot=/alpha\([^)]*\)/i,st=/opacity=([^)]*)/,at=/^(top|right|bottom|left)$/,lt=/^(none|table(?!-c[ea]).+)/,ut=/^margin/,ct=new RegExp("^("+J+")(.*)$","i"),dt=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),ft=new RegExp("^([-+])=("+J+")","i"),ht={BODY:"block"},pt={position:"absolute",visibility:"hidden",display:"block"},mt={letterSpacing:0,fontWeight:400},gt=["Top","Right","Bottom","Left"],vt=["Webkit","O","Moz","ms"],yt=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,i){return i!==t?Z.style(e,n,i):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?yt.apply(this,arguments):this.each(function(){(n?e:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=Z.camelCase(n),u=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(u,l)),a=Z.cssHooks[n]||Z.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:u[n];if(s=typeof i,"string"===s&&(o=ft.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Z.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var o,s,a,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),a=Z.cssHooks[n]||Z.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=nt(e,n)),"normal"===o&&n in mt&&(o=mt[n]),i||r!==t?(s=parseFloat(o),i||Z.isNumeric(s)?s||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nt=function(t,n){var i,r,o,s,a=e.getComputedStyle(t,null),l=t.style;return a&&(i=a.getPropertyValue(n)||a[n],""!==i||Z.contains(t.ownerDocument,t)||(i=Z.style(t,n)),dt.test(i)&&ut.test(n)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),i}:H.documentElement.currentStyle&&(nt=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),dt.test(r)&&!at.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&lt.test(nt(e,"display"))?Z.swap(e,pt,function(){return w(e,t,i)}):w(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?_(e,t,i,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=ot.test(o)?o.replace(ot,r):o+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nt(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var i=nt(e,t);return dt.test(i)?Z(e).position()[t]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nt(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+gt[i]+t]=r[i]||r[i-2]||r[0];return o}},ut.test(e)||(Z.cssHooks[e+t].set=b)});var bt=/%20/g,_t=/\[\]$/,wt=/\r?\n/g,xt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ct=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ct.test(this.nodeName)||xt.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e,n){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),Z.param=function(e,n){var i,r=[],o=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(i in e)C(i,e[i],n,o);return r.join("&").replace(bt,"+")};var kt,Tt,St=/#.*$/,Et=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,At=/^(?:GET|HEAD)$/,Nt=/^\/\//,Pt=/\?/,Ot=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Mt=/([?&])_=[^&]*/,It=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Rt=Z.fn.load,Lt={},Bt={},Ft=["*/"]+["*"];try{Tt=j.href}catch($t){Tt=H.createElement("a"),Tt.href="",Tt=Tt.href}kt=It.exec(Tt.toLowerCase())||[],Z.fn.load=function(e,n,i){if("string"!=typeof e&&Rt)return Rt.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),Z.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&a.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(r?Z("<div>").append(e.replace(Ot,"")).find(r):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,i,r,o){return Z.isFunction(i)&&(o=o||r,r=i,i=t),Z.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?S(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),S(e,t),e},ajaxSettings:{url:Tt,isLocal:Dt.test(kt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ft},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(Lt),ajaxTransport:k(Bt),ajax:function(e,n){function i(e,n,i,s){var u,d,y,b,w,C=n;2!==_&&(_=2,l&&clearTimeout(l),a=t,o=s||"",x.readyState=e>0?4:0,i&&(b=E(f,x,i)),e>=200&&300>e||304===e?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=x.getResponseHeader("Etag"),w&&(Z.etag[r]=w)),304===e?(C="notmodified",u=!0):(u=D(f,b),C=u.state,d=u.data,y=u.error,u=!y)):(y=C,(!C||e)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(n||C)+"",u?m.resolveWith(h,[d,C,x]):m.rejectWith(h,[x,C,y]),x.statusCode(v),v=t,c&&p.trigger("ajax"+(u?"Success":"Error"),[x,f,u?d:y]),g.fireWith(h,[x,C]),c&&(p.trigger("ajaxComplete",[x,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,u,c,d,f=Z.ajaxSetup({},n),h=f.context||f,p=h!==f&&(h.nodeType||h instanceof Z)?Z(h):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),v=f.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!_){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===_?o:null},getResponseHeader:function(e){var n;if(2===_){if(!s)for(s={};n=Et.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return _||(f.mimeType=e),this},abort:function(e){return e=e||w,a&&a.abort(e),i(0,e),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(e){if(e){var t;if(2>_)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.always(t)}return this},f.url=((e||f.url)+"").replace(St,"").replace(Nt,kt[1]+"//"),f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().split(te),null==f.crossDomain&&(u=It.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===kt[1]&&u[2]===kt[2]&&(u[3]||("http:"===u[1]?80:443))==(kt[3]||("http:"===kt[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),T(Lt,f,n,x),2===_)return x;if(c=f.global,f.type=f.type.toUpperCase(),f.hasContent=!At.test(f.type),c&&0===Z.active++&&Z.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(Pt.test(f.url)?"&":"?")+f.data,delete f.data),r=f.url,f.cache===!1)){var C=Z.now(),k=f.url.replace(Mt,"$1_="+C);f.url=k+(k===f.url?(Pt.test(f.url)?"&":"?")+"_="+C:"")}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(r=r||f.url,Z.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&x.setRequestHeader("If-None-Match",Z.etag[r])),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ft+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)x.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===_))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](f[d]);if(a=T(Bt,f,n,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},f.timeout));try{_=1,a.send(y,i)}catch(S){if(!(2>_))throw S;i(-1,S)}}else i(-1,"No Transport");return x},active:0,lastModified:{},etag:{}});var zt=[],Ht=/\?/,jt=/(=)\?(?=&|$)|\?\?/,Wt=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||Z.expando+"_"+Wt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&jt.test(u),f=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(l);return"jsonp"===n.dataTypes[0]||d||f?(o=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[o],d?n.url=u.replace(jt,"$1"+o):f?n.data=l.replace(jt,"$1"+o):c&&(n.url+=(Ht.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||Z.error(o+" was not called"),a[0]},n.dataTypes[0]="json",e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,zt.push(o)),a&&Z.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(r,o){n=H.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var qt,Ut=e.ActiveXObject?function(){for(var e in qt)qt[e](0,1)}:!1,Yt=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||N()}:A,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,u,c,d,f;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=Z.noop,Ut&&delete qt[s]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(h){}try{u=l.statusText}catch(h){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){r||o(-1,p)}d&&o(a,u,d,c)},n.async?4===l.readyState?setTimeout(i,0):(s=++Yt,Ut&&(qt||(qt={},Z(e).unload(Ut)),qt[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Vt,Xt,Gt=/^(?:toggle|show|hide)$/,Kt=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Qt=/queueHooks$/,Zt=[R],Jt={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Kt.exec(t),s=r.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],i=o[3]||(Z.cssNumber[e]?"":"px"),"px"!==i&&a){a=Z.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,Z.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};Z.Animation=Z.extend(M,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],Jt[n]=Jt[n]||[],Jt[n].unshift(t)},prefilter:function(e,t){t?Zt.unshift(e):Zt.push(e)}}),Z.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(B(t,!0),i,r,o)}}),Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),o=Z.speed(t,n,i),s=function(){var t=M(this,Z.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Qt.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Z.dequeue(this,e)})}}),Z.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=L.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,i=0;for(Vt=Z.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||Z.fx.stop(),Vt=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Xt&&(Xt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Xt),Xt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,i,r,o,s,a,l,u={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(i=d.body)===c?Z.offset.bodyOffset(c):(n=d.documentElement,Z.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=F(d),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+a-o,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Z.css(e,"position");"static"===i&&(e.style.position="relative");
var r,o,s=Z(e),a=s.offset(),l=Z.css(e,"top"),u=Z.css(e,"left"),c=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,u])>-1,d={},f={};c?(f=s.position(),r=f.top,o=f.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,i.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||H.body;e&&!en.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||H.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Z.fn[e]=function(r){return Z.access(this,function(e,r,o){var s=F(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(i?Z(s).scrollLeft():o,i?o:Z(s).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Z.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Z.access(this,function(n,i,r){var o;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Z.css(n,i,r,a):Z.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var r,o,s,a,l,u;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return u={type:r||"GET",data:s,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},a&&(u.xhrFields={withCredentials:a}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),u=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===t||a===t||n.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";"undefined"!=typeof e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(t){var i=e(this),r=i.data("method"),o=i.data("params"),s=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return a===!1?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,s=e(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===t&&(r=n.blankInputs(s,n.requiredInputSelector,!1),r&&n.fire(s,"ajax:aborted:required",[r])))return n.stopEverything(i);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,r,o){function s(){function i(){l=+new Date,r.apply(u,d)}function s(){a=t}var u=this,c=+new Date-l,d=arguments;o&&!a&&i(),a&&clearTimeout(a),o===t&&c>e?i():n!==!0&&(a=setTimeout(o?s:i,o===t?e-c:e))}var a,l=0;return"boolean"!=typeof n&&(o=r,r=n,n=t),i.guid&&(s.guid=r.guid=r.guid||i.guid++),s},i.debounce=function(e,i,r){return r===t?n(e,i,!1):n(e,r,i!==!1)}}(this),function(e){function t(e){this.size=0,this.limit=e,this._keymap={}}var n=function(e){var t,n,i={};if(""===e)return{};for(t=0;t<e.length;t+=1)n=e[t].split("="),2===n.length&&(i[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")));return i};e.queryParams=function(){return n(window.location.search.substr(1).split("&"))},e.hashParams=function(){return n(window.location.hash.substr(1).split("&"))};var i=0;window.Swiftype=window.Swiftype||{},Swiftype.root_url=Swiftype.root_url||"/search/autocomplete",Swiftype.findSelectedSection=function(){function t(e){var t=e.replace(/\s+/g,"");return t=t.toLowerCase()}var n=e.hashParams().sts;n&&(n=t(n),e("h1, h2, h3, h4, h5, h6").each(function(i){return $this=e(this),t($this.text()).indexOf(n)>=0?(this.scrollIntoView(!0),!1):void 0}))},Swiftype.htmlEscape=Swiftype.htmlEscape||function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.fn.swiftype=function(n){Swiftype.findSelectedSection();var n=e.extend({},e.fn.swiftype.defaults,n);return this.each(function(){var o=e(this),s=e.meta?e.extend({},n,o.data()):n;o.attr("autocomplete","off"),o.data("swiftype-config-autocomplete",s),o.submitted=!1,o.cache=new t(10),o.emptyQueries=[],o.isEmpty=function(t){return e.inArray(r(t),this.emptyQueries)>=0},o.addEmpty=function(e){o.emptyQueries.unshift(r(e))};var l=s.dropdownStylesFunction(o),u=e('<div class="swiftype-widget" />'),c=e("<div />").addClass(s.suggestionListClass).appendTo(u).css(l).hide();u.appendTo(s.autocompleteContainingElement);var d=e("<"+s.suggestionListType+" />").appendTo(c);o.data("swiftype-list",d),o.showList=function(){p(s.disableAutocomplete)===!1&&c.show()},o.hideList=function(e){e?c.hide():setTimeout(function(){c.hide()},10)},o.focused=function(){return o.is(":focus")},o.submitting=function(){o.submitted=!0},o.listResults=function(){return e(s.resultListSelector,d)},o.activeResult=function(){return o.listResults().filter("."+s.activeItemClass).first()},o.prevResult=function(){var e=o.listResults(),t=e.index(o.activeResult()),n=t-1,i=e.eq(n);o.listResults().removeClass(s.activeItemClass),n>=0&&i.addClass(s.activeItemClass)},o.nextResult=function(){var e=o.listResults(),t=e.index(o.activeResult()),n=t+1,i=e.eq(n);o.listResults().removeClass(s.activeItemClass),n>=0&&i.addClass(s.activeItemClass)},o.selectedCallback=function(e){return function(){var t=o.val(),n=function(){s.onComplete(e,t)};n()}},o.registerResult=function(e,t){e.data("swiftype-item",t),e.click(o.selectedCallback(t)).mouseover(function(){o.listResults().removeClass(s.activeItemClass),e.addClass(s.activeItemClass)})},o.getContext=function(){return{config:s,list:d,registerResult:o.registerResult}};var f,h=!1;o.lastValue="",o.keyup(function(e){return h?void(h=!1):void(e.which>36&&e.which<41||16==e.which||(s.typingDelay>0?(clearTimeout(f),f=setTimeout(function(){a(o)},s.typingDelay)):a(o)))}),o.styleDropdown=function(){c.css(s.dropdownStylesFunction(o))},o.keydown(function(e){o.styleDropdown();var t=o.activeResult();switch(e.which){case 13:0!==t.length&&d.is(":visible")?(e.preventDefault(),o.selectedCallback(t.data("swiftype-item"))()):o.currentRequest&&o.submitting(),o.hideList(),h=!0;break;case 38:e.preventDefault(),0===t.length?o.listResults().last().addClass(s.activeItemClass):o.prevResult();break;case 40:e.preventDefault(),0===t.length?o.listResults().first().addClass(s.activeItemClass):t!=o.listResults().last()&&o.nextResult();break;case 27:o.hideList(),h=!0;break;default:o.submitted=!1}}),o.keypress(function(e){13==e.which&&o.activeResult().length>0&&e.preventDefault()});var m=!1,g=!1;e(document).bind("mousedown.swiftype"+ ++i,function(){m=!0}),e(document).bind("mouseup.swiftype"+i,function(e){2!=e.which&&3!=e.which&&(m=!1,g&&(g=!1,o.hideList()))}),o.blur(function(){m?g=!0:o.hideList()}),o.focus(function(){setTimeout(function(){o.select()},10),o.listResults().filter(":not(."+s.noResultsClass+")").length>0&&o.showList()})})};var r=function(t){return e.trim(t).toLowerCase()},o=function(t,n){var i=(t.data("swiftype-config-autocomplete"),"/search/autocomplete/"+encodeURIComponent(n));t.currentRequest=e.ajax({type:"GET",dataType:"json",url:i}).success(function(e){var i=r(n);return e.record_count>0&&!n.startsWith("https://ipvm.com")?(t.cache.put(i,e.records),void l(t,e.records,n)):(t.addEmpty(i),t.data("swiftype-list").empty(),void t.hideList())})},s=function(e,t){var n=r(t);if(e.isEmpty(n))return e.data("swiftype-list").empty(),void e.hideList();var i=e.cache.get(n);i?l(e,i,t):o(e,t)},a=function(t){var n=t.val();if(n!==t.lastValue)return t.lastValue=n,""===e.trim(n)?(t.data("swiftype-list").empty(),void t.hideList()):void s(t,n)},l=function(e,t,n){var i=e.data("swiftype-list"),r=e.data("swiftype-config-autocomplete");i.empty(),e.hideList(!0),r.resultRenderFunction(e.getContext(),t);var o=e.listResults().length;(o>0&&e.focused()||void 0!==r.noResultsMessage)&&(e.submitted?e.submitted=!1:e.showList())},u=function(t,n){var i=t.list,r=t.config;e.each(n,function(n,o){e.each(o,function(o,s){t.registerResult(e("<li>"+r.renderFunction(n,s)+"</li>").appendTo(i),s)})})},c=function(e){var t={"forem/topic":{text:"Discussion \u2013 ",icon:'<i class="far fa-comments"></i>'},report:{text:"Report \u2013 ",icon:'<i class="fas fa-file-alt"></i>'},test:{text:"Test - ",icon:'<i class="fas fa-vial"></i>'},camera:{text:"Camera",icon:'<i class ="fas fa-camera"></i>'},website:{text:"Company",icon:'<i class ="fas fa-building"></i>'},nullType:{text:"",icon:""}};return t[e]||t.nullType},d=function(e,t){var n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=new Date(Date.parse(Swiftype.htmlEscape(t.date))),r=n[i.getMonth()]||" ",o=i.getFullYear()||" ",s="true"===t.test?"test":t.type,a=c(s).icon,l=c(s).text;return'<a href="'+Swiftype.htmlEscape(t.url)+'"><div class="row no-gutters" style="display:flex;"><div class="col-xs-1 title" style="margin-right: 10px; align-self:center;">'+a+'</div><div class="col-xs-11"><p class="title">'+Swiftype.htmlEscape(t.title)+'</p><p class="subtext">'+l+r+" "+o+"</p></div></div>"},f=function(e,t){window.location=e.url},h=function(t){var n=t.data("swiftype-config-autocomplete"),i=n.attachTo?e(n.attachTo):t,r=i.offset(),o={position:"absolute","z-index":9999,top:r.top+i.outerHeight()+1,left:r.left};return n.setWidth&&(o.width=i.outerWidth()-2),o},p=function(e){if(void 0!==e){var t=e;return"function"==typeof t&&(t=t.call()),t}return void 0};t.prototype.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():void this.size++},t.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},t.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail?n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,t?n:n.value)},t.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},t.prototype.clear=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?t.prototype.keys=function(){return Object.keys(this._keymap)}:t.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},e.fn.swiftype.defaults={activeItemClass:"active",attachTo:void 0,documentTypes:void 0,filters:void 0,engineKey:void 0,searchFields:void 0,functionalBoosts:void 0,sortField:void 0,sortDirection:void 0,fetchFields:void 0,noResultsClass:"noResults",noResultsMessage:void 0,onComplete:f,resultRenderFunction:u,renderFunction:d,dropdownStylesFunction:h,resultLimit:void 0,suggestionListType:"ul",suggestionListClass:"autocomplete",resultListSelector:"li",setWidth:!0,typingDelay:500,disableAutocomplete:!1,autocompleteContainingElement:"body"}}(jQuery),function(e){e.fn.iframeAutoHeight=function(t){function n(e){s.debug&&s.debug===!0&&window.console&&console.log(e)}function i(t,i){n("Diagnostics from '"+i+"'");try{n("  "+e(t,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight"),n("  "+e(t.contentWindow.document).height()+" for ...contentWindow.document).height()"),n("  "+e(t.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(r){n("  unable to check in this state")}n("End diagnostics -> results vary by browser and when diagnostics are requested")}var r;if(e.browser===r){var o=[];return o.push("WARNING: you appear to be using a newer version of jquery which does not support the $.browser variable."),o.push("The jQuery iframe auto height plugin relies heavly on the $.browser features."),o.push("Install jquery-browser: https://raw.github.com/house9/jquery-iframe-auto-height/master/release/jquery.browser.js"),alert(o.join("\n")),e}var s=e.extend({heightOffset:0,minHeight:0,callback:function(e){},animate:!1,debug:!1,diagnostics:!1,resetToMinHeight:!1,triggerFunctions:[],heightCalculationOverrides:[]},t);return n(s),this.each(function(){function t(e){var t=null;return jQuery.each(o,function(n,i){return e[i]?(t=a[i],!1):void 0}),null===t&&(t=a["default"]),t}function r(r){s.diagnostics&&i(r,"resizeHeight"),s.resetToMinHeight&&s.resetToMinHeight===!0&&(r.style.height=s.minHeight+"px");var o=e(r,window.top.document).contents().find("body"),a=t(e.browser),l=a(r,o,s,e.browser);n(l),l<s.minHeight&&(n("new height is less than minHeight"),l=s.minHeight+s.heightOffset),n("New Height: "+l),s.animate?e(r).animate({height:l+"px"},{duration:500}):r.style.height=l+"px",s.callback.apply(e(r),[{newFrameHeight:l}])}var o=["webkit","mozilla","msie","opera"],a=[];a["default"]=function(e,t,n,i){return t[0].scrollHeight+n.heightOffset},jQuery.each(o,function(e,t){a[t]=a["default"]}),jQuery.each(s.heightCalculationOverrides,function(e,t){a[t.browser]=t.calculation});var l=0;if(n(this),s.diagnostics&&i(this,"each iframe"),s.triggerFunctions.length>0){n(s.triggerFunctions.length+" trigger Functions");for(var u=0;u<s.triggerFunctions.length;u++)s.triggerFunctions[u](r,this)}if(e.browser.webkit||e.browser.opera){n("browser is webkit or opera"),e(this).load(function(){var e=0,t=this,i=function(){r(t)};0===l?e=500:t.style.height=s.minHeight+"px",n("load delay: "+e),setTimeout(i,e),l++});var c=e(this).attr("src");e(this).attr("src",""),e(this).attr("src",c)}else e(this).load(function(){r(this)})})}}(jQuery),function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),i=e(this).data("maxwidth"),r="",o=e(this),s=e("#"+e(this).data("tester_id"));if(r!==(r=o.val())){var a=r.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");s.html(a);var l=s.width(),u=l+t.comfortZone>=n?l+t.comfortZone:n,c=o.width(),d=c>u&&u>=n||u>n&&i>u;d&&o.width(u)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,r=e(this),o=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),s=e(this).attr("id")+"_autosize_tester";!e("#"+s).length>0&&(o.attr("id",s),o.appendTo("body")),r.data("minwidth",n),r.data("maxwidth",i),r.data("tester_id",s),r.css("width",n)},e.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var o=e(this).attr("id"),s=e(this).val().split(t[o]);if(""==s[0]&&(s=new Array),i=jQuery.trim(i),r.unique){var a=e(s).tagExist(i);1==a&&e("#"+o+"_tag").addClass("not_valid")}else var a=!1;if(""!=i&&1!=a){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("\xa0\xa0"),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+o).removeTag(escape(i))})).insertBefore("#"+o+"_addTag"),s.push(i),e("#"+o+"_tag").val(""),r.focus?e("#"+o+"_tag").focus():e("#"+o+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,s),r.callback&&n[o]&&n[o].onAddTag){var l=n[o].onAddTag;l.call(this,i)}if(n[o]&&n[o].onChange){var u=s.length,l=n[o].onChange;l.call(this,e(this),s[u-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var o=e(this).attr("id"),s=e(this).val().split(t[o]);for(e("#"+o+"_tagsinput .tag").remove(),str="",i=0;i<s.length;i++)s[i]!=r&&(str=str+t[o]+s[i]);if(e.fn.tagsInput.importTags(this,str),n[o]&&n[o].onRemoveTag){var a=n[o].onRemoveTag;a.call(this,r)}}),!1},e.fn.tagExist=function(t){return jQuery.inArray(t,e(this))>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var o=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=o.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var s='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(s=s+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),s+='</div><div class="tags_clear"></div></div>',e(s).insertAfter(this),e(o.holder).css("width",r.width),e(o.holder).css("height",r.height),""!=e(o.real_input).val()&&e.fn.tagsInput.importTags(e(o.real_input),e(o.real_input).val()),r.interactive){if(e(o.fake_input).val(e(o.fake_input).attr("data-default")),e(o.fake_input).css("color",r.placeholderColor),e(o.fake_input).resetAutosize(r),e(o.holder).bind("click",o,function(t){e(t.data.fake_input).focus()}),e(o.fake_input).bind("focus",o,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(o.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(o.fake_input).bind("result",o,function(t,n,o){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(o.fake_input).autocomplete(autocomplete_options),e(o.fake_input).bind("autocompleteselect",o,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else e(o.fake_input).bind("blur",o,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(o.fake_input).bind("keypress",o,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(r))}),o.removeWithBackspace&&e(o.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+i).removeTag(escape(n)),e(this).trigger("focus")}}),e(o.fake_input).blur(),o.unique&&e(o.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,i){var r=e(n).attr("id");e(n).val(i.join(t[r]))},e.fn.tagsInput.importTags=function(r,o){e(r).val("");var s=e(r).attr("id"),a=o.split(t[s]);for(i=0;i<a.length;i++)e(r).addTag(a[i],{focus:!1,callback:!1});if(n[s]&&n[s].onChange){var l=n[s].onChange;l.call(r,r,a[i])}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function n(e){return a.raw?e:decodeURIComponent(e)}function i(e){return t(a.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),a.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=a.raw?t:r(t);return e.isFunction(n)?n(i):i}var s=/\+/g,a=e.cookie=function(r,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[t(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],h=0,p=f.length;p>h;h++){var m=f[h].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){d=o(v,s);break}r||void 0===(v=o(v))||(d[g]=v)}return d};a.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(){var e,t,n,i,r,o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),o=e.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,n,r,o,s;for(n=new i,s=e.childNodes,r=0,o=s.length;o>r;r++)t=s[r],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){
return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},e.prototype.results_option_build=function(e){var t,n,i,r,o,s,a;for(t="",r=0,a=this.results_data,o=0,s=a.length;s>o&&(n=a[o],i="",i=n.group?this.result_add_group(n):this.result_add_option(n),""!==i&&(r++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));o++);return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(i=this.results_data,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.selected?r.push(e.selected=!1):r.push(void 0);return r},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,r,o,s,a,l,u,c,d;for(this.no_results_clear(),i=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),n=this.get_search_regex(e),d=this.results_data,u=0,c=d.length;c>u;u++)t=d[u],t.search_match=!1,r=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(r=this.results_data[t.group_array_index],0===r.active_options&&r.search_match&&(i+=1),r.active_options+=1),t.search_text=t.group?t.label:t.html,(!t.group||this.group_search)&&(t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(s=t.search_text.search(l),a=t.search_text.substr(0,s+o.length)+"</em>"+t.search_text.substr(s+o.length),t.search_text=a.substr(0,s)+"<em>"+a.substr(s)),null!=r&&(r.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>i&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},e.prototype.search_string_match=function(e,t){var n,i,r,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,o=i.length;o>r;r++)if(n=i[r],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;n>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:/IEMobile/i.test(window.navigator.userAgent)?!1:/Windows Phone/i.test(window.navigator.userAgent)?!1:/BlackBerry/i.test(window.navigator.userAgent)?!1:/BB10/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(t){var r,o;return r=e(this),o=r.data("chosen"),"destroy"===i?void(o instanceof n&&o.destroy()):void(o instanceof n||r.data("chosen",new n(this,i)))}):this}}),n=function(t){function n(){return r=n.__super__.constructor.apply(this,arguments)}return s(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},n.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(e){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,r,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(o>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},n.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var n,i,r=this;return n=e("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return r.choice_destroy_link_click(e)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,i,r,o,s,a,l,u;if(this.is_multiple){for(i=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=s.length;u>l;l++)r=s[l],o+=r+":"+this.search_field.css(r)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(t)}.call(this),function(){var e,t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,y,b,_,w,x,C,k=[].slice,T=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=window.jQuery||window.Zepto||window.$,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],e.payment.fn[n].apply(this,t)},r=/(\d{1,4})/g,e.payment.cards=i=[{type:"visaelectron",patterns:[4026,417500,4405,4508,4844,4913,4917],format:r,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",patterns:[5018,502,503,56,58,639,6220,67],format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:r,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:r,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:r,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:r,length:[16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,r,o,s,a,l,u;for(e=(e+"").replace(/\D/g,""),o=0,a=i.length;a>o;o++)for(t=i[o],u=t.patterns,s=0,l=u.length;l>s;s++)if(r=u[s],n=r+"",e.substr(0,n.length)===n)return t},n=function(e){var t,n,r;for(n=0,r=i.length;r>n;n++)if(t=i[n],t.type===e)return t},f=function(e){var t,n,i,r,o,s;for(i=!0,r=0,n=(e+"").split("").reverse(),o=0,s=n.length;s>o;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10===0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},x=function(e,t){var n,i,r;try{n=t.prop("selectionStart")}catch(o){i=o,n=null}return r=t.val(),t.val(e),null!==n&&t.is(":focus")?(n===r.length&&(n=e.length),t.prop("selectionStart",n),t.prop("selectionEnd",n)):void 0},v=function(e){var t,n,i,r,o,s,a,l;for(null==e&&(e=""),i="\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19",r="0123456789",s="",t=e.split(""),a=0,l=t.length;l>a;a++)n=t[a],o=i.indexOf(n),o>-1&&(n=r[o]),s+=n;return s},g=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var e;return e=n.val(),e=v(e),e=e.replace(/\D/g,""),x(e,n)})},p=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var t;return t=n.val(),t=v(t),t=e.payment.formatCardNumber(t),x(t,n)})},a=function(n){var i,r,o,s,a,l,u;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(i=e(n.currentTarget),u=i.val(),r=t(u+o),s=(u.replace(/\D/g,"")+o).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==u.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(u)?(n.preventDefault(),setTimeout(function(){return i.val(u+" "+o)})):a.test(u+o)?(n.preventDefault(),setTimeout(function(){return i.val(u+o+" ")})):void 0)},o=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d\s$/,""))})):/\s\d?$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d$/,""))})):void 0},m=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var t;return t=n.val(),t=v(t),t=e.payment.formatExpiry(t),x(t,n)})},l=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),setTimeout(function(){return n.val("0"+r+" / ")})):/^\d\d$/.test(r)?(t.preventDefault(),setTimeout(function(){var e,t;return e=parseInt(r[0],10),t=parseInt(r[1],10),t>2&&0!==e?n.val("0"+e+" / "+t):n.val(""+r+" / ")})):void 0):void 0},u=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},c=function(t){var n,i,r;return r=String.fromCharCode(t.which),"/"===r||" "===r?(n=e(t.currentTarget),i=n.val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0):void 0},s=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s\/\s$/.test(i)?(t.preventDefault(),setTimeout(function(){return n.val(i.replace(/\d\s\/\s$/,""))})):void 0},h=function(t){var n;return n=e(t.currentTarget),setTimeout(function(){var e;return e=n.val(),e=v(e),e=e.replace(/\D/g,"").slice(0,4),x(e,n)})},w=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},b=function(n){var i,r,o,s;return i=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(i)?(s=(i.val()+o).replace(/\D/g,""),r=t(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},_=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},y=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n)?(r=n.val()+i,r.length<=4):void 0},C=function(t){var n,r,o,s,a;return n=e(t.currentTarget),a=n.val(),s=e.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(r=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)o=i[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},e.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",y),this.on("paste",h),this.on("change",h),this.on("input",h),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",_),this.on("keypress",l),this.on("keypress",c),this.on("keypress",u),this.on("keydown",s),this.on("change",m),this.on("input",m),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",b),this.on("keypress",a),this.on("keydown",o),this.on("keyup",C),this.on("paste",p),this.on("change",p),this.on("input",p),this.on("input",C),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",g),this.on("change",g),this.on("input",g),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i,r;return r=e.split(/[\s\/]+/,2),t=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(n=t(e),n?(i=e.length,T.call(n.length,i)>=0&&(n.luhn===!1||f(e))):!1):!1},e.payment.validateCardExpiry=function(t,n){var i,r,o;return"object"==typeof t&&"month"in t&&(o=t,t=o.month,n=o.year),t&&n?(t=e.trim(t),n=e.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&t>=1&&12>=t?(2===n.length&&(n=70>n?"20"+n:"19"+n),4!==n.length?!1:(r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i)):!1):!1},e.payment.validateCardCVC=function(t,i){var r,o;return t=e.trim(t),/^\d+$/.test(t)?(r=n(i),null!=r?(o=t.length,T.call(r.cvcLength,o)>=0):t.length>=3&&t.length<=4):!1},e.payment.cardType=function(e){var n;return e?(null!=(n=t(e))?n.type:void 0)||null:null},e.payment.formatCardNumber=function(n){var i,r,o,s;return n=n.replace(/\D/g,""),(i=t(n))?(o=i.length[i.length.length-1],n=n.slice(0,o),i.format.global?null!=(s=n.match(i.format))?s.join(" "):void 0:(r=i.format.exec(n),null!=r?(r.shift(),r=e.grep(r,function(e){return e}),r.join(" ")):void 0)):n},e.payment.formatExpiry=function(e){var t,n,i,r;return(n=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=n[1]||"",i=n[2]||"",r=n[3]||"",r.length>0?i=" / ":" /"===i?(t=t.substring(0,1),i=""):2===t.length||i.length>0?i=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,i=" / "),t+i+r):""}}.call(this),function(e){e.fn.fitText=function(t,n){var i=t||1,r=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(10*i),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize)))};n(),e(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),function(e){"use strict";var t={i18n:{ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeek:["\u0412\u0441\u043a","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],
dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeek:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeek:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeek:["nd","pn","wt","\u015br","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeek:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeek:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["S\xf8n","Man","Tir","ons","Tor","Fre","l\xf8r"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,closeOnDateSelect:!1,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,i=this.length;i>n;n++)if(this[n]===e)return n;return-1}),e.fn.xdsoftScroller=function(t){return this.each(function(){var n=e(this);if(!e(this).hasClass("xdsoft_scroller_box")){var i=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else("mousedown"==e.type||"mouseup"==e.type||"mousemove"==e.type||"mouseover"==e.type||"mouseout"==e.type||"mouseenter"==e.type||"mouseleave"==e.type)&&(t.x=e.pageX,t.y=e.pageY);return t},r=0,o=n.children().eq(0),s=n[0].clientHeight,a=o[0].offsetHeight,l=e('<div class="xdsoft_scrollbar"></div>'),u=e('<div class="xdsoft_scroller"></div>'),c=100,d=!1;l.append(u),n.addClass("xdsoft_scroller_box").append(l),u.on("mousedown.xdsoft_scroller",function(i){s||n.trigger("resize_scroll.xdsoft_scroller",[t]);var o=i.pageY,a=parseInt(u.css("margin-top")),d=l[0].offsetHeight;e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function f(){e([document.body,window]).off("mouseup.xdsoft_scroller",f).off("mousemove.xdsoft_scroller",r).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",r=function(e){var t=e.pageY-o+a;0>t&&(t=0),t+u[0].offsetHeight>d&&(t=d-u[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])})}),n.on("scroll_element.xdsoft_scroller",function(e,t){s||n.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,u.css("margin-top",c*t),o.css("marginTop",-parseInt((a-s)*t))}).on("resize_scroll.xdsoft_scroller",function(e,t,i){s=n[0].clientHeight,a=o[0].offsetHeight;var r=s/a,d=r*l[0].offsetHeight;r>1?u.hide():(u.show(),u.css("height",parseInt(d>10?d:10)),c=l[0].offsetHeight-u[0].offsetHeight,i!==!0&&n.trigger("scroll_element.xdsoft_scroller",[t?t:Math.abs(parseInt(o.css("marginTop")))/(a-s)]))}),n.mousewheel&&n.mousewheel(function(e,t,i,r){var l=Math.abs(parseInt(o.css("marginTop")));return n.trigger("scroll_element.xdsoft_scroller",[(l-20*t)/(a-s)]),e.stopPropagation(),!1}),n.on("touchstart",function(e){d=i(e)}),n.on("touchmove",function(e){if(d){var t=i(e),r=Math.abs(parseInt(o.css("marginTop")));n.trigger("scroll_element.xdsoft_scroller",[(r-(t.y-d.y))/(a-s)]),e.stopPropagation(),e.preventDefault()}}),n.on("touchend touchcancel",function(e){d=!1})}n.trigger("resize_scroll.xdsoft_scroller",[t])})},e.fn.datetimepicker=function(n){var i=48,r=57,o=96,s=105,a=17,l=46,u=13,c=27,d=8,f=37,h=38,p=39,m=40,g=9,v=116,y=65,b=67,_=86,w=90,x=89,C=!1,k=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend({},t),T=0,S=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(n){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(T),T=setTimeout(function(){e.data("xdsoft_datetimepicker")||E(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})},E=function(t){function n(){var e=k.value?k.value:t&&t.val&&t.val()?t.val():"";return e&&B.isValidDate(e=Date.parseDate(e,k.format))?T.data("changed",!0):e="",e||k.startDate===!1||(e=B.strToDateTime(k.startDate)),e?e:0}var T=e("<div "+(k.id?'id="'+k.id+'"':"")+" "+(k.style?'style="'+k.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+k.className+'"></div>'),S=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),E=e('<div class="xdsoft_datepicker active"></div>'),D=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),A=e('<div class="xdsoft_calendar"></div>'),N=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),P=N.find(".xdsoft_time_box").eq(0),O=e('<div class="xdsoft_time_variant"></div>'),M=e('<div class="xdsoft_scrollbar"></div>'),I=(e('<div class="xdsoft_scroller"></div>'),e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),R=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');D.find(".xdsoft_month span").after(I),D.find(".xdsoft_year span").after(R),D.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){D.find(".xdsoft_select").hide();var n=e(this).find(".xdsoft_select").eq(0),i=0,r=0;B.currentTime&&(i=B.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n.show();for(var o=n.find("div.xdsoft_option"),s=0;s<o.length&&o.eq(s).data("value")!=i;s++)r+=o[0].offsetHeight;return n.xdsoftScroller(r/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),D.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){B&&B.currentTime&&B.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),T.trigger("xchange.xdsoft"),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(T,B.currentTime,T.data("input"))}),T.setOptions=function(n){if(k=e.extend(!0,{},k,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(k.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(k.weekends=e.extend(!0,[],n.weekends)),!k.open&&!k.opened||k.inline||t.trigger("open.xdsoft"),k.inline&&(T.addClass("xdsoft_inline"),t.after(T).hide(),T.trigger("afterOpen.xdsoft")),k.inverseButton&&(k.next="xdsoft_prev",k.prev="xdsoft_next"),k.datepicker?E.addClass("active"):E.removeClass("active"),k.timepicker?N.addClass("active"):N.removeClass("active"),k.value&&(t&&t.val&&t.val(k.value),B.setCurrentTime(k.value)),isNaN(k.dayOfWeekStart)||parseInt(k.dayOfWeekStart)<0||parseInt(k.dayOfWeekStart)>6?k.dayOfWeekStart=0:k.dayOfWeekStart=parseInt(k.dayOfWeekStart),k.timepickerScrollbar||M.hide(),k.minDate&&/^-(.*)$/.test(k.minDate)&&(k.minDate=B.strToDateTime(k.minDate).dateFormat(k.formatDate)),k.maxDate&&/^\+(.*)$/.test(k.maxDate)&&(k.maxDate=B.strToDateTime(k.maxDate).dateFormat(k.formatDate)),D.find(".xdsoft_today_button").css("visibility",k.todayButton?"visible":"hidden"),k.mask){var S=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},A=function(e,t){var e="string"==typeof e||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},P=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(t)};switch(t.off("keydown.xdsoft"),!0){case k.mask===!0:k.mask=k.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==e.type(k.mask):P(k.mask,t.val())||t.val(k.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var T=this.value,E=n.which;switch(!0){case E>=i&&r>=E||E>=o&&s>=E||E==d||E==l:var D=S(this),N=E!=d&&E!=l?String.fromCharCode(E>=o&&s>=E?E-i:E):"_";for(E!=d&&E!=l||!D||(D--,N="_");/[^0-9_]/.test(k.mask.substr(D,1))&&D<k.mask.length&&D>0;)D+=E==d||E==l?-1:1;if(T=T.substr(0,D)+N+T.substr(D+1),""==e.trim(T))T=k.mask.replace(/[0-9]/g,"_");else if(D==k.mask.length)break;for(D+=E==d||E==l?0:1;/[^0-9_]/.test(k.mask.substr(D,1))&&D<k.mask.length&&D>0;)D+=E==d||E==l?-1:1;P(k.mask,T)?(this.value=T,A(this,D)):""==e.trim(T)?this.value=k.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft");break;case!!~[y,b,_,w,x].indexOf(E)&&C:case!!~[c,h,m,f,p,v,a,g,u].indexOf(E):return!0}return n.preventDefault(),!1})}}k.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){k.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),T.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),k.format)?T.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(B.now().dateFormat(k.format)),T.data("xdsoft_datetime").setCurrentTime(e(this).val())),T.trigger("changedatetime.xdsoft")}),k.dayOfWeekStartPrev=0==k.dayOfWeekStart?6:k.dayOfWeekStart-1,T.trigger("xchange.xdsoft")},T.data("options",k).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),R.hide(),I.hide(),!1});var L=N.find(".xdsoft_time_box");L.append(O),L.xdsoftScroller(),T.on("afterOpen.xdsoft",function(){L.xdsoftScroller()}),T.append(E).append(N),k.withoutCopyright!==!0&&T.append(S),E.append(D).append(A),e("body").append(T);var B=new function(){var e=this;e.now=function(){var e=new Date;return k.yearOffset&&e.setFullYear(e.getFullYear()+k.yearOffset),e},e.currentTime=this.now(),e.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),T.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(t){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return 12==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(T,B.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return-1==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),k.onChangeMonth&&k.onChangeMonth.call&&k.onChangeMonth.call(T,B.currentTime,T.data("input")),T.trigger("xchange.xdsoft"),t},e.strToDateTime=function(t){var n,i,r=[];return(r=/^(\+|\-)(.*)$/.exec(t))&&(r[2]=Date.parseDate(r[2],k.formatDate))?(n=r[2].getTime()-1*r[2].getTimezoneOffset()*6e4,i=new Date(B.now().getTime()+parseInt(r[1]+"1")*n)):i=t?Date.parseDate(t,k.format):e.now(),e.isValidDate(i)||(i=e.now()),i},e.strtodate=function(t){var n=t?Date.parseDate(t,k.formatDate):e.now();return e.isValidDate(n)||(n=e.now()),n},e.strtotime=function(t){var n=t?Date.parseDate(t,k.formatTime):e.now();return e.isValidDate(n)||(n=e.now()),n},e.str=function(){return e.currentTime.dateFormat(k.format)}};D.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){T.data("changed",!0),B.setCurrentTime(0),T.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(B.str()),T.trigger("close.xdsoft")}),D.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,i=!1;!function r(e){B.currentTime.getMonth();t.hasClass(k.next)?B.nextMonth():t.hasClass(k.prev)&&B.prevMonth(),!i&&(n=setTimeout(r,e?e:100))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(n),i=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),N.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,i=!1,r=110;!function o(e){var s=P[0].clientHeight,a=O[0].offsetHeight,l=Math.abs(parseInt(O.css("marginTop")));t.hasClass(k.next)&&a-s-k.timeHeightInTimePicker>=l?O.css("marginTop","-"+(l+k.timeHeightInTimePicker)+"px"):t.hasClass(k.prev)&&l-k.timeHeightInTimePicker>=0&&O.css("marginTop","-"+(l-k.timeHeightInTimePicker)+"px"),P.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O.css("marginTop"))/(a-s))]),r=r>10?10:r-10,!i&&(n=setTimeout(o,e?e:r))}(500),e([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),i=!0,e([document.body,window]).off("mouseup.xdsoft",s)})});var F=0;T.on("xchange.xdsoft",function(t){clearTimeout(F),F=setTimeout(function(){for(var t="",n=new Date(B.currentTime.getFullYear(),B.currentTime.getMonth(),1,12,0,0),i=0,r=B.now();n.getDay()!=k.dayOfWeekStart;)n.setDate(n.getDate()-1);t+="<table><thead><tr>";for(var o=0;7>o;o++)t+="<th>"+k.i18n[k.lang].dayOfWeek[o+k.dayOfWeekStart>6?0:o+k.dayOfWeekStart]+"</th>";t+="</tr></thead>",t+="<tbody><tr>";var s=!1,a=!1;k.maxDate!==!1&&(s=B.strtodate(k.maxDate),s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999)),k.minDate!==!1&&(a=B.strtodate(k.minDate),a=new Date(a.getFullYear(),a.getMonth(),a.getDate()));for(var l,u,c,d=[];i<B.currentTime.getDaysInMonth()||n.getDay()!=k.dayOfWeekStart||B.currentTime.getMonth()==n.getMonth();)d=[],i++,l=n.getDate(),u=n.getFullYear(),c=n.getMonth(),d.push("xdsoft_date"),(s!==!1&&n>s||a!==!1&&a>n)&&d.push("xdsoft_disabled"),B.currentTime.getMonth()!=c&&d.push("xdsoft_other_month"),(k.defaultSelect||T.data("changed"))&&B.currentTime.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&d.push("xdsoft_current"),r.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&d.push("xdsoft_today"),(0==n.getDay()||6==n.getDay()||~k.weekends.indexOf(n.dateFormat("d.m.Y")))&&d.push("xdsoft_weekend"),t+='<td data-date="'+l+'" data-month="'+c+'" data-year="'+u+'" class="xdsoft_date xdsoft_day_of_week'+n.getDay()+" "+d.join(" ")+'"><div>'+l+"</div></td>",n.getDay()==k.dayOfWeekStartPrev&&(t+="</tr>"),n.setDate(l+1);t+="</tbody></table>",A.html(t),D.find(".xdsoft_label span").eq(0).text(k.i18n[k.lang].months[B.currentTime.getMonth()]),D.find(".xdsoft_label span").eq(1).text(B.currentTime.getFullYear());var f="",h="",c="",p=function(e,t){var n=B.now();n.setHours(e),e=parseInt(n.getHours()),n.setMinutes(t),t=parseInt(n.getMinutes()),d=[],(k.maxTime!==!1&&B.strtotime(k.maxTime).getTime()<n.getTime()||k.minTime!==!1&&B.strtotime(k.minTime).getTime()>n.getTime())&&d.push("xdsoft_disabled"),(k.initTime||k.defaultSelect||T.data("changed"))&&parseInt(B.currentTime.getHours())==parseInt(e)&&(k.step>59||Math[k.roundTime](B.currentTime.getMinutes()/k.step)*k.step==parseInt(t))&&(k.defaultSelect||T.data("changed")?d.push("xdsoft_current"):k.initTime&&d.push("xdsoft_init_time")),parseInt(r.getHours())==parseInt(e)&&parseInt(r.getMinutes())==parseInt(t)&&d.push("xdsoft_today"),f+='<div class="xdsoft_time '+d.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(k.formatTime)+"</div>"};if(k.allowTimes&&e.isArray(k.allowTimes)&&k.allowTimes.length)for(var i=0;i<k.allowTimes.length;i++)h=B.strtotime(k.allowTimes[i]).getHours(),c=B.strtotime(k.allowTimes[i]).getMinutes(),p(h,c);else for(var i=0,o=0;i<(k.hours12?12:24);i++)for(o=0;60>o;o+=k.step)h=(10>i?"0":"")+i,c=(10>o?"0":"")+o,p(h,c);O.html(f);var m="",i=0;for(i=parseInt(k.yearStart,10)+k.yearOffset;i<=parseInt(k.yearEnd,10)+k.yearOffset;i++)m+='<div class="xdsoft_option '+(B.currentTime.getFullYear()==i?"xdsoft_current":"")+'" data-value="'+i+'">'+i+"</div>";for(R.children().eq(0).html(m),i=0,m="";11>=i;i++)m+='<div class="xdsoft_option '+(B.currentTime.getMonth()==i?"xdsoft_current":"")+'" data-value="'+i+'">'+k.i18n[k.lang].months[i]+"</div>";I.children().eq(0).html(m),e(this).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(k.timepicker){var e;if(O.find(".xdsoft_current").length?e=".xdsoft_current":O.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e){var t=P[0].clientHeight,n=O[0].offsetHeight,i=O.find(e).index()*k.timeHeightInTimePicker+1;i>n-t&&(i=n-t),O.css("marginTop","-"+parseInt(i)+"px"),P.trigger("scroll_element.xdsoft_scroller",[parseInt(i)/(n-t)])}}});var $=0;A.on("click.xdsoft","td",function(n){n.stopPropagation(),$++;var i=e(this),r=B.currentTime;return i.hasClass("xdsoft_disabled")?!1:(r.setDate(i.data("date")),r.setMonth(i.data("month")),r.setFullYear(i.data("year")),T.trigger("select.xdsoft",[r]),t.val(B.str()),($>1||k.closeOnDateSelect===!0||0===k.closeOnDateSelect&&!k.timepicker)&&!k.inline&&T.trigger("close.xdsoft"),k.onSelectDate&&k.onSelectDate.call&&k.onSelectDate.call(T,B.currentTime,T.data("input")),T.data("changed",!0),T.trigger("xchange.xdsoft"),T.trigger("changedatetime.xdsoft"),void setTimeout(function(){$=0},200))}),O.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),i=B.currentTime;return n.hasClass("xdsoft_disabled")?!1:(i.setHours(n.data("hour")),i.setMinutes(n.data("minute")),T.trigger("select.xdsoft",[i]),T.data("input").val(B.str()),!k.inline&&T.trigger("close.xdsoft"),k.onSelectTime&&k.onSelectTime.call&&k.onSelectTime.call(T,B.currentTime,T.data("input")),T.data("changed",!0),T.trigger("xchange.xdsoft"),void T.trigger("changedatetime.xdsoft"))}),T.mousewheel&&E.mousewheel(function(e,t,n,i){return k.scrollMonth?(0>t?B.nextMonth():B.prevMonth(),!1):!0}),T.mousewheel&&P.unmousewheel().mousewheel(function(e,t,n,i){if(!k.scrollTime)return!0;var r=P[0].clientHeight,o=O[0].offsetHeight,s=Math.abs(parseInt(O.css("marginTop"))),a=!0;return 0>t&&o-r-k.timeHeightInTimePicker>=s?(O.css("marginTop","-"+(s+k.timeHeightInTimePicker)+"px"),a=!1):t>0&&s-k.timeHeightInTimePicker>=0&&(O.css("marginTop","-"+(s-k.timeHeightInTimePicker)+"px"),a=!1),P.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(O.css("marginTop"))/(o-r))]),e.stopPropagation(),a}),T.on("changedatetime.xdsoft",function(){if(k.onChangeDateTime&&k.onChangeDateTime.call){var e=T.data("input");k.onChangeDateTime.call(T,B.currentTime,e),e.trigger("change")}}).on("generate.xdsoft",function(){k.onGenerate&&k.onGenerate.call&&k.onGenerate.call(T,B.currentTime,T.data("input"))});var z=0;t.mousewheel&&t.mousewheel(function(e,n,i,r){return k.scrollInput?!k.datepicker&&k.timepicker?(z=O.find(".xdsoft_current").length?O.find(".xdsoft_current").eq(0).index():0,z+n>=0&&z+n<O.children().length&&(z+=n),O.children().eq(z).length&&O.children().eq(z).trigger("mousedown"),!1):k.datepicker&&!k.timepicker?(E.trigger(e,[n,i,r]),t.val&&t.val(B.str()),T.trigger("changedatetime.xdsoft"),!1):void 0:!0});var H=function(){var t=T.data("input").offset(),n=t.top+T.data("input")[0].offsetHeight-1,i=t.left;n+T[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-T[0].offsetHeight+1),0>n&&(n=0),i+T[0].offsetWidth>e(window).width()&&(i=t.left-T[0].offsetWidth+T.data("input")[0].offsetWidth),T.css({left:i,top:n})};T.on("open.xdsoft",function(){var t=!0;k.onShow&&k.onShow.call&&(t=k.onShow.call(T,B.currentTime,T.data("input"))),t!==!1&&(T.show(),T.trigger("afterOpen.xdsoft"),H(),e(window).off("resize.xdsoft",H).on("resize.xdsoft",H),k.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function n(){T.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",n)}))}).on("close.xdsoft",function(e){var t=!0;k.onClose&&k.onClose.call&&(t=k.onClose.call(T,B.currentTime,T.data("input"))),t===!1||k.opened||k.inline||T.hide(),e.stopPropagation()}).data("input",t);var j=0;T.data("xdsoft_datetime",B),T.setOptions(k),B.setCurrentTime(n()),T.trigger("afterOpen.xdsoft"),t.data("xdsoft_datetimepicker",T).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(clearTimeout(j),j=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(B.setCurrentTime(n()),T.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n=(this.value,t.which);switch(!0){case!!~[u].indexOf(n):var i=e("input:visible,textarea:visible");return T.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1;case!!~[g].indexOf(n):return T.trigger("close.xdsoft"),!0}})},D=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())};return e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode==a&&(C=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode==a&&(C=!1)}),this.each(function(){var t;if(t=e(this).data("xdsoft_datetimepicker")){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":D(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,k.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(n);return 0}"string"!==e.type(n)&&(!k.lazyInit||k.open||k.inline?E(e(this)):S(e(this)))})}}(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var i=new String(e);for(null==n&&(n=" ");i.length<t;)i=n+i;return i},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",
MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r,o=t||window.event,s=[].slice.call(arguments,1),a=0,l=0,u=0,c=0,d=0;return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(a=o.wheelDelta),o.detail&&(a=-1*o.detail),o.deltaY&&(u=-1*o.deltaY,a=u),o.deltaX&&(l=o.deltaX,a=-1*l),void 0!==o.wheelDeltaY&&(u=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),c=Math.abs(a),(!n||n>c)&&(n=c),d=Math.max(Math.abs(u),Math.abs(l)),(!i||i>d)&&(i=d),r=a>0?"floor":"ceil",a=Math[r](a/n),l=Math[r](l/i),u=Math[r](u/i),s.unshift(t,a,l,u),(e.event.dispatch||e.event.handle).apply(this,s)}var n,i,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),window.TinyMCERails={configuration:{"default":{}},initialize:function(e,t){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[e||"default"];n=TinyMCERails._merge(n,t),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(e,t)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var e={},t=0;t<arguments.length;++t){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?e[i]=TinyMCERails._merge(e[i],n[i]):e[i]=n[i])}return e}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"https://drafe9icih5i1.cloudfront.net/assets/tinymce",suffix:""},function(){!function(){"use strict";function e(){function e(n,i){return t.push(n+" ")>Kt.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function t(e){return e[pn]=!0,e}function n(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Cn)-(~e.sourceIndex||Cn);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return t(function(n){return n=+n,t(function(t,i){for(var r,o=e([],t.length,n),s=o.length;s--;)t[r=o[s]]&&(t[r]=!(i[r]=t[r]))})})}function s(e){return e&&typeof e.getElementsByTagName!==xn&&e}function a(){}function l(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function u(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=vn++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u=[gn,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[pn]||(t[pn]={}),(a=l[i])&&a[0]===gn&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function c(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function d(e,t,n){for(var i=0,r=t.length;r>i;i++)Zn(e,t[i],n);return n}function f(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function h(e,n,i,r,o,s){return r&&!r[pn]&&(r=h(r)),o&&!o[pn]&&(o=h(o,s)),t(function(t,s,a,l){var u,c,h,p=[],m=[],g=s.length,v=t||d(n||"*",a.nodeType?[a]:a,[]),y=!e||!t&&n?v:f(v,p,e,a,l),b=i?o||(t?e:g||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(u=f(b,m),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[m[c]]=!(y[m[c]]=h));if(t){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?Nn.call(t,h):p[c])>-1&&(t[u]=!(s[u]=h))}}else b=f(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):Dn.apply(s,b)})}function p(e){for(var t,n,i,r=e.length,o=Kt.relative[e[0].type],s=o||Kt.relative[" "],a=o?1:0,d=u(function(e){return e===t},s,!0),f=u(function(e){return Nn.call(t,e)>-1},s,!0),m=[function(e,n,i){return!o&&(i||n!==nn)||((t=n).nodeType?d(e,n,i):f(e,n,i))}];r>a;a++)if(n=Kt.relative[e[a].type])m=[u(c(m),n)];else{if(n=Kt.filter[e[a].type].apply(null,e[a].matches),n[pn]){for(i=++a;r>i&&!Kt.relative[e[i].type];i++);return h(a>1&&c(m),a>1&&l(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(Ln,"$1"),n,i>a&&p(e.slice(a,i)),r>i&&p(e=e.slice(i)),r>i&&l(e))}m.push(n)}return c(m)}function m(e,n){var i=n.length>0,r=e.length>0,o=function(t,o,s,a,l){var u,c,d,h=0,p="0",m=t&&[],g=[],v=nn,y=t||r&&Kt.find.TAG("*",l),b=gn+=null==v?1:Math.random()||.1,_=y.length;for(l&&(nn=o!==an&&o);p!==_&&null!=(u=y[p]);p++){if(r&&u){for(c=0;d=e[c++];)if(d(u,o,s)){a.push(u);break}l&&(gn=b)}i&&((u=!d&&u)&&h--,t&&m.push(u))}if(h+=p,i&&p!==h){for(c=0;d=n[c++];)d(m,g,o,s);if(t){if(h>0)for(;p--;)m[p]||g[p]||(g[p]=Sn.call(a));g=f(g)}Dn.apply(a,g),l&&!t&&g.length>0&&h+n.length>1&&Zn.uniqueSort(a)}return l&&(gn=b,nn=v),m};return i?t(o):o}function g(e,t,n){var i=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!i,o=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,a=i||o||s&&/mobile/i.test(n)===!0,l=e.isiOS()||e.isAndroid(),u=l&&!a,c=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:ve(i),isiPhone:ve(r),isTablet:ve(a),isPhone:ve(u),isTouch:ve(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ve(c)}}function v(e,t){var n,i=0,r={};t=t||{},n=t.maxLoadTime||5e3;var o=function(t){e.getElementsByTagName("head")[0].appendChild(t)},s=function(t,s,a){var l,u,c,d,f=function(){for(var e=d.passed,t=e.length;t--;)e[t]();d.status=2,d.passed=[],d.failed=[]},h=function(){for(var e=d.failed,t=e.length;t--;)e[t]();d.status=3,d.passed=[],d.failed=[]},p=function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},m=function(e,t){e()||((new Date).getTime()-c<n?Rt.setTimeout(t):h())},g=function(){m(function(){for(var t,n,i=e.styleSheets,r=i.length;r--;)if(t=i[r],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===l.id)return f(),!0},g)},v=function(){m(function(){try{var e=u.sheet.cssRules;return f(),!!e}catch(t){}},v)};if(t=xi._addCacheSuffix(t),r[t]?d=r[t]:(d={passed:[],failed:[]},r[t]=d),s&&d.passed.push(s),a&&d.failed.push(a),1!==d.status){if(2===d.status)return void f();if(3===d.status)return void h();if(d.status=1,l=e.createElement("link"),l.rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,c=(new Date).getTime(),"onload"in l&&!p())l.onload=g,l.onerror=h;else{if(navigator.userAgent.indexOf("Firefox")>0)return u=e.createElement("style"),u.textContent='@import "'+t+'"',v(),void o(u);g()}o(l),l.href=t}},a=function(e){return Xs.nu(function(t){s(e,ge(t,ve(Js.value(e))),ge(t,ve(Js.error(e))))})},l=function(e){return e.fold(ye,ye)},u=function(e,t,n){Ks(We(e,a)).get(function(e){var i=Ye(e,function(e){return e.isValue()});i.fail.length>0?n(i.fail.map(l)):t(i.pass.map(l))})};return{load:s,loadAll:u}}function y(e,t){var n=e,i=function(e,n,i,r){var o,s;if(e){if(!r&&e[n])return e[n];if(e!==t){if(o=e[i])return o;for(s=e.parentNode;s&&s!==t;s=s.parentNode)if(o=s[i])return o}}},r=function(e,n,i,r){var o,s,a;if(e){if(o=e[i],t&&o===t)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if(s=e.parentNode,s&&s!==t)return s}};this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=r(n,"lastChild","previousSibling",e)}}function b(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,p={},m={},g=[],v={},y={},b=function(t,n,i){var r=e[t];return r?r=sl(r,/[, ]/,sl(r.toUpperCase(),/[, ]/)):(r=rl[t],r||(r=sl(n," ",sl(n.toUpperCase()," ")),r=ll(r,i),rl[t]=r)),r};e=e||{},i=fl(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),t=hl(e.valid_styles),n=hl(e.invalid_styles,"map"),l=hl(e.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=b("non_empty_elements","td th iframe video audio object script pre code",s),d=b("move_caret_before_on_enter_elements","table",c),f=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),u=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),h=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),al((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var _=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,v,y,b,w,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=dl(e,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),t=0,n=e.length;n>t;t++)if(o=C.exec(e[t])){if(m=o[1],u=o[2],v=o[3],l=o[5],f={},h=[],s={attributes:f,attributesOrder:h},"#"===m&&(s.paddEmpty=!0),"-"===m&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),y){for(w in y)f[w]=y[w];h.push.apply(h,b)}if(l)for(l=dl(l,"|"),i=0,r=l.length;r>i;i++)if(o=k.exec(l[i])){if(a={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),m=o[3],x=o[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete f[c],h.splice(cl(h,c),1);continue}m&&("="===m&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:x}),a.defaultValue=x),":"===m&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:x}),a.forcedValue=x),"<"===m&&(a.validValues=sl(x,"?"))),T.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=_(c),s.attributePatterns.push(a)):(f[c]||h.push(c),f[c]=a)}y||"@"!==u||(y=f,b=h),v&&(s.outputName=u,p[v]=s),T.test(u)?(s.pattern=_(u),g.push(s)):p[u]=s}},x=function(e){p={},g=[],w(e),al(i,function(e,t){m[t]=e.children})},C=function(e){var t=/^(~)?(.+)$/;e&&(rl.text_block_elements=rl.block_elements=null,al(dl(e,","),function(e){var n=t.exec(e),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],v[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var s=p[r];s=ll({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,p[o]=s}al(m,function(e,t){e[r]&&(m[t]=e=ll({},m[t]),e[o]=e[r])})}))},k=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;rl[e.schema]=null,t&&al(dl(t,","),function(e){var t,i,r=n.exec(e);r&&(i=r[1],t=i?m[r[2]]:m[r[2]]={"#comment":{}},t=m[r[2]],al(dl(r[3],"|"),function(e){"-"===i?delete t[e]:t[e]={}}))})},T=function(e){var t,n=p[e];if(n)return n;for(t=g.length;t--;)if(n=g[t],n.pattern.test(e))return n};e.valid_elements?x(e.valid_elements):(al(i,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children}),"html5"!==e.schema&&al(dl("strong/b em/i"),function(e){e=dl(e,"/"),p[e[1]].outputName=e[0]}),al(dl("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),al(dl("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),al(dl("span"),function(e){p[e].removeEmptyAttrs=!0})),C(e.custom_elements),k(e.valid_children),w(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),al({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=dl(e))}),e.invalid_elements&&al(ul(e.invalid_elements),function(e){p[e]&&delete p[e]}),T("span")||w("span[!data-mce-type|*]");var S=function(){return t},E=function(){return n},D=function(){return l},A=function(){return a},N=function(){return u},P=function(){return f},O=function(){return h},M=function(){return s},I=function(){return o},R=function(){return c},L=function(){return d},B=function(){return r},F=function(){return y},$=function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},z=function(e,t){var n,i,r=T(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},H=function(){return v};return{children:m,elements:p,getValidStyles:S,getValidClasses:D,getBlockElements:N,getInvalidStyles:E,getShortEndedElements:M,getTextBlockElements:P,getTextInlineElements:O,getBoolAttrs:A,getElementRule:T,getSelfClosingElements:I,getNonEmptyElements:R,getMoveCaretBeforeOnEnterElements:L,getWhiteSpaceElements:B,getSpecialElements:F,isValidChild:$,isValid:z,getCustomElements:H,addValidElements:w,setValidElements:x,addCustomElements:C,addValidChildren:k}}function _(e,t){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="\ufeff";for(e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)c[i[n]]=d+n,c[d+n]=i[n];return{toHex:function(e){return e.replace(s,pl)},parse:function(t){var i,r,o,f,h={},p=e.url_converter,m=e.url_converter_scope||this,g=function(e,t,i){var r,o,s,a;if(r=h[e+"-top"+t],r&&(o=h[e+"-right"+t],o&&(s=h[e+"-bottom"+t],s&&(a=h[e+"-left"+t])))){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(h[e+t]=-1===n?l[0]:l.join(" "),delete h[e+"-top"+t],delete h[e+"-right"+t],delete h[e+"-bottom"+t],delete h[e+"-left"+t])}},v=function(e){var t,n=h[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return h[e]=n[0],!0}},y=function(e,t,n,i){v(t)&&v(n)&&v(i)&&(h[e]=h[t]+" "+h[n]+" "+h[i],delete h[t],delete h[n],delete h[i])},b=function(e){return f=!0,c[e]},_=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},w=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},x=function(e){return e.replace(/\\[0-9a-f]+/gi,w)},C=function(t,n,i,r,o,s){if(o=o||s)return o=_(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=_(n||i||r),!e.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,b)});i=l.exec(t);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(u,"").toLowerCase(),o=i[2].replace(u,""),r&&o){if(r=x(r),o=x(o),-1!==r.indexOf(d)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":("color"===r||"background-color"===r)&&(o=o.toLowerCase()),o=o.replace(s,pl),o=o.replace(a,C),h[r]=f?_(o,!0):o}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),y("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(e,t){var n,i,s="",a=function(t){var n,i,o,a;if(n=r[t])for(i=0,o=n.length;o>i;i++)t=n[i],a=e[t],a&&(s+=(s.length>0?" ":"")+t+": "+a+";")},l=function(e,t){var n;return n=o["*"],n&&n[e]?!1:(n=o[t],n&&n[e]?!1:!0)};if(t&&r)a("*"),a(t);else for(n in e)i=e[n],!i||o&&!l(n,t)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}}function w(e,t){var n=this;void 0===t&&(t={});var i,r={},o=window,s={},a=0,l=!0,u=!0,c=v(e),d=[],f=t.schema?t.schema:b({}),h=_({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new Vt(t.proxy):Vt.Event,m=f.getBlockElements(),g=ji.overrideDefaults(function(){return{context:e,element:Pe.getRoot()}}),x=function(e){if("string"==typeof e)return!!m[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!m[e.nodeName])}return!1},C=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},k=function(e){return"string"==typeof e&&(e=C(e)),g(e)},T=function(e,t,n){var r,o,s=k(e);return s.length&&(r=i[t],o=r&&r.get?r.get(s,t):s.attr(t)),"undefined"==typeof o&&(o=n||""),o},S=function(e){var t=C(e);return t?t.attributes:[]},E=function(e,n,r){var o,s;""===r&&(r=null);var a=k(e);o=a.attr(n),a.length&&(s=i[n],s&&s.set?s.set(a,r,n):a.attr(n,r),o!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:a,attrName:n,attrValue:r}))},D=function(t,n){if(!vl||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var i=e.createElement(t.nodeName);return ml(S(t),function(e){E(i,e.nodeName,T(t,e.nodeName))}),i}return null},A=function(){return t.root_element||e.body},N=function(e){var t=e?e:o,n=t.document,i=u?n.documentElement:n.body;return{x:t.pageXOffset||i.scrollLeft,y:t.pageYOffset||i.scrollTop,w:t.innerWidth||i.clientWidth,h:t.innerHeight||i.clientHeight}},P=function(t,n){return Hs.getPos(e.body,C(t),n)},O=function(e,n,i){var r=k(e).css(n,i);t.update_styles&&wl(h,r)},M=function(e,n){var i=k(e).css(n);t.update_styles&&wl(h,i)},I=function(e,t,n){var i=k(e);return n?i.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=St.ie&&St.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},R=function(e){var t,n;return e=C(e),t=I(e,"width"),n=I(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},L=function(e){var t,n;return e=C(e),t=P(e),n=R(e),{x:t.x,y:t.y,w:n.w,h:n.h}},B=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(yl.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return Zn(t,o[0].ownerDocument||o[0],null,o).length>0},F=function(e,t,n,i){var r,o=[],s=C(e);for(i=void 0===i,n=n||("BODY"!==A().nodeName?A().parentNode:null),xi.is(t,"string")&&(r=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return B(e,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!t||"function"==typeof t&&t(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},$=function(e,t,n){var i=F(e,t,n,!1);return i&&i.length>0?i[0]:null},z=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return B(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},H=function(e,t){return z(e,t,"nextSibling")},j=function(e,t){return z(e,t,"previousSibling")},W=function(n,i){return Zn(n,C(i)||t.root_element||e,[])},q=function(e,t,i){var r,o="string"==typeof e?C(e):e;if(!o)return!1;if(xi.isArray(o)&&(o.length||0===o.length))return r=[],ml(o,function(e,n){e&&("string"==typeof e&&(e=C(e)),r.push(t.call(i,e,n)))}),r;var s=i?i:n;return t.call(s,o)},U=function(e,t){k(e).each(function(e,n){ml(t,function(e,t){E(n,t,e)})})},Y=function(e,t){var n=k(e);vl?n.each(function(e,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(i){ji("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},V=function(t,n,i,r,o){return q(t,function(t){var s="string"==typeof n?e.createElement(n):n;return U(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&Y(s,r)),o?s:t.appendChild(s)})},X=function(t,n,i){return V(e.createElement(t),t,n,i,!0)},G=il.decode,K=il.encodeAllRaw,Q=function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+K(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},Z=function(t){var n,i=e.createElement("div"),r=e.createDocumentFragment();for(t&&(i.innerHTML=t);n=i.firstChild;)r.appendChild(n);return r},J=function(e,t){var n=k(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},ee=function(e){return q(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},te=function(e){return h.parse(e)},ne=function(e,t){return h.serialize(e,t)},ie=function(t){var n,i;if(Pe!==w.DOM&&e===document){if(r[t])return;r[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",n=e.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},re=function(t){var n;return Pe!==w.DOM&&e===document?void w.DOM.loadCSS(t):(t||(t=""),n=e.getElementsByTagName("head")[0],void ml(t.split(","),function(e){var t;e=xi._addCacheSuffix(e),s[e]||(s[e]=!0,t=X("link",{rel:"stylesheet",href:e}),n.appendChild(t))}))},oe=function(e,t,n){k(e).toggleClass(t,n).each(function(){""===this.className&&ji(this).attr("class",null)})},se=function(e,t){k(e).addClass(t)},ae=function(e,t){oe(e,t,!1)},le=function(e,t){return k(e).hasClass(t)},ue=function(e){k(e).show()},ce=function(e){k(e).hide()},de=function(e){return"none"===k(e).css("display")},fe=function(e){return(e?e:"mce_")+a++},he=function(e){var t="string"==typeof e?C(e):e;return Fa.isElement(t)?t.outerHTML:ji("<div></div>").append(ji(t).clone()).html()},pe=function(e,t){k(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}J(ji(this).html(t),!0)})},me=function(e,t){var n=C(t);return q(e,function(e){var t,i;return t=n.parentNode,i=n.nextSibling,i?t.insertBefore(e,i):t.appendChild(e),e})},ge=function(e,t,n){return q(t,function(t){return xi.is(t,"array")&&(e=e.cloneNode(!0)),n&&ml(gl(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},ve=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=X(t),ml(S(e),function(t){E(n,t.nodeName,T(e,t.nodeName))}),ge(n,e,!0)),n||e},ye=function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},be=function(e){return h.toHex(xi.trim(e))},_e=function(e,t){var n,i,r,o,s,a,l=0;if(e=e.firstChild){s=new y(e,e.parentNode),t=t||(f?f.getNonEmptyElements():null),o=f?f.getWhiteSpaceElements():{};do{if(r=e.nodeType,Fa.isElement(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=s.next("all"===u);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"===a){l++,e=s.next();continue}return!1}for(i=S(e),n=i.length;n--;)if(a=i[n].nodeName,"name"===a||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!bl.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&bl.test(e.nodeValue))return!1;e=s.next()}while(e)}return 1>=l},we=function(){return e.createRange()},xe=function(e,t,n){var i,r,o,s=we();return e&&t?(s.setStart(e.parentNode,xl(e)),s.setEnd(t.parentNode,xl(t)),i=s.extractContents(),s=we(),s.setStart(t.parentNode,xl(t)+1),s.setEnd(e.parentNode,xl(e)+1),r=s.extractContents(),o=e.parentNode,o.insertBefore(ja.trimNode(Pe,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(ja.trimNode(Pe,r),e),J(e),n||t):void 0},Ce=function(n,i,r,s){if(xi.isArray(n)){for(var a=n.length;a--;)n[a]=Ce(n[a],i,r,s);return n}return!t.collect||n!==e&&n!==o||d.push([n,i,r,s]),p.bind(n,i,r,s||Pe)},ke=function(t,n,i){var r;if(xi.isArray(t)){for(r=t.length;r--;)t[r]=ke(t[r],n,i);return t}if(d&&(t===e||t===o))for(r=d.length;r--;){var s=d[r];t!==s[0]||n&&n!==s[1]||i&&i!==s[2]||p.unbind(s[0],s[1],s[2])}return p.unbind(t,n,i)},Te=function(e,t,n){return p.fire(e,t,n)},Se=function(e){if(e&&Fa.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Ee=function(e){for(var t=A(),n=null;e&&e!==t&&(n=Se(e),null===n);e=e.parentNode);return n},De=function(){if(d)for(var e=d.length;e--;){var t=d[e];p.unbind(t[0],t[1],t[2])}Zn.setDocument&&Zn.setDocument()},Ae=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},Ne=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Pe={doc:e,settings:t,win:o,files:s,stdMode:l,boxModel:u,styleSheetLoader:c,boundEvents:d,styles:h,schema:f,events:p,isBlock:x,$:g,$$:k,root:null,clone:D,getRoot:A,getViewPort:N,getRect:L,getSize:R,getParent:$,getParents:F,get:C,getNext:H,getPrev:j,select:W,is:B,add:V,create:X,createHTML:Q,createFragment:Z,remove:J,setStyle:O,getStyle:I,setStyles:M,removeAllAttribs:ee,setAttrib:E,setAttribs:U,getAttrib:T,getPos:P,parseStyle:te,serializeStyle:ne,addStyle:ie,loadCSS:re,addClass:se,removeClass:ae,hasClass:le,toggleClass:oe,show:ue,hide:ce,isHidden:de,uniqueId:fe,setHTML:Y,getOuterHTML:he,setOuterHTML:pe,decode:G,encode:K,insertAfter:me,replace:ge,rename:ve,findCommonAncestor:ye,toHex:be,run:q,getAttribs:S,isEmpty:_e,createRng:we,nodeIndex:xl,split:xe,bind:Ce,unbind:ke,fire:Te,getContentEditable:Se,getContentEditableParent:Ee,destroy:De,isChildOf:Ae,dumpRng:Ne};return i=_l(h,t,function(){return Pe}),Pe}function x(){var e=this,t=[],n={},i={},r=[],o=function(e){return i[e]?i[e].instance:void 0},s=function(e){var t;return i[e]&&(t=i[e].dependencies),t||[]},a=function(e,t){var i=x.language;if(i&&x.languageLoad!==!1){if(t)if(t=","+t+",",-1!==t.indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===t.indexOf(","+i+","))return;Dl.ScriptLoader.add(n[e]+"/langs/"+i+".js")}},l=function(e,n,o){t.push(n),i[e]={instance:n,dependencies:o};var s=Ye(r,function(t){return t.name===e});return r=s.fail,Al(s.pass,function(e){e.callback()}),n},u=function(e){delete n[e],delete i[e]},c=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(t,n){var i=e.urls[t];Al(n,function(e){Dl.ScriptLoader.add(i+"/"+e)})},f=function(e,t,n,i){var r=s(e);Al(r,function(e){var n=c(t,e);h(n.resource,n,void 0,void 0)}),n&&(i?n.call(i):n.call(Dl))},h=function(e,t,r,o,s){if(!n[e]){var a="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=x.baseURL+"/"+a),n[e]=a.substring(0,a.lastIndexOf("/")),i[e]?f(e,t,r,o):Dl.ScriptLoader.add(a,function(){return f(e,t,r,o)},o,s)}},p=function(e,t){i.hasOwnProperty(e)?t():r.push({name:e,callback:t})};return{items:t,urls:n,lookup:i,_listeners:r,get:o,dependencies:s,requireLangPack:a,add:l,remove:u,createUrl:c,addComponents:d,load:h,waitFor:p}}function C(e,t,n){var i=n||!1,r=function(){t(),i=!0},o=function(){e(),i=!1},s=function(){var e=i?o:r;e()},a=function(){return i};return{on:r,off:o,toggle:s,isOn:a}}function k(e,t,n,i,r){return e(n,i)?Ae.some(n):Be(r)&&r(n)?Ae.none():t(n,i,r)}function T(e,t,n){var i=function(){return Cd(e)?0===t:0===t},r=function(){return Cd(e)?t>=e.data.length:t>=e.childNodes.length},o=function(){var n;return n=Ed(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},s=function(){return n||(n=Ld(T(e,t))),n},a=function(){return s().length>0},l=function(n){return n&&e===n.container()&&t===n.offset()},u=function(n){return Sd(e,n?t-1:t)};return{container:bc.constant(e),offset:bc.constant(t),toRange:o,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:r,isEqual:l,getNode:u}}function S(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return s(n).getOr("")},i=function(e){try{return r(e)}catch(t){return Ae.none()}},r=function(t){return e(t)?Ae.from(t.dom().nodeValue):Ae.none()},o=qr.detect().browser,s=o.isIE()&&10===o.version.major?i:r,a=function(n,i){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=i};return{get:n,getOption:s,set:a}}function E(e){var t=Vu();Yu(e,t);var n=Uu(e,t);return{register:function(e,n){t.register(e,n)},annotate:function(n,i){t.lookup(n).each(function(t){gg(e,n,t,i)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Hu(e,Ae.some(t)).each(function(e){var t=e.elements;qe(t,Ul.unwrap)})},getAll:function(t){var n=qu(e,t);return uo(n,function(e){return We(e,function(e){return e.dom()})})}}}function D(e){var t,n,i,r,o,s=[];return e=e||{},t=e.indent,n=Xg(e.indent_before||""),i=Xg(e.indent_after||""),r=il.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,a,l){var u,c,d,f;if(t&&n[e]&&s.length>0&&(f=s[s.length-1],f.length>0&&"\n"!==f&&s.push("\n")),s.push("<",e),a)for(u=0,c=a.length;c>u;u++)d=a[u],s.push(" ",d.name,'="',r(d.value,!0),'"');!l||o?s[s.length]=">":s[s.length]=" />",l&&t&&i[e]&&s.length>0&&(f=s[s.length-1],f.length>0&&"\n"!==f&&s.push("\n"))},end:function(e){var n;s.push("</",e,">"),t&&i[e]&&s.length>0&&(n=s[s.length-1],n.length>0&&"\n"!==n&&s.push("\n"))},text:function(e,t){e.length>0&&(s[s.length]=t?e:r(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("<!--",e,"-->")},pi:function(e,n){n?s.push("<?",e," ",r(n),"?>"):s.push("<?",e,"?>"),t&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function A(e,t){void 0===t&&(t=b());var n=D(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(i){var r,o;o=e.validate,r={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do s(e);while(e=e.next)}},n.reset();var s=function(e){var i,a,l,u,c,d,f,h,p,m=r[e.type];if(m)m(e);else{if(i=e.name,a=e.shortEnded,l=e.attributes,o&&l&&l.length>1&&(d=[],d.map={},p=t.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;h>f;f++)u=p.attributesOrder[f],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;h>f;f++)u=l[f].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(e.name,l,a),!a){if(e=e.firstChild)do s(e);while(e=e.next);n.end(i)}}};return 1!==i.type||e.inner?r[11](i):s(i),n.getContent()};return{serialize:i}}function N(e){var t,n,i,r,o={state:{},exec:{},value:{}},s=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,s=e.settings,i=e.formatter});var a=function(t,n,i,r){var s,a,l=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?Jx.restore(e):e.focus(),r=e.fire("BeforeExecCommand",{command:t,ui:n,value:i}),r.isDefaultPrevented())return!1;if(a=t.toLowerCase(),s=o.exec[a])return s(a,n,i),e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(nC(e.plugins,function(r){return r.execCommand&&r.execCommand(t,n,i)?(e.fire("ExecCommand",{command:t,ui:n,value:i}),l=!0,!1):void 0}),l)return l;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{l=e.getDoc().execCommand(t,n,i)}catch(u){}return l?(e.fire("ExecCommand",{command:t,ui:n,value:i}),!0):!1}},l=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(i){}return!1}},u=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(i){}}},c=function(e,t){t=t||"exec",nC(e,function(e,n){nC(n.toLowerCase().split(","),function(n){o[t][n]=e})})},d=function(t,n,i){t=t.toLowerCase(),o.exec[t]=function(t,r,o,s){return n.call(i||e,r,o,s)}},f=function(t){if(t=t.toLowerCase(),o.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(n){}return!1},h=function(t,n,i){t=t.toLowerCase(),
o.state[t]=function(){return n.call(i||e)}},p=function(t,n,i){t=t.toLowerCase(),o.value[t]=function(){return n.call(i||e)}},m=function(e){return e=e.toLowerCase(),!!o.exec[e]};iC(this,{execCommand:a,queryCommandState:l,queryCommandValue:u,queryCommandSupported:f,addCommands:c,addCommand:d,addQueryStateHandler:h,addQueryValueHandler:p,hasCustomCommand:m});var g=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.getDoc().execCommand(t,n,i)},v=function(e){return i.match(e)},y=function(t,n){i.toggle(t,n?{value:n}:void 0),e.nodeChanged()},b=function(e){r=n.getBookmark(e)},_=function(){n.moveToBookmark(r)};c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,i=e.getDoc();try{g(t)}catch(r){n=!0}if("paste"!==t||i.queryCommandEnabled(t)||(n=!0),n||!i.queryCommandSupported(t)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");St.mac&&(o=o.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),nC("left,center,right,justify".split(","),function(e){t!==e&&i.remove("align"+e)}),"none"!==t&&y("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var i,r;g(e),i=t.getParent(n.getNode(),"ol,ul"),i&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(b(),t.split(r,i),_()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor":function(e,t,n){y(e,n)},FontName:function(t,n,i){Gw(e,i)},FontSize:function(t,n,i){Qw(e,i)},RemoveFormat:function(e){i.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,i,r){var o=r||n.getNode();o!==e.getBody()&&(b(),e.dom.remove(o,!0),_())},mceSelectNodeDepth:function(i,r,o){var s=0;t.getParent(n.getNode(),function(e){return 1===e.nodeType&&s++===o?(n.select(e),!1):void 0},e.getBody())},mceSelectNode:function(e,t,i){n.select(i)},mceInsertContent:function(t,n,i){ov.insertAtCaret(e,i)},mceInsertRawHTML:function(t,i,r){var o=e.getContent();n.setContent("tiny_mce_marker"),e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(t,n,i){e.setContent(i)},"Indent,Outdent":function(t){tC(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,i,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,r,o){var s;"string"==typeof o&&(o={href:o}),s=t.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var e=t.getParent(n.getStart(),Fa.isContentEditableTrue);if(e){var i=t.createRng();i.selectNodeContents(e),n.setRng(i)}},"delete":function(){Bw.deleteCommand(e)},forwardDelete:function(){Bw.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,i){return Ex.insert(e,i),!0}});var w=function(e){return function(){var r=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),o=rC(r,function(t){return!!i.matchNode(t,e)});return-1!==oC(o,!0)}};c({JustifyLeft:w("alignleft"),JustifyCenter:w("aligncenter"),JustifyRight:w("alignright"),JustifyFull:w("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(s.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return l("InsertUnorderedList")||l("InsertOrderedList")||!s.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var i=t.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===e&&"UL"===i.tagName||"insertorderedlist"===e&&"OL"===i.tagName)}},"state"),c({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),p("FontName",function(){return Kw(e)},this),p("FontSize",function(){return Zw(e)},this)}function P(e){var t=this,n={},i=[],r=function(e){var t,n,i={};OC(MC(e,"+"),function(e){e in RC?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=IC[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode];for(n in RC)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,St.mac?i.ctrl=!0:i.shift=!0),i.meta&&(St.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},o=function(t,n,i,o){var s;return s=xi.map(MC(t,">"),r),s[s.length-1]=xi.extend(s[s.length-1],{func:i,scope:o||e}),xi.extend(s[0],{desc:e.translate(n),subpatterns:s.slice(1)})},s=function(e){return e.altKey||e.ctrlKey||e.metaKey},a=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},l=function(e,t){return t?t.ctrl!==e.ctrlKey||t.meta!==e.metaKey?!1:t.alt!==e.altKey||t.shift!==e.shiftKey?!1:e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode?(e.preventDefault(),!0):!1:!1},u=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!s(e)&&!a(e)||e.isDefaultPrevented()||(OC(n,function(t){return l(e,t)?(i=t.subpatterns.slice(0),"keydown"===e.type&&u(t),!0):void 0}),l(e,i[0])&&(1===i.length&&"keydown"===e.type&&u(i[0]),i.shift()))}),t.add=function(t,i,r,s){var a;return a=r,"string"==typeof r?r=function(){e.execCommand(a,!1,null)}:xi.isArray(a)&&(r=function(){e.execCommand(a[0],a[1],a[2])}),OC(MC(xi.trim(t.toLowerCase())),function(e){var t=o(e,i,r,s);n[t.id]=t}),!0},t.remove=function(e){var t=o(e);return n[t.id]?(delete n[t.id],!0):!1}}function O(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function M(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():O()},i=function(){return Ae.from(t[0])},r=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},o=function(){t.length>0&&n().reposition(t)},s=function(e){t.push(e)},a=function(e){Qe(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},l=function(i){return!e.removed&&wk.isEditorAttachedToDom(e)?Ke(t,function(e){return r(n().getArgs(e),i)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(i,function(){a(t),o()});return s(t),o(),t}):void 0},u=function(){i().each(function(e){n().close(e),a(e),o()})},c=function(){return t},d=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&l({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Rt.requestAnimationFrame(o)}),e.on("remove",function(){qe(t,function(e){n().close(e)})})};return d(e),{open:l,close:u,getNotifications:c}}function I(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function R(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():I()},i=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},r=function(t){e.fire("OpenWindow",{win:t})},o=function(t){e.fire("CloseWindow",{win:t})},s=function(e){t.push(e),r(e)},a=function(n){Qe(t,function(e){return e===n}).each(function(i){t.splice(i,1),o(n),0===t.length&&e.focus()})},l=function(){return Ae.from(t[t.length-1])},u=function(t,i){e.editorManager.setActive(e),Jx.store(e);var r=n().open(t,i,a);return s(r),r},c=function(e,t,r){var o=n().alert(e,i(r?r:this,t),a);s(o)},d=function(e,t,r){var o=n().confirm(e,i(r?r:this,t),a);s(o)},f=function(){l().each(function(e){n().close(e),a(e)})},h=function(){return l().map(n().getParams).getOr(null)},p=function(e){l().each(function(t){n().setParams(t,e)})},m=function(){return t};return e.on("remove",function(){qe(t.slice(0),function(e){n().close(e)})}),{windows:t,open:u,alert:c,confirm:d,close:f,getParams:h,setParams:p,getWindows:m}}function L(){var e=gt.getOrDie("XMLHttpRequest");return new e}function B(e,t){var n={},i=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},r=function(e,n,r,o){var s,a;s=new L,s.open("POST",t.url),s.withCredentials=t.credentials,s.upload.onprogress=function(e){o(e.loaded/e.total*100)},s.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e;return s.status<200||s.status>=300?void r("HTTP Error: "+s.status):(e=JSON.parse(s.responseText),e&&"string"==typeof e.location?void n(i(t.basePath,e.location)):void r("Invalid JSON: "+s.responseText))},a=new FormData,a.append("file",e.blob(),e.filename()),s.send(a)},o=function(){return new Dt(function(e){e([])})},s=function(e,t){return{url:t,blobInfo:e,status:!0}},a=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},l=function(e,t){xi.each(n[e],function(e){e(t)}),delete n[e]},u=function(t,n,i){return e.markPending(t.blobUri()),new Dt(function(r){var o,u,c=function(){};try{var d=function(){o&&(o.close(),u=c)},f=function(n){d(),e.markUploaded(t.blobUri(),n),l(t.blobUri(),s(t,n)),r(s(t,n))},h=function(n){d(),e.removeFailed(t.blobUri()),l(t.blobUri(),a(t,n)),r(a(t,n))};u=function(e){0>e||e>100||(o||(o=i()),o.progressBar.value(e))},n(t,f,h,u)}catch(p){r(a(t,p.message))}})},c=function(e){return e===r},d=function(e){var t=e.blobUri();return new Dt(function(e){n[t]=n[t]||[],n[t].push(e)})},f=function(n,i){return n=xi.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Dt.all(xi.map(n,function(n){return e.isPending(n.blobUri())?d(n):u(n,t.handler,i)}))},h=function(e,n){return!t.url&&c(t.handler)?o():f(e,n)};return t=xi.extend({credentials:!1,handler:r},t),{upload:h}}function F(e,t){var n=gt.getOrDie("Blob");return new n(e,t)}function $(){var e=gt.getOrDie("FileReader");return new e}function z(e){var t=gt.getOrDie("Uint8Array");return new t(e)}function H(e,t){var n={},i=function(i,r){var o;r||(r=bc.constant(!0)),o=ui.filter(Uk(i),function(t){var n=t.src;return St.fileApi?t.hasAttribute("data-mce-bogus")?!1:t.hasAttribute("data-mce-placeholder")?!1:n&&n!==St.transparentSrc?0===n.indexOf("blob:")?!e.isUploaded(n):0===n.indexOf("data:")?r(t):!1:!1:!1});var s=ui.map(o,function(e){if(n[e.src])return new Dt(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})});var i=new Dt(function(n,i){qk(t,e,n,i)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t});return n[e.src]=i,i});return Dt.all(s)};return{findAll:i}}function j(){var e=[],t=bc.constant,n=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},i=function(e,t,n,i){return r("object"==typeof e?e:{id:e,name:i,blob:t,base64:n})},r=function(e){var i,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return i=e.id||Gk.uuid("blobid"),r=e.name||i,{id:t(i),name:t(r),filename:t(r+"."+n(e.blob.type)),blob:t(e.blob),base64:t(e.base64),blobUri:t(e.blobUri||_t.createObjectURL(e.blob)),uri:t(e.uri)}},o=function(t){s(t.id())||e.push(t)},s=function(e){return a(function(t){return t.id()===e})},a=function(t){return ui.filter(e,t)[0]},l=function(e){return a(function(t){return t.blobUri()===e})},u=function(t){e=ui.filter(e,function(e){return e.blobUri()===t?(_t.revokeObjectURL(e.blobUri()),!1):!0})},c=function(){ui.each(e,function(e){_t.revokeObjectURL(e.blobUri())}),e=[]};return{create:i,add:o,get:s,getByUri:l,findFirst:a,removeByUri:u,destroy:c}}function W(){var e=1,t=2,n={},i=function(e,t){return{status:e,resultUri:t}},r=function(e){return e in n},o=function(e){var t=n[e];return t?t.resultUri:null},s=function(t){return r(t)?n[t].status===e:!1},a=function(e){return r(e)?n[e].status===t:!1},l=function(t){n[t]=i(e,null)},u=function(e,r){n[e]=i(t,r)},c=function(e){delete n[e]},d=function(){n={}};return{hasBlobUri:r,getResultUri:o,isPending:s,isUploaded:a,markPending:l,markUploaded:u,removeFailed:c,destroy:d}}function q(e){var t,n,i=j(),r=e.settings,o=W(),s=function(t){return function(n){return e.selection?t(n):[]}},a=function(){return"?"+(new Date).getTime()},l=function(e,t,n){var i=0;do i=e.indexOf(t,i),-1!==i&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1);while(-1!==i);return e},u=function(e,t,n){return e=l(e,'src="'+t+'"','src="'+n+'"'),e=l(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=function(t,n){ui.each(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=ui.map(e.fragments,function(e){return u(e,t,n)}):e.content=u(e.content,t,n)})},d=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(t,n){i.removeByUri(t.src),c(t.src,n),e.$(t).attr({src:r.images_reuse_filename?n+a():n,"data-mce-src":e.convertURL(n,"src")})},h=function(n){return t||(t=B(o,{url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})),g().then(s(function(i){var r;return r=ui.map(i,function(e){return e.blobInfo}),t.upload(r,d).then(s(function(t){var r=ui.map(t,function(t,n){var r=i[n].image;return t.status&&e.settings.images_replace_blob_uris!==!1?f(r,t.url):t.error&&Nk.uploadError(e,t.error),{element:r,status:t.status}});return n&&n(r),r}))}))},p=function(e){return r.automatic_uploads!==!1?h(e):void 0},m=function(e){return r.images_dataimg_filter?r.images_dataimg_filter(e):!0},g=function(){return n||(n=H(o,i)),n.findAll(e.getBody(),m).then(s(function(t){return t=ui.filter(t,function(t){return"string"==typeof t?(Nk.displayError(e,t),!1):!0}),ui.each(t,function(e){c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},v=function(){i.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=o.getResultUri(n);if(r)return'src="'+r+'"';var s=i.getByUri(n);return s||(s=ui.reduce(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':t})};return e.on("setContent",function(){e.settings.automatic_uploads!==!1?p():g()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){ui.each(e,function(e){var t=e.attr("src");if(!i.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:i,uploadImages:h,uploadImagesAuto:p,scanForImages:g,destroy:v}}function U(e){var t,n=[],i=function(t){var i,r;if(r=e.$(t).parentsUntil(e.getBody()).add(t),r.length===n.length){for(i=r.length;i>=0&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;i=e.selection.getRng(),r={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&ex.isEq(r,t)||e.fire("SelectionChange"),t=r}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!St.range&&e.selection.isCollapsed()||uT(e)&&!i(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&uT(e)&&("IMG"===e.selection.getNode().nodeName?Rt.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,i,r,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(r=e.getBody(),n=o.getStart(!0)||r,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,r)||(n=r),i=[],e.dom.getParent(n,function(e){return e===r?!0:void i.push(e)}),t=t||{},t.element=n,t.parents=i,e.fire("NodeChange",t))}}function Y(e,t){void 0===t&&(t=b());var n=function(){};e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var i=e.comment?e.comment:n,r=e.cdata?e.cdata:n,o=e.text?e.text:n,s=e.start?e.start:n,a=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n,c=function(n){var c,d,f,h,p,m,g,v,y,b,_,w,x,C,k,T,S,E,D,A,N,P,O,M,I,R,L,B,F,$,z=0,H=[],j=0,W=il.decode,q=xi.makeMap("src,href,data,background,formaction,poster,xlink:href"),U=/((java|vb)script|mhtml):/i,Y=function(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)e=H[n],e.valid&&a(e.name);H.length=t}},V=function(t,n,i,r,o){var s,a,l=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),i=n in _?n:W(i||r||o||""),x&&!v&&bS(n)===!1){if(s=E[n],!s&&D){for(a=D.length;a--&&(s=D[a],!s.pattern.test(n)););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(q[n]&&!e.allow_script_urls){var u=i.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(U.test(u))return;if(wS(e,u))return}v&&(n in q||0===n.indexOf("on"))||(h.map[n]=i,h.push({name:n,value:i}))};for(R=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),I=e.self_closing_elements||t.getSelfClosingElements(),_=t.getBoolAttrs(),x=e.validate,y=e.remove_internals,$=e.fix_self_closing,B=t.getSpecialElements(),O=n+">";c=R.exec(O);){if(z<c.index&&o(W(n.substr(z,c.index-z))),d=c[6])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),Y(d);else if(d=c[7]){if(c.index+c[0].length>n.length){o(W(n.substr(c.index))),z=c.index+c[0].length;continue}if(d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),w=d in b,$&&I[d]&&H.length>0&&H[H.length-1].name===d&&Y(d),!x||(C=t.getElementRule(d))){if(k=!0,x&&(E=C.attributes,D=C.attributePatterns),(S=c[8])?(v=-1!==S.indexOf("data-mce-type"),v&&y&&(k=!1),h=[],h.map={},S.replace(L,V)):(h=[],h.map={}),x&&!v){if(A=C.attributesRequired,N=C.attributesDefault,P=C.attributesForced,M=C.removeEmptyAttrs,M&&!h.length&&(k=!1),P)for(p=P.length;p--;)T=P[p],g=T.name,F=T.value,"{$uid}"===F&&(F="mce_"+j++),h.map[g]=F,h.push({name:g,value:F});if(N)for(p=N.length;p--;)T=N[p],g=T.name,g in h.map||(F=T.value,"{$uid}"===F&&(F="mce_"+j++),h.map[g]=F,h.push({name:g,value:F}));if(A){for(p=A.length;p--&&!(A[p]in h.map););-1===p&&(k=!1)}if(T=h.map["data-mce-bogus"]){if("all"===T){z=xS(t,n,R.lastIndex),R.lastIndex=z;continue}k=!1}}k&&s(d,h,w)}else k=!1;if(f=B[d]){f.lastIndex=z=c.index+c[0].length,(c=f.exec(n))?(k&&(m=n.substr(z,c.index-z)),z=c.index+c[0].length):(m=n.substr(z),z=n.length),k&&(m.length>0&&o(m,!0),a(d)),R.lastIndex=z;continue}w||(S&&S.indexOf("/")===S.length-1?k&&a(d):H.push({name:d,valid:k}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),e.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),i(d)):(d=c[2])?r(_S(d)):(d=c[3])?u(d):(d=c[4])&&l(d,c[5]);z=c.index+c[0].length}for(z<n.length&&o(W(n.substr(z))),p=H.length-1;p>=0;p--)d=H[p],d.valid&&a(d.name)};return{parse:c}}function V(e){var t,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},l=function(e){a()&&(i.typing=e)},u=function(t){e.setDirty(t)},c=function(e){l(!1),i.add({},e)},d=function(){i.typing&&(l(!1),i.add())};e.on("init",function(){i.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(d(),i.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&c(e)}),e.on("ObjectResizeStart Cut",function(){i.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("DragEnd",c),e.on("KeyUp",function(t){var r=t.keyCode;t.isDefaultPrevented()||((r>=33&&36>=r||r>=37&&40>=r||45===r||t.ctrlKey)&&(c(),e.nodeChanged()),(46===r||8===r)&&e.nodeChanged(),n&&i.typing&&lE.isEq(lE.createFromEditor(e),o[0])===!1&&(e.isDirty()===!1&&(u(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&36>=t||t>=37&&40>=t||45===t)return void(i.typing&&c(e));var r=e.ctrlKey&&!e.altKey||e.metaKey;!(16>t||t>20)||224===t||91===t||i.typing||r||(i.beforeChange(),l(!0),i.add({},e),n=!0)}}),e.on("MouseDown",function(e){i.typing&&c(e)});var f=function(e){return"insertReplacementText"===e.inputType},h=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(f(e)||h(e))&&c(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){a()&&(t=gf.getUndoBookmark(e.selection))},add:function(n,i){var s,l,c,d=e.settings;if(c=lE.createFromEditor(e),n=n||{},n=xi.extend(n,c),a()===!1||e.removed)return null;if(l=o[r],e.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&lE.isEq(l,n))return null;if(o[r]&&(o[r].beforeBookmark=t),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=gf.getUndoBookmark(e.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var f={level:n,lastLevel:l,originalEvent:i};return e.fire("AddUndo",f),r>0&&(u(!0),e.fire("change",f)),n},undo:function(){var t;return i.typing&&(i.add(),i.typing=!1,l(!1)),r>0&&(t=o[--r],lE.applyToEditor(e,t,!0),u(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return r<o.length-1&&(t=o[++r],lE.applyToEditor(e,t,!1),u(!0),e.fire("redo",{level:t})),t},clear:function(){o=[],r=0,i.typing=!1,i.data=o,e.fire("ClearUndos")},hasUndo:function(){return r>0||i.typing&&o[0]&&!lE.isEq(lE.createFromEditor(e),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(e){return d(),i.beforeChange(),i.ignore(e),i.add()},ignore:function(e){try{s++,e()}finally{s--}},extra:function(t,n){var s,a;i.transact(t)&&(a=o[r].bookmark,s=o[r-1],lE.applyToEditor(e,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}function X(e){var t={},n=function(e){return e?t[e]:t},i=function(e,n){e&&("string"!=typeof e?xi.each(e,function(e,t){i(t,e)}):(n=n.length?n:[n],xi.each(n,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},r=function(e){return e&&t[e]&&delete t[e],t};return i(RD.get(e.dom)),i(e.settings.formats),{get:n,register:i,unregister:r}}function G(e){var t=X(e),n=Xl(null);return VD.setup(e),FE(e),{get:t.get,register:t.register,unregister:t.unregister,apply:be(DD.applyFormat,e),remove:be(aD.remove,e),toggle:be(UD.toggle,e,t),match:be(yE.match,e),matchAll:be(yE.matchAll,e),matchNode:be(yE.matchNode,e),canApply:be(yE.canApply,e),formatChanged:be(MD.formatChanged,e,n),getCssText:be(WD.getCssText,e)}}function K(e,t){void 0===t&&(t=b());var n={},i=[],r={},o={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var s=function(e){var n,i,r,o,s,l,u,c,d,f,h,p,m,g,v,y;for(p=xA("tr,td,th,tbody,thead,tfoot,table"),f=t.getNonEmptyElements(),h=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if(i=e[n],i.parent&&!i.fixed)if(m[i.name]&&"li"===i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!t.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),s=l=a(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(l.name,o[d].name)?(u=a(o[d].clone()),l.append(u)):u=l,c=o[d].firstChild;c&&c!==o[d+1];)y=c.next,u.append(c),c=y;l=u}bA(t,f,h,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],(bA(t,f,h,r)||vA(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if(v=i.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if(v=i.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new pA("ul",1)));continue}t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(a(new pA("div",1))):g[i.name]?i.empty().remove():i.unwrap()}}},a=function(e){var t,s,a;s in n&&(a=r[s],a?a.push(e):r[s]=[e]),t=i.length;for(;t--;)s=i[t].name,s in e.attributes.map&&(a=o[s],a?a.push(e):o[s]=[e]);return e},l=function(e,t){CA(kA(e),function(e){var i=n[e];i||(n[e]=i=[]),i.push(t)})},u=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},c=function(e,t){CA(kA(e),function(e){var n;for(n=0;n<i.length;n++)if(i[n].name===e)return void i[n].callbacks.push(t);i.push({name:e,callbacks:[t]})})},d=function(){return[].concat(i)},f=function(a,l){var u,c,d,f,h,p,m,g,v,y,b,_=[];l=l||{},r={},o={},v=TA(xA("script,style,head,html,body,title,meta,param"),t.getBlockElements());var w=t.getNonEmptyElements(),x=t.children,C=e.validate,k="forced_root_block"in l?l.forced_root_block:e.forced_root_block,T=t.getWhiteSpaceElements(),S=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;y=T.hasOwnProperty(l.context)||T.hasOwnProperty(e.root_name);var N=function(){var n,i,r=I.firstChild,o=function(e){e&&(r=e.firstChild,r&&3===r.type&&(r.value=r.value.replace(S,"")),r=e.lastChild,r&&3===r.type&&(r.value=r.value.replace(E,"")))};if(t.isValidChild(I.name,k.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?i?i.append(r):(i=P(k,1),i.attr(e.forced_root_block_attrs),I.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}},P=function(e,t){var i,o=new pA(e,t);return e in n&&(i=r[e],i?i.push(o):r[e]=[o]),o},O=function(e){var n,i,r,o,s=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(r=n.value.replace(E,""),r.length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},M=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n};u=CS({validate:C,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:M(t.getSelfClosingElements()),cdata:function(e){b.append(P("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(D," "),_A(b.lastChild,v)&&(e=e.replace(S,""))),0!==e.length&&(n=P("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(P("#comment",8)).value=e},pi:function(e,t){b.append(P(e,7)).value=t,O(b)},doctype:function(e){var t;t=b.append(P("#doctype",10)),t.value=e,O(b)},start:function(e,n,r){var s,a,l,u,c;if(l=C?t.getElementRule(e):{}){for(s=P(l.outputName||e,1),s.attributes=n,s.shortEnded=r,b.append(s),c=x[b.name],c&&x[s.name]&&!c[s.name]&&_.push(s),a=i.length;a--;)u=i[a].name,u in n.map&&(m=o[u],m?m.push(s):o[u]=[s]);v[e]&&O(s),r||(b=s),!y&&T[e]&&(y=!0)}},end:function(n){var i,r,o,s,a;if(r=C?t.getElementRule(n):{}){if(v[n]&&!y){if(i=b.firstChild,i&&3===i.type)if(o=i.value.replace(S,""),o.length>0)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||A.test(o))&&(i.remove(),i=s),i=s;if(i=b.lastChild,i&&3===i.type)if(o=i.value.replace(E,""),o.length>0)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||A.test(o))&&(i.remove(),i=s),i=s}if(y&&T[n]&&(y=!1),r.removeEmpty&&bA(t,w,T,b)&&!b.attributes.map.name&&!b.attr("id"))return a=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=a);r.paddEmpty&&(gA(b)||bA(t,w,T,b))&&mA(e,l,v,b),b=b.parent}}},t);var I=b=new pA(l.context||e.root_name,11);if(u.parse(a),C&&_.length&&(l.context?l.invalid=!0:s(_)),k&&("body"===I.name||l.isRootContent)&&N(),!l.invalid){for(g in r){for(m=n[g],c=r[g],h=c.length;h--;)c[h].parent||c.splice(h,1);for(d=0,f=m.length;f>d;d++)m[d](c,g,l)}for(d=0,f=i.length;f>d;d++)if(m=i[d],m.name in o){for(c=o[m.name],h=c.length;h--;)c[h].parent||c.splice(h,1);for(h=0,p=m.callbacks.length;p>h;h++)m.callbacks[h](c,m.name,l)}}return I},h={schema:t,addAttributeFilter:c,getAttributeFilters:d,addNodeFilter:l,getNodeFilters:u,filterNode:a,parse:f};return wA(h,e),cA.register(h,e),h}function Q(e,t){var n,i,r,o=["data-mce-selected"];n=t&&t.dom?t.dom:Cl.DOM,i=t&&t.schema?t.schema:b(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,r=K(e,i),eA.register(r,e,n);var s=function(o,s){var a=QD({format:"html"},s?s:{}),l=rA.process(t,o,a),u=DA(n,l,a),c=AA(r,u,a);return"tree"===a.format?c:PA(t,e,i,c,a)};return{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:s,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:be(SA,r,o),getTempAttrs:function(){return o}}}function Z(e,t){var n=Q(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function J(e){return{getBookmark:be(Sm.getBookmark,e),moveToBookmark:be(Sm.moveToBookmark,e)}}function ee(e){var t=xi.each,n=fS.BACKSPACE,i=fS.DELETE,r=e.dom,o=e.selection,s=e.settings,a=e.parser,l=St.gecko,u=St.ie,c=St.webkit,d="data:text/mce-internal,",f=u?"Text":"URL",h=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}},p=function(e){return e.isDefaultPrevented()},m=function(t){var n,i;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&o.select(t.target),n=e.selection.getContent(),n.length>0&&(i=d+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,i)))},g=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f),t&&t.indexOf(d)>=0)?(t=t.substr(d.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},y=function(){var t=function(e){var t=r.create("body"),n=e.cloneContents();return t.appendChild(n),o.serializer.serialize(t,{format:"html"})},s=function(n){var i=t(n),o=r.createRng();o.selectNode(e.getBody());var s=t(o);return i===s};e.on("keydown",function(t){var o,a,l=t.keyCode;if(!p(t)&&(l===i||l===n)){if(o=e.selection.isCollapsed(),a=e.getBody(),o&&!r.isEmpty(a))return;if(!o&&!s(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),a.firstChild&&r.isBlock(a.firstChild)?e.selection.setCursorLocation(a.firstChild,0):e.selection.setCursorLocation(a,0),e.nodeChanged()}})},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},_=function(){e.settings.content_editable||r.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=o.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Dc(n.startContainer))return;o.placeCaretAt(t.clientX,t.clientY)}else o.setRng(n)})},w=function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){var i=o.getNode(),s=i.previousSibling;if("HR"===i.nodeName)return r.remove(i),void t.preventDefault();s&&s.nodeName&&"hr"===s.nodeName.toLowerCase()&&(r.remove(s),t.preventDefault())}}})},x=function(){Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Rt.setEditorTimeout(e,function(){n.focus()})}})},C=function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==r.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),o.select(n))})},k=function(){var n=function(){var n=r.getAttribs(o.getStart().cloneNode(!1));return function(){var i=o.getStart();i!==e.getBody()&&(r.setAttrib(i,"style",null),t(n,function(e){i.setAttributeNode(e.cloneNode(!0));
}))}},i=function(){return!o.isCollapsed()&&r.getParent(o.getStart(),r.isBlock)!==r.getParent(o.getEnd(),r.isBlock)};e.on("keypress",function(t){var r;return p(t)||8!==t.keyCode&&46!==t.keyCode||!i()?void 0:(r=n(),e.getDoc().execCommand("delete",!1,null),r(),t.preventDefault(),!1)}),r.bind(e.getDoc(),"cut",function(t){var r;!p(t)&&i()&&(r=n(),Rt.setEditorTimeout(e,function(){r()}))})},T=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){var t=o.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},S=function(){e.on("keydown",function(t){var n,i,s,a,l;if(!p(t)&&t.keyCode===fS.BACKSPACE&&(n=o.getRng(),i=n.startContainer,s=n.startOffset,a=r.getRoot(),l=i,n.collapsed&&0===s)){for(;l&&l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.tagName&&(e.formatter.toggle("blockquote",null,l),n=r.createRng(),n.setStart(i,0),n.setEnd(i,0),o.setRng(n))}})},E=function(){var t=function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),s.object_resizing||h("enableObjectResizing",!1)};s.readonly||e.on("BeforeExecCommand MouseDown",t)},D=function(){var n=function(){t(r.select("a"),function(e){var t=e.parentNode,n=r.getRoot();if(t.lastChild===e){for(;t&&!r.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}r.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){("setcontent"===e.type||"mceInsertLink"===e.command)&&n()})},A=function(){s.forced_root_block&&e.on("init",function(){h("DefaultParagraphSeparator",s.forced_root_block)})},N=function(){e.on("keyup focusin mouseup",function(e){fS.modifierPressed(e)||o.normalize()},!0)},P=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},O=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},M=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(St.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},I=function(){St.mac&&e.on("keydown",function(t){!fS.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},R=function(){h("AutoUrlDetect",!1)},L=function(){e.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},B=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})},F=function(){a.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},$=function(){e.on("dragstart",function(e){m(e)}),e.on("drop",function(t){if(!p(t)){var n=g(t);if(n&&n.id!==e.id){t.preventDefault();var i=jA.fromPoint(t.x,t.y,e.getDoc());o.setRng(i),v(n.html,!0)}}})},z=function(){},H=function(){var t;return!l||e.removed?0:(t=e.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount)};return S(),y(),St.windowsPhone||N(),c&&(_(),C(),A(),B(),T(),F(),St.iOS?(O(),M(),L()):b()),St.ie>=11&&(M(),T()),St.ie&&(b(),R(),$()),l&&(w(),x(),k(),E(),D(),P(),I(),T()),{refreshContentEditable:z,isHidden:H}}function te(e){var t=function(t,n){return rg.walk(e,t,n)},n=wE.split,i=function(t){return hx.normalize(e,t).fold(ve(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})};return{walk:t,split:n,normalize:i}}var ne,ie,re,oe,se,ae,le,ue,ce,de,fe,he,pe,me=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},ge=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,arguments))}},ve=function(e){return function(){return e}},ye=function(e){return e},be=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return e.apply(null,s)}},_e=function(e){return function(){throw new Error(e)}},we=ve(!1),xe=ve(!0),Ce=we,ke=xe,Te=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},i=function(){},r=function(){return null},o=function(){return void 0},s={fold:function(e,t){return e()},is:Ce,isSome:Ce,isNone:ke,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r,getOrUndefined:o,or:n,orThunk:t,map:Te,ap:Te,each:i,bind:Te,flatten:Te,exists:Ce,forall:ke,filter:Te,equals:e,equals_:e,toArray:function(){return[]},toString:ve("none()")};return Object.freeze&&Object.freeze(s),s}(),Ee=function(e){var t=function(){return e},n=function(){return o},i=function(t){return Ee(t(e))},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:ke,isNone:Ce,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:i,ap:function(t){return t.fold(Te,function(t){return Ee(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?o:Se},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(Ce,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},De=function(e){return null===e||void 0===e?Se:Ee(e)},Ae={some:Ee,none:Te,from:De},Ne=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},Pe=function(e){return function(t){return Ne(t)===e}},Oe=Pe("string"),Me=Pe("object"),Ie=Pe("array"),Re=Pe("null"),Le=Pe("boolean"),Be=Pe("function"),Fe=Pe("number"),$e=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Ze(e,t)};return void 0===e?n:t}(),ze=function(e,t){var n=$e(e,t);return-1===n?Ae.none():Ae.some(n)},He=function(e,t){return $e(e,t)>-1},je=function(e,t){return Qe(e,t).isSome()},We=function(e,t){for(var n=e.length,i=new Array(n),r=0;n>r;r++){var o=e[r];i[r]=t(o,r,e)}return i},qe=function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];t(r,n,e)}},Ue=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];t(i,n,e)}},Ye=function(e,t){for(var n=[],i=[],r=0,o=e.length;o>r;r++){var s=e[r],a=t(s,r,e)?n:i;a.push(s)}return{pass:n,fail:i}},Ve=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},Xe=function(e,t,n){return Ue(e,function(e){n=t(n,e)}),n},Ge=function(e,t,n){return qe(e,function(e){n=t(n,e)}),n},Ke=function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];if(t(r,n,e))return Ae.some(r)}return Ae.none()},Qe=function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];if(t(r,n,e))return Ae.some(n)}return Ae.none()},Ze=function(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n]===t)return n;return-1},Je=Array.prototype.push,et=function(e){for(var t=[],n=0,i=e.length;i>n;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Je.apply(t,e[n])}return t},tt=function(e,t){var n=We(e,t);return et(n)},nt=function(e,t){for(var n=0,i=e.length;i>n;++n){var r=e[n];if(t(r,n,e)!==!0)return!1}return!0},it=Array.prototype.slice,rt=function(e){var t=it.call(e,0);return t.reverse(),t},ot=function(e,t){return Ve(e,function(e){return!He(t,e)})},st=function(e,t){for(var n={},i=0,r=e.length;r>i;i++){var o=e[i];n[String(o)]=t(o,i)}return n},at=function(e,t){var n=it.call(e,0);return n.sort(t),n},lt=function(e){return 0===e.length?Ae.none():Ae.some(e[0])},ut=function(e){return 0===e.length?Ae.none():Ae.some(e[e.length-1])},ct=Be(Array.from)?Array.from:function(e){return it.call(e)},dt="undefined"!=typeof window?window:Function("return this;")(),ft=function(e,t){for(var n=void 0!==t&&null!==t?t:dt,i=0;i<e.length&&void 0!==n&&null!==n;++i)n=n[e[i]];return n},ht=function(e,t){var n=e.split(".");return ft(n,t)},pt=function(e,t){return ht(e,t)},mt=function(e,t){var n=pt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},gt={getOrDie:mt},vt=function(){return gt.getOrDie("URL")},yt=function(e){return vt().createObjectURL(e)},bt=function(e){vt().revokeObjectURL(e)},_t={createObjectURL:yt,revokeObjectURL:bt},wt=navigator,xt=wt.userAgent,Ct=function(e){return"matchMedia"in window?matchMedia(e).matches:!1};ne=!1,ce=/Android/.test(xt),ie=/WebKit/.test(xt),re=!ie&&!ne&&/MSIE/gi.test(xt)&&/Explorer/gi.test(wt.appName),re=re&&/MSIE (\w+)\./.exec(xt)[1],oe=-1===xt.indexOf("Trident/")||-1===xt.indexOf("rv:")&&-1===wt.appName.indexOf("Netscape")?!1:11,se=-1===xt.indexOf("Edge/")||re||oe?!1:12,re=re||oe||se,ae=!ie&&!oe&&/Gecko/.test(xt),le=-1!==xt.indexOf("Mac"),ue=/(iPad|iPhone)/.test(xt),de="FormData"in window&&"FileReader"in window&&"URL"in window&&!!_t.createObjectURL,fe=Ct("only screen and (max-device-width: 480px)")&&(ce||ue),he=Ct("only screen and (min-width: 800px)")&&(ce||ue),pe=-1!==xt.indexOf("Windows Phone"),se&&(ie=!1);var kt,Tt=!ue||de||parseInt(xt.match(/AppleWebKit\/(\d*)/)[1],10)>=534,St={opera:ne,webkit:ie,ie:re,gecko:ae,mac:le,iOS:ue,android:ce,contentEditable:Tt,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==re,range:window.getSelection&&"Range"in window,documentMode:re&&!se?document.documentMode||7:10,fileApi:de,ceFalse:re===!1||re>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:re===!1||re>11,desktop:!fe&&!he,windowsPhone:pe},Et=function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;return null===this._state?void this._deferreds.push(e):void u(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)})}function n(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if("function"==typeof o)return void s(e(o,t),e(n,this),e(i,this))}this._state=!0,this._value=t,r.call(this)}catch(a){i.call(this,a)}}function i(e){this._state=!1,this._value=e,r.call(this)}function r(){for(var e=0,n=this._deferreds.length;n>e;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function o(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function s(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(n,this),e(i,this))},u=l.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};return l.prototype["catch"]=function(e){return this.then(null,e)},l.prototype.then=function(e,n){var i=this;return new l(function(r,s){t.call(i,new o(e,n,r,s))})},l.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new l(function(t,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){i(o,e)},n)}e[o]=s,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l(function(t){t(e)})},l.reject=function(e){return new l(function(t,n){n(e)})},l.race=function(e){return new l(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},l},Dt=window.Promise?window.Promise:Et(),At=function(e,t){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(e){window.setTimeout(e,0)};for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=o),i(e,t)},Nt=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Pt=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Ot=function(e){return clearTimeout(e)},Mt=function(e){return clearInterval(e)},It=function(e,t){var n,i;return i=function(){var i=arguments;clearTimeout(n),n=Nt(function(){e.apply(this,i)},t)},i.stop=function(){clearTimeout(n)},i},Rt={requestAnimationFrame:function(e,t){return kt?void kt.then(e):void(kt=new Dt(function(e){t||(t=document.body),At(e,t)}).then(e))},setTimeout:Nt,setInterval:Pt,setEditorTimeout:function(e,t,n){return Nt(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i;return i=Pt(function(){e.removed?clearInterval(i):t()},n)},debounce:It,throttle:It,clearInterval:Mt,clearTimeout:Ot},Lt="mce-data-",Bt=/^(?:mouse|contextmenu)|click/,Ft={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},$t=function(e){return e.isDefaultPrevented===Ht||e.isDefaultPrevented===zt},zt=function(){return!1},Ht=function(){return!0},jt=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Wt=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},qt=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Ut=function(e,t){var n,i=t||{};for(n in e)Ft[n]||(i[n]=e[n]);if(i.target||(i.target=i.srcElement||document),St.experimentalShadowDom&&(i.target=qt(e,i.target)),e&&Bt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Ht,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Ht,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Ht,i.stopPropagation()},$t(i)===!1&&(i.isDefaultPrevented=zt,i.isPropagationStopped=zt,i.isImmediatePropagationStopped=zt),"undefined"==typeof i.metaKey&&(i.metaKey=!1),i},Yt=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)return void t(r);var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,t(r))},a=function(){o()&&(Wt(i,"readystatechange",a),s())},l=function(){try{i.documentElement.doScroll("left")}catch(e){return void Rt.setTimeout(l)}s()};!i.addEventListener||St.ie&&St.ie<11?(jt(i,"readystatechange",a),i.documentElement.doScroll&&e.self===e.top&&l()):o()?s():jt(e,"DOMContentLoaded",s),jt(e,"load",s)},Vt=function(){var e,t,n,i,r,o=this,s={};t=Lt+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,o.domLoaded=!1,o.events=s;var a=function(e,t){var n,i,r,o,a=s[t];if(n=a&&a[e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return};o.bind=function(l,u,c,d){var f,h,p,m,g,v,y,b=window,_=function(e){a(Ut(e||b.event),f)};if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[t]?f=l[t]:(f=e++,l[t]=f,s[f]={}),d=d||l,u=u.split(" "),p=u.length;p--;)m=u[p],v=_,g=y=!1,"DOMContentLoaded"===m&&(m="ready"),o.domLoaded&&"ready"===m&&"complete"===l.readyState?c.call(d,Ut({type:m})):(i||(g=r[m],g&&(v=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Ut(e||b.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,f))})),n||"focusin"!==m&&"focusout"!==m||(y=!0,g="focusin"===m?"focus":"blur",v=function(e){e=Ut(e||b.event),e.type="focus"===e.type?"focusin":"focusout",a(e,f)}),h=s[f][m],h?"ready"===m&&o.domLoaded?c({type:m}):h.push({func:c,scope:d}):(s[f][m]=h=[{func:c,scope:d}],h.fakeName=g,h.capture=y,h.nativeHandler=v,"ready"===m?Yt(l,v,o):jt(l,g||m,v,y)));return l=h=0,c}},o.unbind=function(e,n,i){var r,a,l,u,c,d;if(!e||3===e.nodeType||8===e.nodeType)return o;if(r=e[t]){if(d=s[r],n){for(n=n.split(" "),l=n.length;l--;)if(c=n[l],a=d[c]){if(i)for(u=a.length;u--;)if(a[u].func===i){var f=a.nativeHandler,h=a.fakeName,p=a.capture;a=a.slice(0,u).concat(a.slice(u+1)),a.nativeHandler=f,a.fakeName=h,a.capture=p,d[c]=a}i&&0!==a.length||(delete d[c],Wt(e,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in d)a=d[c],Wt(e,a.fakeName||c,a.nativeHandler,a.capture);d={}}for(c in d)return o;delete s[r];try{delete e[t]}catch(m){e[t]=null}}return o},o.fire=function(e,n,i){var r;if(!e||3===e.nodeType||8===e.nodeType)return o;i=Ut(null,i),i.type=n,i.target=e;do r=e[t],r&&a(i,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return o},o.clean=function(e){var n,i,r=o.unbind;if(!e||3===e.nodeType||8===e.nodeType)return o;if(e[t]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),i=e.getElementsByTagName("*"),n=i.length;n--;)e=i[n],e[t]&&r(e);return o},o.destroy=function(){s={}},o.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};Vt.Event=new Vt,Vt.Event.bind(window,"ready",function(){});var Xt,Gt,Kt,Qt,Zt,Jt,en,tn,nn,rn,on,sn,an,ln,un,cn,dn,fn,hn,pn="sizzle"+-new Date,mn=window.document,gn=0,vn=0,yn=e(),bn=e(),_n=e(),wn=function(e,t){return e===t&&(on=!0),0},xn="undefined",Cn=1<<31,kn={}.hasOwnProperty,Tn=[],Sn=Tn.pop,En=Tn.push,Dn=Tn.push,An=Tn.slice,Nn=Tn.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},Pn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",On="[\\x20\\t\\r\\n\\f]",Mn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",In="\\["+On+"*("+Mn+")(?:"+On+"*([*^$|!~]?=)"+On+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Mn+"))|)"+On+"*\\]",Rn=":("+Mn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+In+")*)|.*)\\)|)",Ln=new RegExp("^"+On+"+|((?:^|[^\\\\])(?:\\\\.)*)"+On+"+$","g"),Bn=new RegExp("^"+On+"*,"+On+"*"),Fn=new RegExp("^"+On+"*([>+~]|"+On+")"+On+"*"),$n=new RegExp("="+On+"*([^\\]'\"]*?)"+On+"*\\]","g"),zn=new RegExp(Rn),Hn=new RegExp("^"+Mn+"$"),jn={ID:new RegExp("^#("+Mn+")"),CLASS:new RegExp("^\\.("+Mn+")"),TAG:new RegExp("^("+Mn+"|[*])"),ATTR:new RegExp("^"+In),PSEUDO:new RegExp("^"+Rn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+On+"*(even|odd|(([+-]|)(\\d*)n|)"+On+"*(?:([+-]|)"+On+"*(\\d+)|))"+On+"*\\)|)","i"),bool:new RegExp("^(?:"+Pn+")$","i"),needsContext:new RegExp("^"+On+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+On+"*((?:-\\d)?\\d*)"+On+"*\\)|)(?=[^-]|$)","i")},Wn=/^(?:input|select|textarea|button)$/i,qn=/^h\d$/i,Un=/^[^{]+\{\s*\[native \w/,Yn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Vn=/[+~]/,Xn=/'|\\/g,Gn=new RegExp("\\\\([\\da-f]{1,6}"+On+"?|("+On+")|.)","ig"),Kn=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Dn.apply(Tn=An.call(mn.childNodes),mn.childNodes),Tn[mn.childNodes.length].nodeType}catch(Qn){Dn={apply:Tn.length?function(e,t){En.apply(e,An.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var Zn=function(e,t,n,i){var r,o,a,u,c,d,f,h,p,m;if((t?t.ownerDocument||t:mn)!==an&&sn(t),t=t||an,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(un&&!i){if(r=Yn.exec(e))if(a=r[1]){if(9===u){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&hn(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Dn.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&Gt.getElementsByClassName)return Dn.apply(n,t.getElementsByClassName(a)),n}if(Gt.qsa&&(!cn||!cn.test(e))){if(h=f=pn,p=t,m=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(d=Jt(e),(f=t.getAttribute("id"))?h=f.replace(Xn,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",c=d.length;c--;)d[c]=h+l(d[c]);p=Vn.test(e)&&s(t.parentNode)||t,m=d.join(",")}if(m)try{return Dn.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{f||t.removeAttribute("id")}}}return tn(e.replace(Ln,"$1"),t,n,i)};Gt=Zn.support={},Zt=Zn.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},sn=Zn.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var i,r=e?e.ownerDocument||e:mn,o=r.defaultView;return r!==an&&9===r.nodeType&&r.documentElement?(an=r,ln=r.documentElement,un=!Zt(r),o&&o!==t(o)&&(o.addEventListener?o.addEventListener("unload",function(){sn()},!1):o.attachEvent&&o.attachEvent("onunload",function(){sn()})),Gt.attributes=!0,Gt.getElementsByTagName=!0,Gt.getElementsByClassName=Un.test(r.getElementsByClassName),Gt.getById=!0,Kt.find.ID=function(e,t){if(typeof t.getElementById!==xn&&un){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Kt.filter.ID=function(e){var t=e.replace(Gn,Kn);return function(e){return e.getAttribute("id")===t}},Kt.find.TAG=Gt.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==xn?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},Kt.find.CLASS=Gt.getElementsByClassName&&function(e,t){return un?t.getElementsByClassName(e):void 0},dn=[],cn=[],Gt.disconnectedMatch=!0,cn=cn.length&&new RegExp(cn.join("|")),dn=dn.length&&new RegExp(dn.join("|")),i=Un.test(ln.compareDocumentPosition),hn=i||Un.test(ln.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},wn=i?function(e,t){if(e===t)return on=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!Gt.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===mn&&hn(mn,e)?-1:t===r||t.ownerDocument===mn&&hn(mn,t)?1:rn?Nn.call(rn,e)-Nn.call(rn,t):0:4&n?-1:1)}:function(e,t){if(e===t)return on=!0,0;var i,o=0,s=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!s||!a)return e===r?-1:t===r?1:s?-1:a?1:rn?Nn.call(rn,e)-Nn.call(rn,t):0;if(s===a)return n(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)u.unshift(i);for(;l[o]===u[o];)o++;return o?n(l[o],u[o]):l[o]===mn?-1:u[o]===mn?1:0},r):an},Zn.matches=function(e,t){return Zn(e,null,null,t)},Zn.matchesSelector=function(e,t){if((e.ownerDocument||e)!==an&&sn(e),t=t.replace($n,"='$1']"),Gt.matchesSelector&&un&&(!dn||!dn.test(t))&&(!cn||!cn.test(t)))try{var n=fn.call(e,t);if(n||Gt.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return Zn(t,an,null,[e]).length>0},Zn.contains=function(e,t){return(e.ownerDocument||e)!==an&&sn(e),hn(e,t)},Zn.attr=function(e,t){(e.ownerDocument||e)!==an&&sn(e);var n=Kt.attrHandle[t.toLowerCase()],i=n&&kn.call(Kt.attrHandle,t.toLowerCase())?n(e,t,!un):void 0;return void 0!==i?i:Gt.attributes||!un?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Zn.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Zn.uniqueSort=function(e){var t,n=[],i=0,r=0;if(on=!Gt.detectDuplicates,rn=!Gt.sortStable&&e.slice(0),e.sort(wn),on){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return rn=null,e},Qt=Zn.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Qt(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=Qt(t);return n},Kt=Zn.selectors={cacheLength:50,createPseudo:t,match:jn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Gn,Kn),e[3]=(e[3]||e[4]||e[5]||"").replace(Gn,Kn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Zn.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Zn.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return jn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&zn.test(n)&&(t=Jt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Gn,Kn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=yn[e+" "];return t||(t=new RegExp("(^|"+On+")"+e+"("+On+"|$)"))&&yn(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==xn&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=Zn.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(c=g[pn]||(g[pn]={}),u=c[e]||[],h=u[0]===gn&&u[1],f=u[0]===gn&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[gn,h,f];break}}else if(y&&(u=(t[pn]||(t[pn]={}))[e])&&u[0]===gn)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[pn]||(d[pn]={}))[e]=[gn,f]),d!==t)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(e,n){var i,r=Kt.pseudos[e]||Kt.setFilters[e.toLowerCase()]||Zn.error("unsupported pseudo: "+e);return r[pn]?r(n):r.length>1?(i=[e,e,"",n],Kt.setFilters.hasOwnProperty(e.toLowerCase())?t(function(e,t){for(var i,o=r(e,n),s=o.length;s--;)i=Nn.call(e,o[s]),e[i]=!(t[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:t(function(e){var n=[],i=[],r=en(e.replace(Ln,"$1"));return r[pn]?t(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,t,o){return n[0]=e,r(n,null,o,i),!i.pop()}}),has:t(function(e){return function(t){return Zn(e,t).length>0}}),contains:t(function(e){return e=e.replace(Gn,Kn),function(t){return(t.textContent||t.innerText||Qt(t)).indexOf(e)>-1}}),lang:t(function(e){return Hn.test(e||"")||Zn.error("unsupported lang: "+e),e=e.replace(Gn,Kn).toLowerCase(),function(t){var n;do if(n=un?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ln},focus:function(e){return e===an.activeElement&&(!an.hasFocus||an.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Kt.pseudos.empty(e)},header:function(e){return qn.test(e.nodeName)},input:function(e){return Wn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},Kt.pseudos.nth=Kt.pseudos.eq;for(Xt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Kt.pseudos[Xt]=i(Xt);for(Xt in{submit:!0,reset:!0})Kt.pseudos[Xt]=r(Xt);a.prototype=Kt.filters=Kt.pseudos,Kt.setFilters=new a,Jt=Zn.tokenize=function(e,t){var n,i,r,o,s,a,l,u=bn[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=Kt.preFilter;s;){(!n||(i=Bn.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Fn.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Ln," ")}),s=s.slice(n.length));for(o in Kt.filter)!(i=jn[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?Zn.error(e):bn(e,a).slice(0)},en=Zn.compile=function(e,t){var n,i=[],r=[],o=_n[e+" "];if(!o){for(t||(t=Jt(e)),n=t.length;n--;)o=p(t[n]),o[pn]?i.push(o):r.push(o);o=_n(e,m(r,i)),o.selector=e}return o},tn=Zn.select=function(e,t,n,i){var r,o,a,u,c,d="function"==typeof e&&e,f=!i&&Jt(e=d.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&Gt.getById&&9===t.nodeType&&un&&Kt.relative[o[1].type]){if(t=(Kt.find.ID(a.matches[0].replace(Gn,Kn),t)||[])[0],!t)return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=jn.needsContext.test(e)?0:o.length;r--&&(a=o[r],!Kt.relative[u=a.type]);)if((c=Kt.find[u])&&(i=c(a.matches[0].replace(Gn,Kn),Vn.test(o[0].type)&&s(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&l(o),!e)return Dn.apply(n,i),n;break}}return(d||en(e,f))(i,t,!un,n,Vn.test(e)&&s(t.parentNode)||t),n},Gt.sortStable=pn.split("").sort(wn).join("")===pn,Gt.detectDuplicates=!!on,sn(),Gt.sortDetached=!0;var Jn=Array.isArray,ei=function(e){var t,n,i=e;if(!Jn(e))for(i=[],t=0,n=e.length;n>t;t++)i[t]=e[t];return i},ti=function(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i,e)===!1)return 0;return 1},ni=function(e,t){var n=[];return ti(e,function(i,r){n.push(t(i,r,e))}),n},ii=function(e,t){var n=[];return ti(e,function(i,r){(!t||t(i,r,e))&&n.push(i)}),n},ri=function(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},oi=function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},si=function(e,t,n){var i,r;for(i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e))return i;return-1},ai=function(e,t,n){var i=si(e,t,n);return-1!==i?e[i]:void 0},li=function(e){return e[e.length-1]},ui={isArray:Jn,toArray:ei,each:ti,map:ni,filter:ii,indexOf:ri,reduce:oi,findIndex:si,find:ai,last:li},ci=/^\s*|\s*$/g,di=function(e){return null===e||void 0===e?"":(""+e).replace(ci,"")},fi=function(e,t){return t?"array"===t&&ui.isArray(e)?!0:typeof e===t:void 0!==e},hi=function(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},pi=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},mi=function(e,t,n){var i,r,o,s,a,l=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"===e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},u=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],a=r[o],u?r[o]=function(){return i[s].apply(this,arguments)}:r[o]=function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){
r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}},gi=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r,o,s,a,l=arguments;for(r=1,o=l.length;o>r;r++){t=l[r];for(s in t)t.hasOwnProperty(s)&&(a=t[s],void 0!==a&&(e[s]=a))}return e},vi=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),ui.each(e,function(e,r){return t.call(i,e,r,n)===!1?!1:void vi(e,t,n,i)}))},yi=function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t},bi=function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;i>n&&(t=t[e[n]],t);n++);return t},_i=function(e,t){return!e||fi(e,"array")?e:ui.map(e.split(t||","),di)},wi=function(e){var t=St.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},xi={trim:di,isArray:ui.isArray,is:fi,toArray:ui.toArray,makeMap:hi,each:ui.each,map:ui.map,grep:ui.filter,inArray:ui.indexOf,hasOwn:pi,extend:gi,create:mi,walk:vi,createNS:yi,resolve:bi,explode:_i,_addCacheSuffix:wi},Ci=document,ki=Array.prototype.push,Ti=Array.prototype.slice,Si=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ei=Vt.Event,Di=xi.makeMap("children,contents,next,prev"),Ai=function(e){return"undefined"!=typeof e},Ni=function(e){return"string"==typeof e},Pi=function(e){return e&&e===e.window},Oi=function(e,t){var n,i,r;for(t=t||Ci,r=t.createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n},Mi=function(e,t,n,i){var r;if(Ni(t))t=Oi(t,Xi(e[0]));else if(t.length&&!t.nodeType){if(t=ji.makeArray(t),i)for(r=t.length-1;r>=0;r--)Mi(e,t[r],n,i);else for(r=0;r<t.length;r++)Mi(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},Ii=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ri=function(e,t,n){var i,r;return t=ji(t)[0],e.each(function(){var e=this;n&&i===e.parentNode?r.appendChild(e):(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e),r.appendChild(e))}),e},Li=xi.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Bi=xi.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Fi={"for":"htmlFor","class":"className",readonly:"readOnly"},$i={"float":"cssFloat"},zi={},Hi={},ji=function(e,t){return new ji.fn.init(e,t)},Wi=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},qi=/^\s*|\s*$/g,Ui=function(e){return null===e||void 0===e?"":(""+e).replace(qi,"")},Yi=function(e,t){var n,i,r,o;if(e)if(n=e.length,void 0===n){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],t.call(o,i,o)===!1))break}else for(r=0;n>r&&(o=e[r],t.call(o,r,o)!==!1);r++);return e},Vi=function(e,t){var n=[];return Yi(e,function(e,i){t(i,e)&&n.push(i)}),n},Xi=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ci};ji.fn=ji.prototype={constructor:ji,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return ji(e).attr(t);r.context=t=document}if(Ni(e)){if(r.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Si.exec(e),!n)return ji(t).find(e);if(n[1])for(i=Oi(e,Xi(t)).firstChild;i;)ki.call(r,i),i=i.nextSibling;else{if(i=Xi(t).getElementById(n[2]),!i)return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return xi.toArray(this)},add:function(e,t){var n,i,r=this;if(Ni(e))return r.add(ji(e));if(t!==!1)for(n=ji.unique(r.toArray().concat(ji.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else ki.apply(r,ji.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)Yi(e,function(e,t){i.attr(e,t)});else{if(!Ai(t)){if(i[0]&&1===i[0].nodeType){if(n=zi[e],n&&n.get)return n.get(i[0],e);if(Bi[e])return i.prop(e)?e:void 0;t=i[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=zi[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=Fi[e]||e,"object"==typeof e)Yi(e,function(e,t){n.prop(e,t)});else{if(!Ai(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,i,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Yi(e,function(e,t){r.css(e,t)});else if(Ai(t))e=o(e),"number"!=typeof t||Li[e]||(t=t.toString()+"px"),r.each(function(){var n=this.style;if(i=Hi[e],i&&i.set)return void i.set(this,t);try{this.style[$i[e]||e]=t}catch(r){}(null===t||""===t)&&(n.removeProperty?n.removeProperty(s(e)):n.removeAttribute(e))});else{if(n=r[0],i=Hi[e],i&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(e))}catch(a){return void 0}}return r},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Ei.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Ai(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){ji(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Ai(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Mi(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Mi(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Mi(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Mi(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return ji(e).append(this),this},prependTo:function(e){return ji(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ri(this,e)},wrapAll:function(e){return Ri(this,e,!0)},wrapInner:function(e){return this.each(function(){ji(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ji(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ji(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?Yi(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;o=Ii(i,e),o!==t&&(r=i.className,o?i.className=Ui((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)}),n)},hasClass:function(e){return Ii(this[0],e)},each:function(e){return Yi(this,e)},on:function(e,t){return this.each(function(){Ei.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ei.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ei.fire(this,e.type,e):Ei.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ji(Ti.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;n>t;t++)ji.find(e,this[t],i);return ji(i)},filter:function(e){return ji("function"==typeof e?Vi(this.toArray(),function(t,n){return e(n,t)}):ji.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ji&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&ji(i).is(e)){t.push(i);break}if(i===e){t.push(i);break}i=i.parentNode}}),ji(t)},offset:function(e){var t,n,i,r,o=0,s=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,i=n.documentElement,t.getBoundingClientRect&&(r=t.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:ki,sort:[].sort,splice:[].splice},xi.extend(ji,{extend:xi.extend,makeArray:function(e){return Pi(e)||e.nodeType?[e]:xi.toArray(e)},inArray:Wi,isArray:xi.isArray,each:Yi,trim:Ui,grep:Vi,find:Zn,expr:Zn.selectors,unique:Zn.uniqueSort,text:Zn.getText,contains:Zn.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return t=1===t.length?ji.find.matchesSelector(t[0],e)?[t[0]]:[]:ji.find.matches(e,t)}});var Gi=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof ji&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&ji(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},Ki=function(e,t,n,i){var r=[];for(i instanceof ji&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&ji(e).is(i))break}r.push(e)}return r},Qi=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Yi({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Gi(e,"parentNode")},next:function(e){return Qi(e,"nextSibling",1)},prev:function(e){return Qi(e,"previousSibling",1)},children:function(e){return Ki(e.firstChild,"nextSibling",1)},contents:function(e){return xi.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){ji.fn[e]=function(n){var i=this,r=[];return i.each(function(){var e=t.call(r,this,n,r);e&&(ji.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(Di[e]||(r=ji.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=ji(r),n?r.filter(n):r}}),Yi({parentsUntil:function(e,t){return Gi(e,"parentNode",t)},nextUntil:function(e,t){return Ki(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Ki(e,"previousSibling",1,t).slice(1)}},function(e,t){ji.fn[e]=function(n,i){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(ji.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=ji.unique(o),(0===e.indexOf("parents")||"prevUntil"===e)&&(o=o.reverse())),o=ji(o),i?o.filter(i):o}}),ji.fn.is=function(e){return!!e&&this.filter(e).length>0},ji.fn.init.prototype=ji.fn,ji.overrideDefaults=function(e){var t,n=function(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r||(r=t.context),new n.fn.init(i,r)};return ji.extend(n,this),n};var Zi=function(e,t,n){Yi(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})};St.ie&&St.ie<8&&(Zi(zi,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),Zi(zi,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),St.ie&&St.ie<9&&($i["float"]="styleFloat",Zi(Hi,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),ji.attrHooks=zi,ji.cssHooks=Hi;var Ji,er,tr,nr=function(e){var t,n=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n||(n=!0,t=e.apply(null,i)),t}},ir=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}return void 0},rr=function(e,t){var n=ir(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return ar(i(1),i(2))},or=function(e,t){var n=String(t).toLowerCase();return 0===e.length?sr():rr(e,n)},sr=function(){return ar(0,0)},ar=function(e,t){return{major:e,minor:t}},lr={nu:ar,detect:or,unknown:sr},ur="Edge",cr="Chrome",dr="IE",fr="Opera",hr="Firefox",pr="Safari",mr=function(e,t){return function(){return t===e}},gr=function(){return vr({current:void 0,version:lr.unknown()})},vr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:mr(ur,t),isChrome:mr(cr,t),isIE:mr(dr,t),isOpera:mr(fr,t),isFirefox:mr(hr,t),isSafari:mr(pr,t)}},yr={unknown:gr,nu:vr,edge:ve(ur),chrome:ve(cr),ie:ve(dr),opera:ve(fr),firefox:ve(hr),safari:ve(pr)},br="Windows",_r="iOS",wr="Android",xr="Linux",Cr="OSX",kr="Solaris",Tr="FreeBSD",Sr=function(e,t){return function(){return t===e}},Er=function(){return Dr({current:void 0,version:lr.unknown()})},Dr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:Sr(br,t),isiOS:Sr(_r,t),isAndroid:Sr(wr,t),isOSX:Sr(Cr,t),isLinux:Sr(xr,t),isSolaris:Sr(kr,t),isFreeBSD:Sr(Tr,t)}},Ar={unknown:Er,nu:Dr,windows:ve(br),ios:ve(_r),android:ve(wr),linux:ve(xr),osx:ve(Cr),solaris:ve(kr),freebsd:ve(Tr)},Nr=function(e,t){var n=String(t).toLowerCase();return Ke(e,function(e){return e.search(n)})},Pr=function(e,t){return Nr(e,t).map(function(e){var n=lr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Or=function(e,t){return Nr(e,t).map(function(e){var n=lr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Mr={detectBrowser:Pr,detectOs:Or},Ir=function(e,t){return-1!==e.indexOf(t)},Rr=function(e){return e.replace(/^\s+|\s+$/g,"")},Lr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Br=function(e){return function(t){return Ir(t,e)}},Fr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=Ir(e,"edge/")&&Ir(e,"chrome")&&Ir(e,"safari")&&Ir(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Lr],search:function(e){return Ir(e,"chrome")&&!Ir(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ir(e,"msie")||Ir(e,"trident")}},{name:"Opera",versionRegexes:[Lr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Br("firefox")},{name:"Safari",versionRegexes:[Lr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ir(e,"safari")||Ir(e,"mobile/"))&&Ir(e,"applewebkit")}}],$r=[{name:"Windows",search:Br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ir(e,"iphone")||Ir(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Br("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Br("linux"),versionRegexes:[]},{name:"Solaris",search:Br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Br("freebsd"),versionRegexes:[]}],zr={browsers:ve(Fr),oses:ve($r)},Hr=function(e){var t=zr.browsers(),n=zr.oses(),i=Mr.detectBrowser(t,e).fold(yr.unknown,yr.nu),r=Mr.detectOs(n,e).fold(Ar.unknown,Ar.nu),o=g(r,i,e);return{browser:i,os:r,deviceType:o}},jr={detect:Hr},Wr=nr(function(){var e=navigator.userAgent;return jr.detect(e)}),qr={detect:Wr},Ur=function(e,t){var n=t||document,i=n.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Xr(i.childNodes[0])},Yr=function(e,t){var n=t||document,i=n.createElement(e);return Xr(i)},Vr=function(e,t){var n=t||document,i=n.createTextNode(e);return Xr(i)},Xr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ve(e)}},Gr=function(e,t,n){var i=e.dom();return Ae.from(i.elementFromPoint(t,n)).map(Xr)},Kr={fromHtml:Ur,fromTag:Yr,fromText:Vr,fromDom:Xr,fromPoint:Gr},Qr={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE},Zr=function(e){var t=e.dom().nodeName;return t.toLowerCase()},Jr=function(e){return e.dom().nodeType},eo=function(e){return e.dom().nodeValue},to=function(e){return function(t){return Jr(t)===e}},no=function(e){return Jr(e)===Qr.COMMENT||"#comment"===Zr(e)},io=to(Qr.ELEMENT),ro=to(Qr.TEXT),oo=to(Qr.DOCUMENT),so={name:Zr,type:Jr,value:eo,isElement:io,isText:ro,isDocument:oo,isComment:no},ao=Object.keys,lo=function(e,t){for(var n=ao(e),i=0,r=n.length;r>i;i++){var o=n[i],s=e[o];t(s,o,e)}},uo=function(e,t){return co(e,function(e,n,i){return{k:n,v:t(e,n,i)}})},co=function(e,t){var n={};return lo(e,function(i,r){var o=t(i,r,e);n[o.k]=o.v}),n},fo=function(e,t){var n={},i={};return lo(e,function(e,r){var o=t(e,r)?n:i;o[r]=e}),{t:n,f:i}},ho=function(e,t,n){if(!(Oe(n)||Le(n)||Fe(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},po=function(e,t,n){ho(e.dom(),t,n)},mo=function(e,t){var n=e.dom();lo(t,function(e,t){ho(n,t,e)})},go=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},vo=function(e,t){var n=e.dom();return n&&n.hasAttribute?n.hasAttribute(t):!1},yo=function(e,t){e.dom().removeAttribute(t)},bo=function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},_o=function(e){return Ge(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},wo=function(e,t,n){vo(e,n)&&!vo(t,n)&&po(t,n,go(e,n))},xo=function(e,t,n){so.isElement(e)&&so.isElement(t)&&qe(n,function(n){wo(e,t,n)})},Co={clone:_o,set:po,setAll:mo,get:go,has:vo,remove:yo,hasNone:bo,transfer:xo},ko=function(e){var t=so.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},To=nr(function(){return So(Kr.fromDom(document))}),So=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return Kr.fromDom(t)},Eo={body:To,getBody:So,inBody:ko},Do=function(e){return void 0!==e.style},Ao={isSupported:Do},No=function(e,t,n){if(!Oe(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Ao.isSupported(e)&&e.style.setProperty(t,n)},Po=function(e,t){Ao.isSupported(e)&&e.style.removeProperty(t)},Oo=function(e,t,n){var i=e.dom();No(i,t,n)},Mo=function(e,t){var n=e.dom();lo(t,function(e,t){No(n,t,e)})},Io=function(e,t){var n=e.dom();lo(t,function(e,t){e.fold(function(){Po(n,t)},function(e){No(n,t,e)})})},Ro=function(e,t){var n=e.dom(),i=window.getComputedStyle(n),r=i.getPropertyValue(t),o=""!==r||Eo.inBody(e)?r:Lo(n,t);return null===o?void 0:o},Lo=function(e,t){return Ao.isSupported(e)?e.style.getPropertyValue(t):""},Bo=function(e,t){var n=e.dom(),i=Lo(n,t);return Ae.from(i).filter(function(e){return e.length>0})},Fo=function(e){var t={},n=e.dom();if(Ao.isSupported(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t},$o=function(e,t,n){var i=Kr.fromTag(e);Oo(i,t,n);var r=Bo(i,t);return r.isSome()},zo=function(e,t){var n=e.dom();Po(n,t),Co.has(e,"style")&&""===Rr(Co.get(e,"style"))&&Co.remove(e,"style")},Ho=function(e,t){var n=Co.get(e,"style"),i=t(e),r=void 0===n?Co.remove:Co.set;return r(e,"style",n),i},jo=function(e,t){var n=e.dom(),i=t.dom();Ao.isSupported(n)&&Ao.isSupported(i)&&(i.style.cssText=n.style.cssText)},Wo=function(e){return e.dom().offsetWidth},qo=function(e,t,n){Bo(e,n).each(function(e){Bo(t,n).isNone()&&Oo(t,n,e)})},Uo=function(e,t,n){so.isElement(e)&&so.isElement(t)&&qe(n,function(n){qo(e,t,n)})},Yo={copy:jo,set:Oo,preserve:Ho,setAll:Mo,setOptions:Io,remove:zo,get:Ro,getRaw:Bo,getAllRaw:Fo,isValidValue:$o,reflow:Wo,transfer:Uo},Vo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var i={};return qe(e,function(e,n){i[e]=ve(t[n])}),i}},Xo=function(e,t){var n=[],i=function(e){return n.push(e),t(e)},r=t(e);do r=r.bind(i);while(r.isSome());return n},Go={toArray:Xo},Ko=function(){var e=gt.getOrDie("Node");return e},Qo=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Zo=function(e,t){return Qo(e,t,Ko().DOCUMENT_POSITION_PRECEDING)},Jo=function(e,t){return Qo(e,t,Ko().DOCUMENT_POSITION_CONTAINED_BY)},es={documentPositionPreceding:Zo,documentPositionContainedBy:Jo},ts=Qr.ELEMENT,ns=Qr.DOCUMENT,is=function(e,t){var n=e.dom();if(n.nodeType!==ts)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},rs=function(e){return e.nodeType!==ts&&e.nodeType!==ns||0===e.childElementCount},os=function(e,t){var n=void 0===t?document:t.dom();return rs(n)?[]:We(n.querySelectorAll(e),Kr.fromDom)},ss=function(e,t){var n=void 0===t?document:t.dom();return rs(n)?Ae.none():Ae.from(n.querySelector(e)).map(Kr.fromDom)},as={all:os,is:is,one:ss},ls=function(e,t){return e.dom()===t.dom()},us=function(e,t){return e.dom().isEqualNode(t.dom())},cs=function(e,t){return je(t,be(ls,e))},ds=function(e,t){var n=e.dom(),i=t.dom();return n===i?!1:n.contains(i)},fs=function(e,t){return es.documentPositionContainedBy(e.dom(),t.dom())},hs=qr.detect().browser,ps=hs.isIE()?fs:ds,ms={eq:ls,isEqualNode:us,member:cs,contains:ps,is:as.is},gs=function(e){return Kr.fromDom(e.dom().ownerDocument)},vs=function(e){return Kr.fromDom(e.dom().ownerDocument.documentElement)},ys=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return Kr.fromDom(n)},bs=function(e){var t=e.dom();return Ae.from(t.parentNode).map(Kr.fromDom)},_s=function(e){return bs(e).bind(function(t){var n=Ds(t);return Qe(n,function(t){return ms.eq(e,t)})})},ws=function(e,t){for(var n=Be(t)?t:ve(!1),i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,s=Kr.fromDom(o);if(r.push(s),n(s)===!0)break;i=o}return r},xs=function(e){var t=function(t){return Ve(t,function(t){return!ms.eq(e,t)})};return bs(e).map(Ds).map(t).getOr([])},Cs=function(e){var t=e.dom();return Ae.from(t.offsetParent).map(Kr.fromDom)},ks=function(e){var t=e.dom();return Ae.from(t.previousSibling).map(Kr.fromDom)},Ts=function(e){var t=e.dom();return Ae.from(t.nextSibling).map(Kr.fromDom)},Ss=function(e){return rt(Go.toArray(e,ks))},Es=function(e){return Go.toArray(e,Ts)},Ds=function(e){var t=e.dom();return We(t.childNodes,Kr.fromDom)},As=function(e,t){var n=e.dom().childNodes;return Ae.from(n[t]).map(Kr.fromDom)},Ns=function(e){return As(e,0)},Ps=function(e){return As(e,e.dom().childNodes.length-1)},Os=function(e){return e.dom().childNodes.length},Ms=function(e){return e.dom().hasChildNodes()},Is=Vo("element","offset"),Rs=function(e,t){var n=Ds(e);return n.length>0&&t<n.length?Is(n[t],0):Is(e,t)},Ls={owner:gs,defaultView:ys,documentElement:vs,parent:bs,findIndex:_s,parents:ws,siblings:xs,prevSibling:ks,offsetParent:Cs,prevSiblings:Ss,nextSibling:Ts,nextSiblings:Es,children:Ds,child:As,firstChild:Ns,lastChild:Ps,childNodesCount:Os,hasChildNodes:Ms,leaf:Rs},Bs=qr.detect().browser,Fs=function(e){return Ke(e,so.isElement)},$s=function(e){return Bs.isFirefox()&&"table"===so.name(e)?Fs(Ls.children(e)).filter(function(e){return"caption"===so.name(e)}).bind(function(e){return Fs(Ls.nextSiblings(e)).map(function(t){var n=t.dom().offsetTop,i=e.dom().offsetTop,r=e.dom().offsetHeight;return i>=n?-r:0})}).getOr(0):0},zs=function(e,t,n){var i,r,o=0,s=0,a=e.ownerDocument;if(n=n?n:e,t){if(n===e&&t.getBoundingClientRect&&"static"===Yo.get(Kr.fromDom(e),"position"))return r=t.getBoundingClientRect(),o=r.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,s=r.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop,{x:o,y:s};for(i=t;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=$s(Kr.fromDom(t))}return{x:o,y:s}},Hs={getPos:zs},js=function(e){var t=Ae.none(),n=[],i=function(e){return js(function(t){r(function(n){t(e(n))})})},r=function(e){s()?l(e):n.push(e)},o=function(e){t=Ae.some(e),a(n),n=[]},s=function(){return t.isSome()},a=function(e){qe(e,l)},l=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(o),{get:r,map:i,isReady:s}},Ws=function(e){return js(function(t){t(e)})},qs={nu:js,pure:Ws},Us=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;setTimeout(function(){e.apply(i,t)},0)}},Ys=function(e){var t=function(t){e(Us(t))},n=function(e){return Ys(function(n){t(function(t){var i=e(t);n(i)})})},i=function(e){return Ys(function(n){t(function(t){e(t).get(n)})})},r=function(e){return Ys(function(n){t(function(t){e.get(n)})})},o=function(){return qs.nu(t)};return{map:n,bind:i,anonBind:r,toLazy:o,get:t}},Vs=function(e){return Ys(function(t){t(e)})},Xs={nu:Ys,pure:Vs},Gs=function(e,t){return t(function(t){var n=[],i=0,r=function(r){return function(o){n[r]=o,i++,i>=e.length&&t(n)}};0===e.length?t([]):qe(e,function(e,t){e.get(r(t))})})},Ks=function(e){return Gs(e,Xs.nu)},Qs=function(e){var t=function(t){return e===t},n=function(t){return Qs(e)},i=function(t){return Qs(e)},r=function(t){return Qs(t(e))},o=function(t){t(e)},s=function(t){return t(e)},a=function(t,n){return n(e)},l=function(t){return t(e)},u=function(t){return t(e)},c=function(){return Ae.some(e)};return{is:t,isValue:xe,isError:we,getOr:ve(e),getOrThunk:ve(e),getOrDie:ve(e),or:n,orThunk:i,fold:a,map:r,each:o,bind:s,exists:l,forall:u,toOption:c}},Zs=function(e){var t=function(e){return e()},n=function(){return _e(String(e))()},i=function(e){return e},r=function(e){return e()},o=function(t){return Zs(e)},s=function(t){return Zs(e)},a=function(t,n){return t(e)};return{is:we,isValue:we,isError:xe,getOr:ye,getOrThunk:t,getOrDie:n,or:i,orThunk:r,fold:a,map:o,each:me,bind:s,exists:we,forall:xe,toOption:Ae.none}},Js={value:Qs,error:Zs},ea=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],ta=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],na=["td","th"],ia=["thead","tbody","tfoot"],ra=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],oa=["h1","h2","h3","h4","h5","h6"],sa=["li","dd","dt"],aa=["ul","ol","dl"],la=["pre","script","textarea","style"],ua=function(e){var t;return function(n){return t=t?t:st(e,ve(!0)),t.hasOwnProperty(so.name(n))}},ca=ua(oa),da=ua(ea),fa=function(e){return so.isElement(e)&&!da(e)},ha=function(e){return so.isElement(e)&&"br"===so.name(e)},pa=ua(ra),ma=ua(aa),ga=ua(sa),va=ua(ta),ya=ua(ia),ba=ua(na),_a=ua(la),wa=function(e){return function(t){return!!t&&t.nodeType===e}},xa=wa(1),Ca=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}},ka=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var i,r;if(xa(t))for(i=0;i<n.length;i++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if(r=o?o.getPropertyValue(e):null,r===n[i])return!0}return!1}},Ta=function(e,t){return function(n){return xa(n)&&n[e]===t}},Sa=function(e,t){return function(t){return xa(t)&&t.hasAttribute(e)}},Ea=function(e,t){return function(n){return xa(n)&&n.getAttribute(e)===t}},Da=function(e){return xa(e)&&e.hasAttribute("data-mce-bogus")},Aa=function(e){return xa(e)&&"all"===e.getAttribute("data-mce-bogus")},Na=function(e){return xa(e)&&"TABLE"===e.tagName},Pa=function(e){return function(t){if(xa(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Oa=wa(3),Ma=wa(8),Ia=wa(9),Ra=Ca("br"),La=Pa("true"),Ba=Pa("false"),Fa={isText:Oa,isElement:xa,isComment:Ma,isDocument:Ia,isBr:Ra,isContentEditableTrue:La,isContentEditableFalse:Ba,matchNodeNames:Ca,hasPropValue:Ta,hasAttribute:Sa,hasAttributeValue:Ea,matchStyleValues:ka,isBogus:Da,isBogusAll:Aa,isTable:Na},$a=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},za=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Ha=function(e,t){var n,i=t.childNodes;if(!Fa.isElement(t)||!za(t)){for(n=i.length-1;n>=0;n--)Ha(e,i[n]);if(Fa.isDocument(t)===!1){if(Fa.isText(t)&&t.nodeValue.length>0){var r=xi.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||r>0)return;if(0===r&&$a(t))return}else if(Fa.isElement(t)&&(i=t.childNodes,1===i.length&&za(i[0])&&t.parentNode.insertBefore(i[0],t),i.length||va(Kr.fromDom(t))))return;e.remove(t)}return t}},ja={trimNode:Ha},Wa=xi.makeMap,qa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ua=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ya=/[<>&\"\']/g,Va=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Xa={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};er={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},tr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Ga=function(e){var t;return t=Kr.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},Ka=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),er[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}};Ji=Ka("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);
var Qa=function(e,t){return e.replace(t?qa:Ua,function(e){return er[e]||e})},Za=function(e){return(""+e).replace(Ya,function(e){return er[e]||e})},Ja=function(e,t){return e.replace(t?qa:Ua,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":er[e]||"&#"+e.charCodeAt(0)+";"})},el=function(e,t,n){return n=n||Ji,e.replace(t?qa:Ua,function(e){return er[e]||n[e]||e})},tl=function(e,t){var n=Ka(t)||Ji,i=function(e,t){return e.replace(t?qa:Ua,function(e){return void 0!==er[e]?er[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},r=function(e,t){return el(e,t,n)},o=Wa(e.replace(/\+/g,","));return o.named&&o.numeric?i:o.named?t?r:el:o.numeric?Ja:Qa},nl=function(e){return e.replace(Va,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Xa[t]||String.fromCharCode(t)):tr[e]||Ji[e]||Ga(e)})},il={encodeRaw:Qa,encodeAllRaw:Za,encodeNumeric:Ja,encodeNamed:el,getEncodeFunc:tl,decode:nl},rl={},ol={},sl=xi.makeMap,al=xi.each,ll=xi.extend,ul=xi.explode,cl=xi.inArray,dl=function(e,t){return e=xi.trim(e),e?e.split(t||" "):[]},fl=function(e){var t,n,i,r,o,s,a={},l=function(e,n,i){var r,o,s,l=function(e,t){var n,i,r={};for(n=0,i=e.length;i>n;n++)r[e[n]]=t||{};return r};for(i=i||[],n=n||"","string"==typeof i&&(i=dl(i)),e=dl(e),r=e.length;r--;)o=dl([t,n].join(" ")),s={attributes:l(o),attributesOrder:o,children:l(i,ol)},a[e[r]]=s},u=function(e,t){var n,i,r,o;for(e=dl(e),n=e.length,t=dl(t);n--;)for(i=a[e[n]],r=0,o=t.length;o>r;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])};return rl[e]?rl[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",s="acronym applet basefont big font strike tt",i=[i,s].join(" "),al(dl(s),function(e){l(e,"",i)}),o="center dir isindex noframes",n=[n,o].join(" "),r=[n,i].join(" "),al(dl(o),function(e){l(e,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),al(dl("a form meter progress dfn"),function(e){a[e]&&delete a[e].children[e]}),delete a.caption.children.table,delete a.script,rl[e]=a,a)},hl=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),al(e,function(e,i){n[i]=n[i.toUpperCase()]="map"===t?sl(e,/[, ]/):ul(e,/[, ]/)})),n},pl=function(e,t,n,i){var r=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+r(t)+r(n)+r(i)},ml=xi.each,gl=xi.grep,vl=St.ie,yl=/^([a-z0-9],?)+$/i,bl=/^[ \t\r\n]*$/,_l=function(e,t,n){var i={},r=t.keep_values,o={set:function(e,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||n(),i,r,e[0])),e.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return i={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(r&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}},r&&(i.href=i.src=o),i},wl=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i||(i=null),t.attr("data-mce-style",i)},xl=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r};!function(e){e.DOM=e(document),e.nodeIndex=xl}(w||(w={}));var Cl=w,kl=Cl.DOM,Tl=xi.each,Sl=xi.grep,El=function(e){return"function"==typeof e},Dl=function(){var e=0,t=1,n=2,i=3,r={},o=[],s={},a=[],l=0,u=function(e,t,n){var i,r,o=kl,s=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),t()},a=function(){El(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)};r=o.uniqueId(),i=document.createElement("script"),i.id=r,i.type="text/javascript",i.src=xi._addCacheSuffix(e),i.onload=s,i.onerror=a,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)};this.isDone=function(e){return r[e]===n},this.markDone=function(e){r[e]=n},this.add=this.load=function(t,n,i,a){var l=r[t];void 0===l&&(o.push(t),r[t]=e),n&&(s[t]||(s[t]=[]),s[t].push({success:n,failure:a,scope:i||this}))},this.remove=function(e){delete r[e],delete s[e]},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n)},this.loadScripts=function(e,o,c,d){var f,h=[],p=function(e,t){Tl(s[t],function(t){El(t[e])&&t[e].call(t.scope)}),s[t]=void 0};a.push({success:o,failure:d,scope:c||this}),(f=function(){var o=Sl(e);if(e.length=0,Tl(o,function(e){return r[e]===n?void p("success",e):r[e]===i?void p("failure",e):void(r[e]!==t&&(r[e]=t,l++,u(e,function(){r[e]=n,l--,p("success",e),f()},function(){r[e]=i,l--,h.push(e),p("failure",e),f()})))}),!l){var s=a.slice(0);a.length=0,Tl(s,function(e){0===h.length?El(e.success)&&e.success.call(e.scope):El(e.failure)&&e.failure.call(e.scope,h)})}})()}};Dl.ScriptLoader=new Dl;var Al=xi.each;!function(e){e.PluginManager=e(),e.ThemeManager=e()}(x||(x={}));var Nl=function(e,t){var n=Ls.parent(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Pl=function(e,t){var n=Ls.nextSibling(e);n.fold(function(){var n=Ls.parent(e);n.each(function(e){Ml(e,t)})},function(e){Nl(e,t)})},Ol=function(e,t){var n=Ls.firstChild(e);n.fold(function(){Ml(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Ml=function(e,t){e.dom().appendChild(t.dom())},Il=function(e,t,n){Ls.child(e,n).fold(function(){Ml(e,t)},function(e){Nl(e,t)})},Rl=function(e,t){Nl(e,t),Ml(t,e)},Ll={before:Nl,after:Pl,prepend:Ol,append:Ml,appendAt:Il,wrap:Rl},Bl=function(e,t){qe(t,function(t){Ll.before(e,t)})},Fl=function(e,t){qe(t,function(n,i){var r=0===i?e:t[i-1];Ll.after(r,n)})},$l=function(e,t){qe(t.slice().reverse(),function(t){Ll.prepend(e,t)})},zl=function(e,t){qe(t,function(t){Ll.append(e,t)})},Hl={before:Bl,after:Fl,prepend:$l,append:zl},jl=function(e){e.dom().textContent="",qe(Ls.children(e),function(e){Wl(e)})},Wl=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ql=function(e){var t=Ls.children(e);t.length>0&&Hl.before(e,t),Wl(e)},Ul={empty:jl,remove:Wl,unwrap:ql},Yl=function(e,t){var n=null,i=function(){null!==n&&(clearTimeout(n),n=null)},r=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];null===n&&(n=setTimeout(function(){e.apply(null,i),n=null},t))};return{cancel:i,throttle:r}},Vl=function(e,t){var n=null,i=function(){null!==n&&(clearTimeout(n),n=null)},r=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,i),n=null},t)};return{cancel:i,throttle:r}},Xl=function(e){var t=e,n=function(){return t},i=function(e){t=e},r=function(){return Xl(n())};return{get:n,set:i,clone:r}},Gl=function(e,t){var n=Co.get(e,t);return void 0===n||""===n?[]:n.split(" ")},Kl=function(e,t,n){var i=Gl(e,t),r=i.concat([n]);return Co.set(e,t,r.join(" ")),!0},Ql=function(e,t,n){var i=Ve(Gl(e,t),function(e){return e!==n});return i.length>0?Co.set(e,t,i.join(" ")):Co.remove(e,t),!1},Zl={read:Gl,add:Kl,remove:Ql},Jl=function(e){return void 0!==e.dom().classList},eu=function(e){return Zl.read(e,"class")},tu=function(e,t){return Zl.add(e,"class",t)},nu=function(e,t){return Zl.remove(e,"class",t)},iu=function(e,t){return He(eu(e),t)?nu(e,t):tu(e,t)},ru={get:eu,add:tu,remove:nu,toggle:iu,supports:Jl},ou=function(e,t){ru.supports(e)?e.dom().classList.add(t):ru.add(e,t)},su=function(e){var t=ru.supports(e)?e.dom().classList:ru.get(e);0===t.length&&Co.remove(e,"class")},au=function(e,t){if(ru.supports(e)){var n=e.dom().classList;n.remove(t)}else ru.remove(e,t);su(e)},lu=function(e,t){return ru.supports(e)?e.dom().classList.toggle(t):ru.toggle(e,t)},uu=function(e,t){var n=ru.supports(e),i=e.dom().classList,r=function(){n?i.remove(t):ru.remove(e,t)},o=function(){n?i.add(t):ru.add(e,t)};return C(r,o,cu(e,t))},cu=function(e,t){return ru.supports(e)&&e.dom().classList.contains(t)},du={add:ou,remove:au,toggle:lu,toggler:uu,has:cu},fu=function(e){return gu(Eo.body(),e)},hu=function(e,t,n){return Ve(Ls.parents(e,n),t)},pu=function(e,t){return Ve(Ls.siblings(e),t)},mu=function(e,t){return Ve(Ls.children(e),t)},gu=function(e,t){var n=[];return qe(Ls.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(gu(e,t))}),n},vu={all:fu,ancestors:hu,siblings:pu,children:mu,descendants:gu},yu=function(e){return as.all(e)},bu=function(e,t,n){return vu.ancestors(e,function(e){return as.is(e,t)},n)},_u=function(e,t){return vu.siblings(e,function(e){return as.is(e,t)})},wu=function(e,t){return vu.children(e,function(e){return as.is(e,t)})},xu=function(e,t){return as.all(t,e)},Cu={all:yu,ancestors:bu,siblings:_u,children:wu,descendants:xu},ku=function(e){return Au(Eo.body(),e)},Tu=function(e,t,n){for(var i=e.dom(),r=Be(n)?n:ve(!1);i.parentNode;){i=i.parentNode;var o=Kr.fromDom(i);if(t(o))return Ae.some(o);if(r(o))break}return Ae.none()},Su=function(e,t,n){var i=function(e){return t(e)};return k(i,Tu,e,t,n)},Eu=function(e,t){var n=e.dom();return n.parentNode?Du(Kr.fromDom(n.parentNode),function(n){return!ms.eq(e,n)&&t(n)}):Ae.none()},Du=function(e,t){var n=Ke(e.dom().childNodes,ge(t,Kr.fromDom));return n.map(Kr.fromDom)},Au=function(e,t){var n=function(e){for(var i=0;i<e.childNodes.length;i++){if(t(Kr.fromDom(e.childNodes[i])))return Ae.some(Kr.fromDom(e.childNodes[i]));var r=n(e.childNodes[i]);if(r.isSome())return r}return Ae.none()};return n(e.dom())},Nu={first:ku,ancestor:Tu,closest:Su,sibling:Eu,child:Du,descendant:Au},Pu=function(e){return as.one(e)},Ou=function(e,t,n){return Nu.ancestor(e,function(e){return as.is(e,t)},n)},Mu=function(e,t){return Nu.sibling(e,function(e){return as.is(e,t)})},Iu=function(e,t){return Nu.child(e,function(e){return as.is(e,t)})},Ru=function(e,t){return as.one(t,e)},Lu=function(e,t,n){return k(as.is,Ou,e,t,n)},Bu={first:Pu,ancestor:Ou,sibling:Mu,child:Iu,descendant:Ru,closest:Lu},Fu=ve("mce-annotation"),$u=ve("data-mce-annotation"),zu=ve("data-mce-annotation-uid"),Hu=function(e,t){var n=e.selection.getRng(),i=Kr.fromDom(n.startContainer),r=Kr.fromDom(e.getBody()),o=t.fold(function(){return"."+Fu()},function(e){return"["+$u()+'="'+e+'"]'}),s=Ls.child(i,n.startOffset).getOr(i),a=Bu.closest(s,o,function(e){return ms.eq(e,r)}),l=function(e,t){return Co.has(e,t)?Ae.some(Co.get(e,t)):Ae.none()};return a.bind(function(t){return l(t,""+zu()).bind(function(n){return l(t,""+$u()).map(function(t){var i=Wu(e,n);return{uid:n,name:t,elements:i}})})})},ju=function(e){return so.isElement(e)&&du.has(e,Fu())},Wu=function(e,t){var n=Kr.fromDom(e.getBody());return Cu.descendants(n,"["+zu()+'="'+t+'"]')},qu=function(e,t){var n=Kr.fromDom(e.getBody()),i=Cu.descendants(n,"["+$u()+'="'+t+'"]'),r={};return qe(i,function(e){var t=Co.get(e,zu()),n=r.hasOwnProperty(t)?r[t]:[];r[t]=n.concat([e])}),r},Uu=function(e,t){var n=Xl({}),i=function(){return{listeners:[],previous:Xl(Ae.none())}},r=function(e,t){o(e,function(e){return t(e),e})},o=function(e,t){var r=n.get(),o=r.hasOwnProperty(e)?r[e]:i(),s=t(o);r[e]=s,n.set(r)},s=function(e,t,n){r(e,function(i){qe(i.listeners,function(i){return i(!0,e,{uid:t,nodes:We(n,function(e){return e.dom()})})})})},a=function(e){r(e,function(t){qe(t.listeners,function(t){return t(!1,e)})})},l=Vl(function(){var t=n.get(),i=at(ao(t));qe(i,function(t){o(t,function(n){var i=n.previous.get();return Hu(e,Ae.some(t)).fold(function(){i.isSome()&&(a(t),n.previous.set(Ae.none()))},function(e){var t=e.uid,r=e.name,o=e.elements;i.is(t)||(s(r,t,o),n.previous.set(Ae.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);e.on("remove",function(){l.cancel()}),e.on("nodeChange",function(){l.throttle()});var u=function(e,t){o(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})};return{addListener:u}},Yu=function(e,t){var n=function(e){var n=Ae.from(e.attributes.map[$u()]);return n.bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){qe(e,function(e){n(e).each(function(t){t.persistent===!1&&e.unwrap()})})})})},Vu=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?Ae.from(e[t]).map(function(e){return e.settings}):Ae.none()};return{register:t,lookup:n}},Xu=0,Gu=function(e){var t=new Date,n=t.getTime(),i=Math.floor(1e9*Math.random());return Xu++,e+"_"+i+Xu+String(n)},Ku=function(e,t){qe(t,function(t){du.add(e,t)})},Qu=function(e,t){qe(t,function(t){du.remove(e,t)})},Zu=function(e,t){qe(t,function(t){du.toggle(e,t)})},Ju=function(e,t){return nt(t,function(t){return du.has(e,t)})},ec=function(e,t){return je(t,function(t){return du.has(e,t)})},tc=function(e){for(var t=e.dom().classList,n=new Array(t.length),i=0;i<t.length;i++)n[i]=t.item(i);return n},nc=function(e){return ru.supports(e)?tc(e):ru.get(e)},ic={add:Ku,remove:Qu,toggle:Zu,hasAll:Ju,hasAny:ec,get:nc},rc=function(e,t){return Kr.fromDom(e.dom().cloneNode(t))},oc=function(e){return rc(e,!1)},sc=function(e){return rc(e,!0)},ac=function(e,t){var n=Kr.fromTag(t),i=Co.clone(e);return Co.setAll(n,i),n},lc=function(e,t){var n=ac(e,t),i=Ls.children(sc(e));return Hl.append(n,i),n},uc=function(e,t){var n=ac(e,t);Ll.before(e,n);var i=Ls.children(e);return Hl.append(n,i),Ul.remove(e),n},cc={shallow:oc,shallowAs:ac,deep:sc,copy:lc,mutate:uc},dc=[].slice,fc=function(e){return function(){return e}},hc=function(e){return function(t){return!e(t)}},pc=function(e,t){return function(n){return e(t(n))}},mc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=dc.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},gc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=dc.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},vc=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=dc.call(arguments);return i.length-1>=e.length?e.apply(this,i.slice(1)):function(){var e=i.concat([].slice.call(arguments));return vc.apply(this,e)}},yc=function(){},bc={constant:fc,negate:hc,and:gc,or:mc,curry:vc,compose:pc,noop:yc},_c="\ufeff",wc=function(e){return e===_c},xc=function(e){return e.replace(new RegExp(_c,"g"),"")},Cc={isZwsp:wc,ZWSP:_c,trim:xc},kc=Fa.isElement,Tc=Fa.isText,Sc=function(e){return Tc(e)&&(e=e.parentNode),kc(e)&&e.hasAttribute("data-mce-caret")},Ec=function(e){return Tc(e)&&Cc.isZwsp(e.data)},Dc=function(e){return Sc(e)||Ec(e)},Ac=function(e){return e.firstChild!==e.lastChild||!Fa.isBr(e.firstChild)},Nc=function(e,t){var n,i,r,o;if(n=e.ownerDocument,r=n.createTextNode(Cc.ZWSP),o=e.parentNode,t){if(i=e.previousSibling,Tc(i)){if(Dc(i))return i;if(Lc(i))return i.splitText(i.data.length-1)}o.insertBefore(r,e)}else{if(i=e.nextSibling,Tc(i)){if(Dc(i))return i;if(Rc(i))return i.splitText(1),i}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r},Pc=function(e){var t=e.container();return e&&Fa.isText(t)&&t.data.charAt(e.offset())===Cc.ZWSP},Oc=function(e){var t=e.container();return e&&Fa.isText(t)&&t.data.charAt(e.offset()-1)===Cc.ZWSP},Mc=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Ic=function(e,t,n){var i,r,o;return i=t.ownerDocument,r=i.createElement(e),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Mc()),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},Rc=function(e){return Tc(e)&&e.data[0]===Cc.ZWSP},Lc=function(e){return Tc(e)&&e.data[e.data.length-1]===Cc.ZWSP},Bc=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Fa.isBogus(n)&&n.parentNode.removeChild(n)},Fc=function(e){return e&&e.hasAttribute("data-mce-caret")?(Bc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},$c=function(e){return Sc(e.startContainer)},zc=Fa.isContentEditableTrue,Hc=Fa.isContentEditableFalse,jc=Fa.isBr,Wc=Fa.isText,qc=Fa.matchNodeNames("script style textarea"),Uc=Fa.matchNodeNames("img input textarea hr iframe video audio object"),Yc=Fa.matchNodeNames("table"),Vc=Dc,Xc=function(e){return Vc(e)?!1:Wc(e)?qc(e.parentNode)?!1:!0:Uc(e)||jc(e)||Yc(e)||Kc(e)},Gc=function(e){return Fa.isElement(e)&&"true"===e.getAttribute("unselectable")},Kc=function(e){return Gc(e)===!1&&Hc(e)},Qc=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Kc(e))return!1;if(zc(e))return!0}return!0},Zc=function(e){return Kc(e)?ui.reduce(e.getElementsByTagName("*"),function(e,t){return e||zc(t)},!1)!==!0:!1},Jc=function(e){return Uc(e)||Zc(e)},ed=function(e,t){return Xc(e)&&Qc(e,t)},td=Math.round,nd=function(e){return e?{left:td(e.left),top:td(e.top),bottom:td(e.bottom),right:td(e.right),width:td(e.width),height:td(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},id=function(e,t){return e=nd(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},rd=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},od=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},sd=function(e,t){return e.bottom-e.height/2<t.top?!0:e.top>t.bottom?!1:od(t.top-e.bottom,e,t)},ad=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:od(t.bottom-e.top,e,t)},ld=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},ud=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},cd=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},dd=function(e,t){return{x:ud(e,t),y:cd(e,t)}},fd=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},hd=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},pd=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),md=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&pd.test(e)},gd=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];if(!r.isSome())return Ae.none();n.push(r.getOrDie())}return Ae.some(t.apply(null,n))},vd=Fa.isElement,yd=Xc,bd=Fa.matchStyleValues("display","block table"),_d=Fa.matchStyleValues("float","left right"),wd=bc.and(vd,yd,bc.negate(_d)),xd=bc.negate(Fa.matchStyleValues("white-space","pre pre-line pre-wrap")),Cd=Fa.isText,kd=Fa.isBr,Td=Cl.nodeIndex,Sd=hd,Ed=function(e){return"createRange"in e?e.createRange():Cl.DOM.createRng()},Dd=function(e){return e&&/[\r\n\t ]/.test(e)},Ad=function(e){return!!e.setStart&&!!e.setEnd},Nd=function(e){var t,n=e.startContainer,i=e.startOffset;return Dd(e.toString())&&xd(n.parentNode)&&Fa.isText(n)&&(t=n.data,Dd(t[i-1])||Dd(t[i+1]))?!0:!1},Pd=function(e){var t,n=e.ownerDocument,i=Ed(n),r=n.createTextNode("\xa0"),o=e.parentNode;return o.insertBefore(r,e),i.setStart(r,0),i.setEnd(r,1),t=nd(i.getBoundingClientRect()),o.removeChild(r),t},Od=function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&Fa.isText(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),Id(o)}return null},Md=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Id=function(e){var t,n;return n=e.getClientRects(),t=nd(n.length>0?n[0]:e.getBoundingClientRect()),!Ad(e)&&kd(e)&&Md(t)?Pd(e):Md(t)&&Ad(e)?Od(e):t},Rd=function(e,t){var n=id(e,t);return n.width=1,n.right=n.left+1,n},Ld=function(e){var t,n,i=[],r=function(e){0!==e.height&&(i.length>0&&rd(e,i[i.length-1])||i.push(e))},o=function(e,t){var n=Ed(e.ownerDocument);if(t<e.data.length){if(md(e.data[t]))return i;if(md(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Nd(n)))return r(Rd(Id(n),!1)),i}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Nd(n)||r(Rd(Id(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Nd(n)||r(Rd(Id(n),!0)))};if(Cd(e.container()))return o(e.container(),e.offset()),i;if(vd(e.container()))if(e.isAtEnd())n=Sd(e.container(),e.offset()),Cd(n)&&o(n,n.data.length),wd(n)&&!kd(n)&&r(Rd(Id(n),!1));else{if(n=Sd(e.container(),e.offset()),Cd(n)&&o(n,0),wd(n)&&e.isAtEnd())return r(Rd(Id(n),!1)),i;t=Sd(e.container(),e.offset()-1),wd(t)&&!kd(t)&&(bd(t)||bd(n)||!wd(n))&&r(Rd(Id(t),!1)),wd(n)&&r(Rd(Id(n),!0))}return i};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Td(t)+1)},e.before=function(t){return e(t.parentNode,Td(t))},e.isAbove=function(e,t){return gd([lt(t.getClientRects()),ut(e.getClientRects())],sd).getOr(!1)},e.isBelow=function(e,t){return gd([ut(t.getClientRects()),lt(e.getClientRects())],ad).getOr(!1)},e.isAtStart=function(e){return e?e.isAtStart():!1},e.isAtEnd=function(e){return e?e.isAtEnd():!1},e.isTextPosition=function(e){return e?Fa.isText(e.container()):!1},e.isElementPosition=function(t){return e.isTextPosition(t)===!1}}(T||(T={}));var Bd,Fd=T,$d=Fa.isText,zd=Fa.isBogus,Hd=Cl.nodeIndex,jd=function(e){var t=e.parentNode;return zd(t)?jd(t):t},Wd=function(e){return e?ui.reduce(e.childNodes,function(e,t){return zd(t)&&"BR"!==t.nodeName?e=e.concat(Wd(t)):e.push(t),e},[]):[]},qd=function(e,t){for(;(e=e.previousSibling)&&$d(e);)t+=e.data.length;return t},Ud=function(e){return function(t){return e===t}},Yd=function(e){var t,n,i;return t=Wd(jd(e)),n=ui.findIndex(t,Ud(e),e),t=t.slice(0,n+1),i=ui.reduce(t,function(e,n,i){return $d(n)&&$d(t[i-1])&&e++,e},0),t=ui.filter(t,Fa.matchNodeNames(e.nodeName)),n=ui.findIndex(t,Ud(e),e),n-i},Vd=function(e){var t;return t=$d(e)?"text()":e.nodeName.toLowerCase(),t+"["+Yd(e)+"]"},Xd=function(e,t,n){var i=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)i.push(t);return i},Gd=function(e,t){var n,i,r,o,s,a=[];return n=t.container(),i=t.offset(),$d(n)?r=qd(n,i):(o=n.childNodes,i>=o.length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(Vd(n)),s=Xd(e,n),s=ui.filter(s,bc.negate(Fa.isBogus)),a=a.concat(ui.map(s,function(e){return Vd(e)})),a.reverse().join("/")+","+r},Kd=function(e,t,n){var i=Wd(e);return i=ui.filter(i,function(e,t){return!$d(e)||!$d(i[t-1])}),i=ui.filter(i,Fa.matchNodeNames(t)),i[n]},Qd=function(e,t){for(var n,i=e,r=0;$d(i);){if(n=i.data.length,t>=r&&r+n>=t){e=i,t-=r;break}if(!$d(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return $d(e)&&t>e.data.length&&(t=e.data.length),Fd(e,t)},Zd=function(e,t){var n,i,r;return t?(n=t.split(","),t=n[0].split("/"),r=n.length>1?n[1]:"before",i=ui.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),Kd(e,t[1],parseInt(t[2],10))):null},e),i?$d(i)?Qd(i,parseInt(r,10)):(r="after"===r?Hd(i)+1:Hd(i),Fd(i.parentNode,r)):null):null},Jd=Fa.isContentEditableFalse,ef=function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&Fa.isText(i);i=i.previousSibling)r+=e(i.data).length;return r},tf=function(e,t,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Fa.isText(s)?l.push(n?ef(t,s,a):a):(o=s.childNodes,a>=o.length&&o.length&&(u=1,a=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[a],n)+u));s&&s!==c;s=s.parentNode)l.push(e.nodeIndex(s,n));return l},nf=function(e,t,n,i){var r=t.dom,o={};return o.start=tf(r,e,n,i,!0),t.isCollapsed()||(o.end=tf(r,e,n,i,!1)),o},rf=function(e){Fa.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},of=function(e,t,n){var i=0;return xi.each(e.select(t),function(e){return"all"!==e.getAttribute("data-mce-bogus")?e===n?!1:void i++:void 0}),i},sf=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],Fa.isElement(n)&&"TR"===n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))},af=function(e){return sf(e,!0),sf(e,!1),e},lf=function(e,t){var n;if(Fa.isElement(e)&&(e=hd(e,t),Jd(e)))return e;if(Dc(e)){if(Fa.isText(e)&&Sc(e)&&(e=e.parentNode),n=e.previousSibling,Jd(n))return n;if(n=e.nextSibling,Jd(n))return n}},uf=function(e){return lf(e.startContainer,e.startOffset)||lf(e.endContainer,e.endOffset)},cf=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Jd(i)||"IMG"===r)return{name:r,index:of(n.dom,r,i)};var s=uf(o);return s?(r=s.tagName,{name:r,index:of(n.dom,r,s)}):nf(e,n,t,o)},df=function(e){var t=e.getRng();return{start:Gd(e.dom.getRoot(),Fd.fromRangeStart(t)),end:Gd(e.dom.getRoot(),Fd.fromRangeEnd(t))}},ff=function(e){return{rng:e.getRng()}},hf=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},pf=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),s=e.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:of(n,a,s)};var l=af(i.cloneRange());if(!o){l.collapse(!1);var u=hf(n,r+"_end",t);l.insertNode(u),rf(u.nextSibling)}i=af(i),i.collapse(!0);var c=hf(n,r+"_start",t);return i.insertNode(c),rf(c.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}},mf=function(e,t,n){return 2===t?cf(Cc.trim,n,e):3===t?df(e):t?ff(e):pf(e,!1)},gf={getBookmark:mf,getUndoBookmark:be(cf,ye,!0),getPersistentBookmark:pf},vf="_mce_caret",yf=function(e){return Fa.isElement(e)&&e.id===vf;
},bf=function(e,t){for(;t&&t!==e;){if(t.id===vf)return t;t=t.parentNode}return null},_f=Fa.isElement,wf=Fa.isText,xf=function(e){var t=e.parentNode;t&&t.removeChild(e)},Cf=function(e){try{return e.nodeValue}catch(t){return""}},kf=function(e,t){0===t.length?xf(e):e.nodeValue=t},Tf=function(e){var t=Cc.trim(e);return{count:e.length-t.length,text:t}},Sf=function(e,t){return Of(e),t},Ef=function(e,t){var n=Tf(e.data.substr(0,t.offset())),i=Tf(e.data.substr(t.offset())),r=n.text+i.text;return r.length>0?(kf(e,r),Fd(e,t.offset()-n.count)):t},Df=function(e,t){var n=t.container(),i=ze(ct(n.childNodes),e).map(function(e){return e<t.offset()?Fd(n,t.offset()-1):t}).getOr(t);return Of(e),i},Af=function(e,t){return wf(e)&&t.container()===e?Ef(e,t):Sf(e,t)},Nf=function(e,t){return t.container()===e.parentNode?Df(e,t):Sf(e,t)},Pf=function(e,t){return Fd.isTextPosition(t)?Af(e,t):Nf(e,t)},Of=function(e){if(_f(e)&&Dc(e)&&(Ac(e)?e.removeAttribute("data-mce-caret"):xf(e)),wf(e)){var t=Cc.trim(Cf(e));kf(e,t)}},Mf={removeAndReposition:Pf,remove:Of},If=Fa.isContentEditableTrue,Rf=Fa.isContentEditableFalse,Lf=function(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)},Bf=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Ff=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?null:Bf(t)},$f=function(e,t,n){var i=Bp(1,e.getBody(),t),r=Fd.fromRangeStart(i),o=r.getNode();if(Rf(o))return Lf(1,e,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(Rf(s))return Lf(1,e,s,!1,!1);var a=e.dom.getParent(r.getNode(),function(e){return Rf(e)||If(e)});return Rf(a)?Lf(1,e,a,!1,n):null},zf=function(e,t,n){if(!t||!t.collapsed)return t;var i=$f(e,t,n);return i?i:t};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Bd||(Bd={}));var Hf,jf=Fa.isContentEditableFalse,Wf=Fa.isText,qf=Fa.isElement,Uf=Fa.isBr,Yf=Xc,Vf=Jc,Xf=ed,Gf=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Kf=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Qf=function(e,t){if(Tp(e)){if(Yf(t.previousSibling)&&!Wf(t.previousSibling))return Fd.before(t);if(Wf(t))return Fd(t,0)}if(Sp(e)){if(Yf(t.nextSibling)&&!Wf(t.nextSibling))return Fd.after(t);if(Wf(t))return Fd(t,t.data.length)}return Sp(e)?Uf(t)?Fd.before(t):Fd.after(t):Fd.before(t)},Zf=function(e,t){var n;return Fa.isBr(e)?(n=Jf(1,Fd.after(e),t),n?!Np(Fd.before(e),Fd.before(n),t):!1):!1},Jf=function(e,t,n){var i,r,o,s,a;if(!qf(n)||!t)return null;if(t.isEqual(Fd.after(n))&&n.lastChild){if(a=Fd.after(n.lastChild),Sp(e)&&Yf(n.lastChild)&&qf(n.lastChild))return Uf(n.lastChild)?Fd.before(n.lastChild):a}else a=t;var l=a.container(),u=a.offset();if(Wf(l)){if(Sp(e)&&u>0)return Fd(l,--u);if(Tp(e)&&u<l.length)return Fd(l,++u);i=l}else{if(Sp(e)&&u>0&&(r=Kf(l,u-1),Yf(r)))return!Vf(r)&&(o=Dp(r,e,Xf,r))?Wf(o)?Fd(o,o.data.length):Fd.after(o):Wf(r)?Fd(r,r.data.length):Fd.before(r);if(Tp(e)&&u<l.childNodes.length&&(r=Kf(l,u),Yf(r)))return Uf(r)&&n.lastChild===r?null:Zf(r,n)?Jf(e,Fd.after(r),n):!Vf(r)&&(o=Dp(r,e,Xf,r))?Wf(o)?Fd(o,0):Fd.before(o):Wf(r)?Fd(r,0):Fd.after(r);i=r?r:a.getNode()}return(Tp(e)&&a.isAtEnd()||Sp(e)&&a.isAtStart())&&(i=Dp(i,e,bc.constant(!0),n,!0),Xf(i,n))?Qf(e,i):(r=Dp(i,e,Xf,n),s=ui.last(ui.filter(Gf(l,n),jf)),!s||r&&s.contains(r)?r?Qf(e,r):null:a=Tp(e)?Fd.after(s):Fd.before(s))},eh=function(e){return{next:function(t){return Jf(Bd.Forwards,t,e)},prev:function(t){return Jf(Bd.Backwards,t,e)}}};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Hf||(Hf={}));var th=function(e,t){return e===Bd.Backwards?t.reverse():t},nh=function(e,t,n){return e===Bd.Forwards?t.next(n):t.prev(n)},ih=function(e,t,n,i){return Fa.isBr(i.getNode(t===Bd.Forwards))?Hf.Br:Np(n,i)===!1?Hf.Block:Hf.Wrap},rh=function(e,t,n,i){for(var r,o=eh(n),s=i,a=[];s&&(r=nh(t,o,s));){if(Fa.isBr(r.getNode(!1)))return t===Bd.Forwards?{positions:th(t,a).concat([r]),breakType:Hf.Br,breakAt:Ae.some(r)}:{positions:th(t,a),breakType:Hf.Br,breakAt:Ae.some(r)};if(r.isVisible()){if(e(s,r)){var l=ih(n,t,s,r);return{positions:th(t,a),breakType:l,breakAt:Ae.some(r)}}a.push(r),s=r}else s=r}return{positions:th(t,a),breakType:Hf.Eol,breakAt:Ae.none()}},oh=function(e,t,n,i){return t(n,i).breakAt.map(function(i){var r=t(n,i).positions;return e===Bd.Backwards?r.concat(i):[i].concat(r)}).getOr([])},sh=function(e,t){return Ge(e,function(e,n){return e.fold(function(){return Ae.some(n)},function(i){return gd([lt(i.getClientRects()),lt(n.getClientRects())],function(e,r){var o=Math.abs(t-e.left),s=Math.abs(t-r.left);return o>=s?n:i}).or(e)})},Ae.none())},ah=function(e,t){return lt(t.getClientRects()).bind(function(t){return sh(e,t.left)})},lh=be(rh,T.isAbove,-1),uh=be(rh,T.isBelow,1),ch=be(oh,-1,lh),dh=be(oh,1,uh),fh=function(e){return nm.firstPositionIn(e).map(function(t){return[t].concat(uh(e,t).positions)}).getOr([])},hh=function(e){return nm.lastPositionIn(e).map(function(t){return lh(e,t).positions.concat(t)}).getOr([])},ph=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},mh=function(e,t){return tt(t,function(t){var n=ph(t.getBoundingClientRect(),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},gh=function(e,t,n){return Ge(e,function(e,i){return e.fold(function(){return Ae.some(i)},function(e){var r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return Ae.some(r>o?i:e)})},Ae.none())},vh=function(e,t,n,i,r){var o=Cu.descendants(Kr.fromDom(n),"td,th").map(function(e){return e.dom()}),s=Ve(mh(e,o),function(e){return t(e,r)});return gh(s,i,r).map(function(e){return e.cell})},yh=function(e){return e.bottom},bh=function(e){return e.top},_h=function(e,t){return e.y<t},wh=function(e,t){return e.y>t},xh=be(vh,yh,_h),Ch=be(vh,bh,wh),kh=function(e,t){return lt(t.getClientRects()).bind(function(t){return xh(e,t.left,t.top)}).bind(function(e){return ah(hh(e),t)})},Th=function(e,t){return ut(t.getClientRects()).bind(function(t){return Ch(e,t.left,t.top)}).bind(function(e){return ah(fh(e),t)})},Sh=function(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}},Eh=function(e,t,n){var i={elm:t,alignToTop:n};return e.fire("scrollIntoView",i),i.isDefaultPrevented()},Dh=function(e,t,n){var i,r,o,s,a=e.dom,l=a.getRoot(),u=0;if(!Eh(e,t,n)&&Fa.isElement(t)){if(n===!1&&(u=t.offsetHeight),"BODY"!==l.nodeName){var c=e.selection.getScrollContainer();if(c)return i=Sh(t).y-Sh(c).y+u,s=c.clientHeight,o=c.scrollTop,void((o>i||i+25>o+s)&&(c.scrollTop=o>i?i:i-s+25))}r=a.getViewPort(e.getWin()),i=a.getPos(t).y+u,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&e.getWin().scrollTo(0,o>i?i:i-s+25)}},Ah=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}},Nh=function(e,t,n){e.inline?(e.getBody().scrollLeft+=t,e.getBody().scrollTop+=n):e.getWin().scrollBy(t,n)},Ph=function(e,t){lt(T.fromRangeStart(t).getClientRects()).each(function(t){var n=Ah(e),i=dd(n,t),r=4,o=i.x>0?i.x+r:i.x-r,s=i.y>0?i.y+r:i.y-r;Nh(e,0!==i.x?o:0,0!==i.y?s:0)})},Oh={scrollElementIntoView:Dh,scrollRangeIntoView:Ph},Mh=function(e,t,n){var i=e.getParam(t,n);if(-1!==i.indexOf("=")){var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n}return i},Ih=function(e){return e.getParam("iframe_attrs",{})},Rh=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Lh=function(e){return e.getParam("document_base_url","")},Bh=function(e){return Mh(e,"body_id","tinymce")},Fh=function(e){return Mh(e,"body_class","")},$h=function(e){return e.getParam("content_security_policy","")},zh=function(e){return e.getParam("br_in_pre",!0)},Hh=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t},jh=function(e){return e.getParam("forced_root_block_attrs",{})},Wh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},qh=function(e){return e.getParam("no_newline_selector","")},Uh=function(e){return e.getParam("keep_styles",!0)},Yh=function(e){return e.getParam("end_container_on_empty_block",!1)},Vh=function(e){return xi.explode(e.getParam("font_size_style_values",""))},Xh=function(e){return xi.explode(e.getParam("font_size_classes",""))},Gh={getIframeAttrs:Ih,getDocType:Rh,getDocumentBaseUrl:Lh,getBodyId:Bh,getBodyClass:Fh,getContentSecurityPolicy:$h,shouldPutBrInPre:zh,getForcedRootBlock:Hh,getForcedRootBlockAttrs:jh,getBrNewLineSelector:Wh,getNoNewLineSelector:qh,shouldKeepStyles:Uh,shouldEndContainerOnEmptyBlock:Yh,getFontStyleValues:Vh,getFontSizeClasses:Xh},Kh=qr.detect().browser,Qh=function(){return Kh.isIE()||Kh.isEdge()||Kh.isFirefox()},Zh=function(e,t){e.selection.setRng(t),Oh.scrollRangeIntoView(e,t)},Jh=function(e,t,n){var i=e(t,n);return i.breakType===Hf.Wrap&&0===i.positions.length?i.breakAt.map(function(n){return e(t,n).breakAt.isNone()}).getOr(!0):i.breakAt.isNone()},ep=bc.curry(Jh,lh),tp=bc.curry(Jh,uh),np=function(e,t,n){var i=Fd.fromRangeStart(t);return nm.positionIn(!e,n).map(function(e){return e.isEqual(i)}).getOr(!1)},ip=function(e,t,n,i){var r=e.selection.getRng(),o=t?1:-1;if(Qh()&&np(t,r,n)){var s=Lf(o,e,n,!t,!0);return Zh(e,s),!0}return!1},rp=function(e,t,n){return kh(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return sh(ch(e,Fd.before(t)),n.left)})}).getOr(Fd.before(t))},op=function(e,t,n){return Th(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return sh(dh(e,Fd.after(t)),n.left)})}).getOr(Fd.after(t))},sp=function(e,t){var n=t.getNode(e);return Fa.isElement(n)&&"TABLE"===n.nodeName?Ae.some(n):Ae.none()},ap=function(e,t,n,i){var r=Gh.getForcedRootBlock(t);r?t.undoManager.transact(function(){var i=Kr.fromTag(r);Co.setAll(i,Gh.getForcedRootBlockAttrs(t)),Ll.append(i,Kr.fromTag("br")),e?Ll.after(Kr.fromDom(n),i):Ll.before(Kr.fromDom(n),i);var o=t.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),Zh(t,o)}):Zh(t,i.toRange())},lp=function(e,t,n){var i=t?sp(!0,n):sp(!1,n),r=t===!1;i.fold(function(){return Zh(e,n.toRange())},function(i){return nm.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return Zh(e,n.toRange())},function(r){return ap(t,e,i,n)})})},up=function(e,t,n,i){var r=e.selection.getRng(),o=Fd.fromRangeStart(r),s=e.getBody();if(!t&&ep(i,o)){var a=rp(s,n,o);return lp(e,t,a),!0}if(t&&tp(i,o)){var a=op(s,n,o);return lp(e,t,a),!0}return!1},cp=function(e,t){return function(){return Ae.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ae.from(e.dom.getParent(n,"table")).map(function(i){return ip(e,t,i,n)})}).getOr(!1)}},dp=function(e,t){return function(){return Ae.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ae.from(e.dom.getParent(n,"table")).map(function(i){return up(e,t,i,n)})}).getOr(!1)}},fp=Fa.isContentEditableFalse,hp=function(e){return Fa.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},pp=function(e,t,n){var i,r,o,s,a,l=id(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,o=e.scrollTop||i.scrollTop):(a=e.getBoundingClientRect(),r=e.scrollLeft-a.left,o=e.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,s=t.offsetWidth-t.clientWidth,s>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},mp=function(e){var t,n,i,r,o;for(t=ji("*[contentEditable=false]",e),r=0;r<t.length;r++)n=t[r],i=n.previousSibling,Lc(i)&&(o=i.data,1===o.length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,Rc(i)&&(o=i.data,1===o.length?i.parentNode.removeChild(i):i.deleteData(0,1))},gp=function(e,t,n){var i,r,o=Xl(Ae.none()),s=function(n,i){var s,u;if(a(),hp(i))return null;if(!t(i))return r=Nc(i,n),u=i.ownerDocument.createRange(),fp(r.nextSibling)?(u.setStart(r,0),u.setEnd(r,0)):(u.setStart(r,1),u.setEnd(r,1)),u;r=Ic("p",i,n),s=pp(e,i,n),ji(r).css("top",s.top);var c=ji('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(e)[0];return o.set(Ae.some({caret:c,element:i,before:n})),o.get().each(function(e){n&&ji(e.caret).addClass("mce-visual-caret-before")}),l(),u=i.ownerDocument.createRange(),u.setStart(r,0),u.setEnd(r,0),u},a=function(){mp(e),r&&(Mf.remove(r),r=null),o.get().each(function(e){ji(e.caret).remove(),o.set(Ae.none())}),clearInterval(i)},l=function(){i=Rt.setInterval(function(){n()?ji("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):ji("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},u=function(){o.get().each(function(t){var n=pp(e,t.element,t.before);ji(t.caret).css(n)})},c=function(){return Rt.clearInterval(i)},d=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:s,hide:a,getCss:d,reposition:u,destroy:c}},vp=function(e){return fp(e)||Fa.isTable(e)&&Qh()},yp=Fa.isContentEditableFalse,bp=Fa.matchStyleValues("display","block table table-cell table-caption list-item"),_p=Dc,wp=Sc,xp=bc.curry,Cp=Fa.isElement,kp=Xc,Tp=function(e){return e>0},Sp=function(e){return 0>e},Ep=function(e,t){for(var n;n=e(t);)if(!wp(n))return n;return null},Dp=function(e,t,n,i,r){var o=new y(e,i);if(Sp(t)){if((yp(e)||wp(e))&&(e=Ep(o.prev,!0),n(e)))return e;for(;e=Ep(o.prev,r);)if(n(e))return e}if(Tp(t)){if((yp(e)||wp(e))&&(e=Ep(o.next,!0),n(e)))return e;for(;e=Ep(o.next,r);)if(n(e))return e}return null},Ap=function(e,t){for(;e&&e!==t;){if(bp(e))return e;e=e.parentNode}return null},Np=function(e,t,n){return Ap(e.container(),n)===Ap(t.container(),n)},Pp=function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),Cp(n)?n.childNodes[i+e]:null):null},Op=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Mp=function(e,t,n){return Ap(t,e)===Ap(n,e)},Ip=function(e,t,n){var i,r;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],_p(i)&&(i=i[r]),yp(i)){if(Mp(t,i,n))return i;break}if(kp(i))break;n=n.parentNode}return null},Rp=xp(Op,!0),Lp=xp(Op,!1),Bp=function(e,t,n){var i,r,o,s,a=xp(Ip,!0,t),l=xp(Ip,!1,t);if(r=n.startContainer,o=n.startOffset,Sc(r)){if(Cp(r)||(r=r.parentNode),s=r.getAttribute("data-mce-caret"),"before"===s&&(i=r.nextSibling,vp(i)))return Rp(i);if("after"===s&&(i=r.previousSibling,vp(i)))return Lp(i)}if(!n.collapsed)return n;if(Fa.isText(r)){if(_p(r)){if(1===e){if(i=l(r))return Rp(i);if(i=a(r))return Lp(i)}if(-1===e){if(i=a(r))return Lp(i);if(i=l(r))return Rp(i)}return n}if(Lc(r)&&o>=r.data.length-1)return 1===e&&(i=l(r))?Rp(i):n;if(Rc(r)&&1>=o)return-1===e&&(i=a(r))?Lp(i):n;if(o===r.data.length)return i=l(r),i?Rp(i):n;if(0===o)return i=a(r),i?Lp(i):n}return n},Fp=function(e,t){var n=Pp(e,t);return yp(n)&&!Fa.isBogusAll(n)},$p=function(e,t){return Fa.isTable(Pp(e,t))},zp=function(e,t){return Ae.from(Pp(e?0:-1,t)).filter(yp)},Hp=function(e,t,n){var i=Bp(e,t,n);return-1===e?T.fromRangeStart(i):T.fromRangeEnd(i)},jp=xp(Fp,0),Wp=xp(Fp,-1),qp=xp($p,0),Up=xp($p,-1),Yp=function(e,t,n){var i=e?Fd.before(n):Fd.after(n);return Jp(e,t,i)},Vp=function(e){return Fa.isBr(e)?Fd.before(e):Fd.after(e)},Xp=function(e){return Fd.isTextPosition(e)?0===e.offset():Xc(e.getNode())},Gp=function(e){if(Fd.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Xc(e.getNode(!0))},Kp=function(e,t){return!Fd.isTextPosition(e)&&!Fd.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Qp=function(e){return!Fd.isTextPosition(e)&&Fa.isBr(e.getNode())},Zp=function(e,t,n){return e?!Kp(t,n)&&!Qp(t)&&Gp(t)&&Xp(n):!Kp(n,t)&&Xp(t)&&Gp(n)},Jp=function(e,t,n){var i=eh(t);return Ae.from(e?i.next(n):i.prev(n))},em=function(e,t,n){return Jp(e,t,n).bind(function(i){return Np(n,i,t)&&Zp(e,n,i)?Jp(e,t,i):Ae.some(i)})},tm=function(e,t){var n=e?t.firstChild:t.lastChild;return Fa.isText(n)?Ae.some(Fd(n,e?0:n.data.length)):n?Xc(n)?Ae.some(e?Fd.before(n):Vp(n)):Yp(e,t,n):Ae.none()},nm={fromPosition:Jp,nextPosition:be(Jp,!0),prevPosition:be(Jp,!1),navigate:em,positionIn:tm,firstPositionIn:be(tm,!0),lastPositionIn:be(tm,!1)},im=function(e){return"string"==typeof e.start},rm=function(e){return e.hasOwnProperty("rng")},om=function(e){return e.hasOwnProperty("id")},sm=function(e){return e.hasOwnProperty("name")},am=function(e){return xi.isArray(e.start)},lm=function(e,t){return!e.isBlock(t)||t.innerHTML||St.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},um=function(e,t){var n,i;return n=e.createRng(),i=Zd(e.getRoot(),t.start),n.setStart(i.container(),i.offset()),i=Zd(e.getRoot(),t.end),n.setEnd(i.container(),i.offset()),n},cm=function(e,t){var n=e.ownerDocument.createTextNode(Cc.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},dm=function(e){return e.hasChildNodes()===!1},fm=function(e,t){return nm.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},hm=function(e,t,n){return dm(t)&&bf(e,t)?(cm(t,n),!0):!1},pm=function(e,t,n,i){var r,o,s,a,l=n[t?"start":"end"],u=e.getRoot();if(l){for(s=l[0],o=u,r=l.length-1;r>=1;r--){if(a=o.childNodes,hm(u,o,i))return!0;if(l[r]>a.length-1)return hm(u,o,i)?!0:fm(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),t?i.setStart(o,s):i.setEnd(o,s)}return!0},mm=function(e){return Fa.isText(e)&&e.data.length>0},gm=function(e,t,n){var i,r,o,s,a,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(i=u.parentNode,"start"===t?(c?u.hasChildNodes()?(i=u.firstChild,r=1):mm(u.nextSibling)?(i=u.nextSibling,r=0):mm(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)+1):r=e.nodeIndex(u),a=i,l=r):(c?u.hasChildNodes()?(i=u.firstChild,r=1):mm(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)):r=e.nodeIndex(u),a=i,l=r),!c){for(s=u.previousSibling,o=u.nextSibling,xi.each(xi.grep(u.childNodes),function(e){Fa.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&Fa.isText(s)&&!St.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),e.remove(o),"start"===t?(a=s,l=r):(a=s,l=r))}return Ae.some(Fd(a,l))}return Ae.none()},vm=function(e,t){return e.isSome()?e:t},ym=function(e,t){var n=e.createRng();return pm(e,!0,t,n)&&pm(e,!1,t,n)?Ae.some(n):Ae.none()},bm=function(e,t){var n=gm(e,"start",t),i=gm(e,"end",t);return gd([n,vm(i,n)],function(t,n){var i=e.createRng();return i.setStart(lm(e,t.container()),t.offset()),i.setEnd(lm(e,n.container()),n.offset()),i})},_m=function(e,t){return Ae.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},wm=function(e,t){var n=e.dom;if(t){if(am(t))return ym(n,t);if(im(t))return Ae.some(um(n,t));if(om(t))return bm(n,t);if(sm(t))return _m(n,t);if(rm(t))return Ae.some(t.rng)}return Ae.none()},xm={resolve:wm},Cm=function(e,t,n){return gf.getBookmark(e,t,n)},km=function(e,t){xm.resolve(e,t).each(function(t){e.setRng(t)})},Tm=function(e){return Fa.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Sm={getBookmark:Cm,moveToBookmark:km,isBookmarkNode:Tm},Em=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Dm=function(e,t,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Em(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(o=a.childNodes,s<o.length?(a=o[s],i=new y(a,e.getParent(a,e.isBlock))):(a=o[o.length-1],i=new y(a,e.getParent(a,e.isBlock)),i.next(!0)),r=i.current();r;r=i.next())if(3===r.nodeType&&!Om(r))return n.setStart(r,0),void t.setRng(n)},Am=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Om(e))return e},Nm=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Pm=function(e,t,n){return e.schema.isValidChild(t,n)},Om=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Mm=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},Im=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Rm=function(e,t,n){return("color"===n||"backgroundColor"===n)&&(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Lm=function(e,t,n){return Rm(e,e.getStyle(t,n),n)},Bm=function(e,t){var n;return e.getParent(t,function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n}),n},Fm=function(e,t,n){return e.getParents(t,n,e.getRoot())},$m={isInlineBlock:Em,moveStart:Dm,getNonWhiteSpaceSibling:Am,isTextBlock:Nm,isValid:Pm,isWhiteSpaceNode:Om,replaceVars:Mm,isEq:Im,normalizeStyleValue:Rm,getStyle:Lm,getTextDecoration:Bm,getParents:Fm},zm=Sm.isBookmarkNode,Hm=$m.getParents,jm=$m.isWhiteSpaceNode,Wm=$m.isTextBlock,qm=function(e,t){for("undefined"==typeof t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},Um=function(e,t){var n=qm(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=qm(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},Ym=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Vm=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Xm=function(e,t,n,i){var r,o,s=n.nodeValue;return"undefined"==typeof i&&(i=e?s.length:0),e?(r=s.lastIndexOf(" ",i),o=s.lastIndexOf("\xa0",i),r=r>o?r:o,-1===r||t||r++):(r=s.indexOf(" ",i),o=s.indexOf("\xa0",i),r=-1!==r&&(-1===o||o>r)?r:o),r},Gm=function(e,t,n,i,r,o){var s,a,l,u;if(3===n.nodeType){if(l=Xm(r,o,n,i),-1!==l)return{container:n,offset:l};u=n}for(s=new y(n,e.getParent(n,e.isBlock)||t);a=s[r?"prev":"next"]();)if(3===a.nodeType){if(u=a,l=Xm(r,o,a),-1!==l)return{container:a,offset:l}}else if(e.isBlock(a))break;return u?(i=r?0:u.length,{container:u,offset:i}):void 0},Km=function(e,t,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=Hm(e,i),s=0;s<o.length;s++)for(a=0;a<t.length;a++)if(l=t[a],!("collapsed"in l&&l.collapsed!==n.collapsed)&&e.is(o[s],l.selector))return o[s];return i},Qm=function(e,t,n,i){var r,o=e.dom,s=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==s&&Wm(e,t)},a)}if(r&&t[0].wrapper&&(r=Hm(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!$m.isEq(r,"br")););return r||n},Zm=function(e,t,n,i,r,o,s){var a,l,u,c,d;if(a=l=s?n:r,c=s?"previousSibling":"nextSibling",d=e.getRoot(),3===a.nodeType&&!jm(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!zm(u)&&!jm(u)&&!Ym(u))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},Jm=function(e,t,n,i){var r,o=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset,u=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&(o=hd(o,s),3===o.nodeType&&(s=0)),1===a.nodeType&&a.hasChildNodes()&&(a=hd(a,t.collapsed?l:l-1),3===a.nodeType&&(l=a.nodeValue.length)),o=Vm(u,o),a=Vm(u,a),(zm(o.parentNode)||zm(o))&&(o=zm(o)?o:o.parentNode,o=o.nextSibling||o,3===o.nodeType&&(s=0)),(zm(a.parentNode)||zm(a))&&(a=zm(a)?a:a.parentNode,a=a.previousSibling||a,3===a.nodeType&&(l=a.length)),n[0].inline&&(t.collapsed&&(r=Gm(u,e.getBody(),o,s,!0,i),r&&(o=r.container,s=r.offset),r=Gm(u,e.getBody(),a,l,!1,i),r&&(a=r.container,l=r.offset)),a=i?a:Um(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=Zm(u,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=Zm(u,n,o,s,a,l,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(o=Km(u,n,t,o,"previousSibling"),a=Km(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Qm(e,n,o,"previousSibling"),a=Qm(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=Zm(u,n,o,s,a,l,!0)),u.isBlock(a)||(a=Zm(u,n,o,s,a,l,!1)))),1===o.nodeType&&(s=u.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}},eg={expandRng:Jm},tg=xi.each,ng=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:0>t&&(t=0),n[t]||e},ig=function(e,t,n){var i,r,o,s,a,l,u,c=t.startContainer,d=t.startOffset,f=t.endContainer,h=t.endOffset;if(u=e.select("td[data-mce-selected],th[data-mce-selected]"),u.length>0)return void tg(u,function(e){n([e])});var p=function(e){var t;return t=e[0],3===t.nodeType&&t===c&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&e.length>0&&t===f&&3===t.nodeType&&e.splice(e.length-1,1),e},m=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},g=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,i){var r=i?"nextSibling":"previousSibling";for(s=e,a=s.parentNode;s&&s!==t;s=a)a=s.parentNode,l=m(s===e?s:s[r],r),l.length&&(i||l.reverse(),n(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(f=ng(f,h)),c===f)return n(p([c]));for(i=e.findCommonAncestor(c,f),s=c;s;s=s.parentNode){if(s===f)return v(c,i,!0);if(s===i)break}for(s=f;s;s=s.parentNode){if(s===c)return v(f,i);if(s===i)break}r=g(c,i)||c,o=g(f,i)||f,v(c,r,!0),l=m(r===c?r:r.nextSibling,"nextSibling",o===f?o.nextSibling:o),l.length&&n(p(l)),v(f,o)},rg={walk:ig},og=function(){return"\ufeff"},sg=S(so.isText,"text"),ag=function(e){return sg.get(e)},lg=function(e){return sg.getOption(e)},ug=function(e,t){sg.set(e,t)},cg={get:ag,getOption:lg,set:ug},dg=function(e){return so.isText(e)&&cg.get(e)===og()},fg=function(e,t,n,i){return Ls.parent(t).fold(function(){return"skipping"},function(r){return"br"===i||dg(t)?"skipping":ju(t)?"existing":yf(t)?"caret":$m.isValid(e,n,i)&&$m.isValid(e,so.name(r),n)?"valid":"invalid-child"})},hg=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]]);return n},pg=function(e,t){var n=eg.expandRng(e,t,[{inline:!0}],!1);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},mg=function(e,t,n,i,r){var o=r.uid,s=void 0===o?Gu("mce-annotation"):o,a=hg(r,["uid"]),l=[],u=Kr.fromTag("span");du.add(u,Fu()),Co.set(u,""+zu(),s),Co.set(u,""+$u(),n);var c=i(s,a),d=c.attributes,f=void 0===d?{}:d,h=c.classes,p=void 0===h?[]:h;Co.setAll(u,f),ic.add(u,p);var m=Xl(Ae.none()),g=function(){m.set(Ae.none())},v=function(){return m.get().getOrThunk(function(){var e=cc.shallow(u);return l.push(e),m.set(Ae.some(e)),e})},y=function(e){qe(e,b)},b=function(t){var n=fg(e,t,"span",so.name(t));switch(n){case"invalid-child":g();var i=Ls.children(t);y(i),g();break;case"valid":var r=v();Ll.wrap(t,r);break;case"skipping":case"existing":case"caret":}},_=function(e){var t=We(e,Kr.fromDom);y(t)};return rg.walk(e.dom,t,function(e){g(),_(e)}),l},gg=function(e,t,n,i){e.undoManager.transact(function(){var r=e.selection.getRng();r.collapsed&&pg(e,r);var o=gf.getPersistentBookmark(e.selection,!0),s=e.selection.getRng();mg(e,s,t,n.decorate,i),e.selection.moveToBookmark(o)})},vg=function(e){return e.firstChild&&e.firstChild===e.lastChild},yg=function(e){return"br"===e.name||"\xa0"===e.value},bg=function(e,t){var n=e.getBlockElements();return n[t.name]&&vg(t)&&yg(t.firstChild)},_g=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||bg(e,t))},wg=function(e,t){var n=t.firstChild,i=t.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),_g(e,i)&&(i=i.prev),n&&n===i?"ul"===n.name||"ol"===n.name:!1},xg=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Cg=function(e,t,n){var i=t.serialize(n),r=e.createFragment(i);return xg(r)},kg=function(e){return xi.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Tg=function(e){return"\xa0"===e.data||Fa.isBr(e)},Sg=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Tg(e.firstChild)},Eg=function(e){return!e.firstChild||Sg(e)},Dg=function(e){return e.length>0&&Eg(e[e.length-1])?e.slice(0,-1):e},Ag=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Ng=function(e,t){return!!Ag(e,t)},Pg=function(e,t){var n=t.cloneRange(),i=t.cloneRange();return n.setStartBefore(e),i.setEndAfter(e),[n.cloneContents(),i.cloneContents()]},Og=function(e,t){var n=Fd.before(e),i=eh(t),r=i.next(n);return r?r.toRange():null},Mg=function(e,t){var n=Fd.after(e),i=eh(t),r=i.prev(n);return r?r.toRange():null},Ig=function(e,t,n,i){var r=Pg(e,i),o=e.parentNode;return o.insertBefore(r[0],e),xi.each(t,function(t){o.insertBefore(t,e)}),o.insertBefore(r[1],e),o.removeChild(e),Mg(t[t.length-1],n)},Rg=function(e,t,n){var i=e.parentNode;return xi.each(t,function(t){i.insertBefore(t,e)}),Og(e,n)},Lg=function(e,t,n,i){return i.insertAfter(t.reverse(),e),Mg(t[0],n)},Bg=function(e,t,n,i){var r=Cg(t,e,i),o=Ag(t,n.startContainer),s=Dg(kg(r.firstChild)),a=1,l=2,u=t.getRoot(),c=function(e){var i=Fd.fromRangeStart(n),r=eh(t.getRoot()),s=e===a?r.prev(i):r.next(i);return s?Ag(t,s.getNode())!==o:!0};return c(a)?Rg(o,s,u):c(l)?Lg(o,s,u,t):Ig(o,s,u,n)},Fg={isListFragment:wg,insertAtCaret:Bg,isParentBlockLi:Ng,trimListItems:Dg,listItems:kg},$g=xi.each,zg=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var i=function(t){var n={};return $g(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))}),n},r=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],"undefined"==typeof n)return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return r(i(t),i(n))&&r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))?!Sm.isBookmarkNode(t)&&!Sm.isBookmarkNode(n):!1}},Hg=function(e){for(var t=[],n=e.dom();n;)t.push(Kr.fromDom(n)),n=n.lastChild;return t},jg=function(e){var t=Cu.descendants(e,"br"),n=Ve(Hg(e).slice(-1),ha);t.length===n.length&&qe(n,Ul.remove)},Wg=function(e){Ul.empty(e),Ll.append(e,Kr.fromHtml('<br data-mce-bogus="1">'))},qg=function(e){return so.isText(e)?"\xa0"===cg.get(e):ha(e)},Ug=function(e){return 1===Ve(Ls.children(e),qg).length},Yg=function(e){Ls.lastChild(e).each(function(t){Ls.prevSibling(t).each(function(n){da(e)&&ha(t)&&da(n)&&Ul.remove(t)})})},Vg={removeTrailingBr:jg,fillWithPaddingBr:Wg,isPaddedElement:Ug,trimBlockTrailingBr:Yg},Xg=xi.makeMap,Gg=function(e,t,n,i){var r=document.createRange();return r.setStart(e,t),r.setEnd(n,i),r},Kg=function(e){var t=Fd.fromRangeStart(e),n=Fd.fromRangeEnd(e),i=e.commonAncestorContainer;return nm.fromPosition(!1,i,n).map(function(r){return!Np(t,n,i)&&Np(t,r,i)?Gg(t.container(),t.offset(),r.container(),r.offset()):e}).getOr(e)},Qg=function(e){return e.collapsed?e:Kg(e)},Zg={normalize:Qg},Jg=Fa.matchNodeNames("td th"),ev=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},tv=function(e,t){Ae.from(e.getParent(t,"td,th")).map(Kr.fromDom).each(Vg.trimBlockTrailingBr)},nv=function(e,t,n){var i,r,o,s,a,l,u,c,d,f,h,p,m=e.schema.getTextInlineElements(),g=e.selection,v=e.dom,y=function(e){var t,n,i;t=g.getRng(),n=t.startContainer,i=t.startOffset;var r=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e},b=function(){var e,n,i;e=g.getRng(),n=e.startContainer,i=e.startOffset,3===n.nodeType&&e.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(t)||(t+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t)))},_=function(){if(p){var t=e.getBody(),n=new zg(v);xi.each(v.select("*[data-mce-fragment]"),function(e){for(var i=e.parentNode;i&&i!==t;i=i.parentNode)m[e.nodeName.toLowerCase()]&&n.compare(i,e)&&v.remove(e,!0);
})}},w=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},x=function(e){xi.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},C=function(e){return!!e.getAttribute("data-mce-fragment")},k=function(t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},T=function(t){var n,i,r,o=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){if(g.scrollIntoView(t),n=o(t))return v.remove(t),void g.select(n);c=v.createRng(),d=t.previousSibling,d&&3===d.nodeType?(c.setStart(d,d.nodeValue.length),St.ie||(f=t.nextSibling,f&&3===f.nodeType&&(d.appendData(f.data),f.parentNode.removeChild(f)))):(c.setStartBefore(t),c.setEndBefore(t));var s=function(t){var n=Fd.fromRangeStart(t),i=eh(e.getBody());return n=i.next(n),n?n.toRange():void 0};i=v.getParent(t,v.isBlock),v.remove(t),i&&v.isEmpty(i)&&(e.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),Jg(i)||C(i)||!(r=s(c))?v.add(i,v.create("br",{"data-mce-bogus":"1"})):(c=r,v.remove(i))),g.setRng(c)}};if(/^ | $/.test(t)&&(t=y(t)),i=e.parser,p=n.merge,r=A({validate:e.settings.validate},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:t,format:"html",selection:!0,paste:n.paste},l=e.fire("BeforeSetContent",l),l.isDefaultPrevented())return void e.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});t=l.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h),c=g.getRng();var S=c.startContainer||(c.parentElement?c.parentElement():null),E=e.getBody();S===E&&g.isCollapsed()&&v.isBlock(E.firstChild)&&k(E.firstChild)&&v.isEmpty(E.firstChild)&&(c=v.createRng(),c.setStart(E.firstChild,0),c.setEnd(E.firstChild,0),g.setRng(c)),g.isCollapsed()||(e.selection.setRng(Zg.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),b()),o=g.getNode();var D={context:o.nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(t,D),n.paste===!0&&Fg.isListFragment(e.schema,a)&&Fg.isParentBlockLi(v,o))return c=Fg.insertAtCaret(r,v,e.selection.getRng(),a),e.selection.setRng(c),void e.fire("SetContent",l);if(w(a),d=a.lastChild,"mce_marker"===d.attr("id"))for(u=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!v.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),D.invalid){for(g.setContent(h),o=g.getNode(),s=e.getBody(),9===o.nodeType?o=d=s:d=o;d!==s;)o=d,d=d.parentNode;t=o===s?s.innerHTML:v.getOuterHTML(o),t=r.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(a)}))),o===s?v.setHTML(s,t):v.setOuterHTML(o,t)}else t=r.serialize(a),ev(e,t,o);_(),T(v.get("mce_marker")),x(e.getBody()),tv(e.dom,e.selection.getStart()),e.fire("SetContent",l),e.addVisual()},iv=function(e){var t;return"string"!=typeof e?(t=xi.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},rv=function(e,t){var n=iv(t);nv(e,n.content,n.details)},ov={insertAtCaret:rv},sv=Vo("sections","settings"),av=qr.detect(),lv=av.deviceType.isTouch(),uv=["lists","autolink","autosave"],cv={theme:"mobile"},dv=function(e){var t=Ie(e)?e.join(" "):e,n=We(Oe(t)?t.split(" "):[],Rr);return Ve(n,function(e){return e.length>0})},fv=function(e){return Ve(e,be(He,uv))},hv=function(e,t){var n=fo(t,function(t,n){return He(e,n)});return sv(n.t,n.f)},pv=function(e,t,n){var i=e.sections(),r=i.hasOwnProperty(t)?i[t]:{};return xi.extend({},n,r)},mv=function(e,t){return e.sections().hasOwnProperty(t)},gv=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},vv=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?xi.extend({},e.external_plugins,n):n},yv=function(e,t){return[].concat(dv(e)).concat(dv(t))},bv=function(e,t,n,i){var r=dv(n.forced_plugins),o=dv(i.plugins),s=e&&mv(t,"mobile")?fv(o):o,a=yv(r,s);return xi.extend(i,{plugins:a.join(" ")})},_v=function(e,t){var n=t.settings().inline;return e&&mv(t,"mobile")&&!n},wv=function(e,t,n,i){var r=hv(["mobile"],i),o=xi.extend(t,n,r.settings(),_v(e,r)?pv(r,"mobile",cv):{},{validate:!0,content_editable:r.settings().inline,external_plugins:vv(n,r.settings())});return bv(e,r,n,o)},xv=function(e,t,n,i,r){var o=gv(t,n,e);return wv(lv,o,i,r)},Cv=function(e,t,n){return Ae.from(t.settings[n]).filter(e)},kv=be(Cv,Oe),Tv=function(e){var t={};return"string"==typeof e?qe(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[xi.trim(n[0])]=xi.trim(n[1]):t[xi.trim(n[0])]=xi.trim(n)}):t=e,t},Sv=function(e){return function(t){return Ie(t)&&nt(t,e)}},Ev=function(e,t,n,i){var r=t in e.settings?e.settings[t]:n;return"hash"===i?Tv(r):"string"===i?Cv(Oe,e,t).getOr(n):"number"===i?Cv(Fe,e,t).getOr(n):"boolean"===i?Cv(Le,e,t).getOr(n):"object"===i?Cv(Me,e,t).getOr(n):"array"===i?Cv(Ie,e,t).getOr(n):"string[]"===i?Cv(Sv(Oe),e,t).getOr(n):"function"===i?Cv(Be,e,t).getOr(n):r},Dv=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Av=function(e){return Dv.test(e)},Nv=function(e,t){var n=kv(e,"inline_boundaries_selector").getOr("a[href],code");return as.is(Kr.fromDom(t),n)},Pv=function(e){return"rtl"===Cl.DOM.getStyle(e,"direction",!0)||Av(e.textContent)},Ov=function(e,t,n){return Ve(Cl.DOM.getParents(n.container(),"*",t),e)},Mv=function(e,t,n){var i=Ov(e,t,n);return Ae.from(i[i.length-1])},Iv=function(e,t,n){var i=Ap(t,e),r=Ap(n,e);return i&&i===r},Rv=function(e){return Pc(e)||Oc(e)},Lv=function(e,t){var n=t.container(),i=t.offset();return e?Ec(n)?Fa.isText(n.nextSibling)?Fd(n.nextSibling,0):Fd.after(n):Pc(t)?Fd(n,i+1):t:Ec(n)?Fa.isText(n.previousSibling)?Fd(n.previousSibling,n.previousSibling.data.length):Fd.before(n):Oc(t)?Fd(n,i-1):t},Bv=be(Lv,!0),Fv=be(Lv,!1),$v={isInlineTarget:Nv,findRootInline:Mv,isRtl:Pv,isAtZwsp:Rv,normalizePosition:Lv,normalizeForwards:Bv,normalizeBackwards:Fv,hasSameParentBlock:Iv},zv=function(e){return function(t){return ms.eq(e,Kr.fromDom(t.dom().parentNode))}},Hv=function(e,t){return ms.contains(e,t)?Nu.closest(t,function(e){return pa(e)||ga(e)},zv(e)):Ae.none()},jv=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},Wv=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),jv(e))},qv=function(e,t,n){return gd([nm.firstPositionIn(n),nm.lastPositionIn(n)],function(i,r){var o=$v.normalizePosition(!0,i),s=$v.normalizePosition(!1,r),a=$v.normalizePosition(!1,t);return e?nm.nextPosition(n,a).map(function(e){return e.isEqual(s)&&t.isEqual(o)}).getOr(!1):nm.prevPosition(n,a).map(function(e){return e.isEqual(o)&&t.isEqual(s)}).getOr(!1)}).getOr(!0)},Uv={getParentBlock:Hv,paddEmptyBody:Wv,willDeleteLastPositionInElement:qv},Yv=function(e){return Bu.first(e).isSome()},Vv=function(e,t,n){return Bu.ancestor(e,t,n).isSome()},Xv=function(e,t){return Bu.sibling(e,t).isSome()},Gv=function(e,t){return Bu.child(e,t).isSome()},Kv=function(e,t){return Bu.descendant(e,t).isSome()},Qv=function(e,t,n){return Bu.closest(e,t,n).isSome()},Zv={any:Yv,ancestor:Vv,sibling:Xv,child:Gv,descendant:Kv,closest:Qv},Jv=function(e,t){var n=Kr.fromDom(e),i=Kr.fromDom(t);return Zv.ancestor(i,"pre,code",be(ms.eq,n))},ey=function(e,t){return Fa.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&Jv(e,t)===!1},ty=function(e){return Fa.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},ny=function(e,t){return Xc(t)&&ey(e,t)===!1||ty(t)||iy(t)},iy=Fa.hasAttribute("data-mce-bookmark"),ry=Fa.hasAttribute("data-mce-bogus"),oy=Fa.hasAttributeValue("data-mce-bogus","all"),sy=function(e){var t,n,i=0;if(ny(e,e))return!1;if(n=e.firstChild,!n)return!0;t=new y(n,e);do if(oy(n))n=t.next(!0);else if(ry(n))n=t.next();else if(Fa.isBr(n))i++,n=t.next();else{if(ny(e,n))return!1;n=t.next()}while(n);return 1>=i},ay=function(e){return sy(e.dom())},ly={isEmpty:ay},uy=Vo("block","position"),cy=Vo("from","to"),dy=function(e,t){var n=Kr.fromDom(e),i=Kr.fromDom(t.container());return Uv.getParentBlock(n,i).map(function(e){return uy(e,t)})},fy=function(e){return ms.eq(e.from().block(),e.to().block())===!1},hy=function(e){return Ls.parent(e.from().block()).bind(function(t){return Ls.parent(e.to().block()).filter(function(e){return ms.eq(t,e)})}).isSome()},py=function(e){return Fa.isContentEditableFalse(e.from().block())===!1&&Fa.isContentEditableFalse(e.to().block())===!1},my=function(e,t,n){return Fa.isBr(n.position().getNode())&&ly.isEmpty(n.block())===!1?nm.positionIn(!1,n.block().dom()).bind(function(i){return i.isEqual(n.position())?nm.fromPosition(t,e,i).bind(function(t){return dy(e,t)}):Ae.some(n)}).getOr(n):n},gy=function(e,t,n){var i=dy(e,Fd.fromRangeStart(n)),r=i.bind(function(n){return nm.fromPosition(t,e,n.position()).bind(function(n){return dy(e,n).map(function(n){return my(e,t,n)})})});return gd([i,r],cy).filter(function(e){return fy(e)&&hy(e)&&py(e)})},vy=function(e,t,n){return n.collapsed?gy(e,t,n):Ae.none()},yy={read:vy},by=function(e){return e.slice(0,-1)},_y=function(e,t,n){return ms.contains(t,e)?by(Ls.parents(e,function(e){return n(e)||ms.eq(e,t)})):[]},wy=function(e,t){return _y(e,t,ve(!1))},xy=function(e,t){return[e].concat(wy(e,t))},Cy={parentsUntil:_y,parents:wy,parentsAndSelf:xy},ky=function(e){var t=Ls.children(e);return Qe(t,da).fold(function(){return t},function(e){return t.slice(0,e)})},Ty=function(e){var t=ky(e);return qe(t,function(e){Ul.remove(e)}),t},Sy=function(e,t){nm.positionIn(e,t.dom()).each(function(e){var t=e.getNode();Fa.isBr(t)&&Ul.remove(Kr.fromDom(t))})},Ey=function(e,t){var n=Cy.parentsAndSelf(t,e);return Ke(n.reverse(),ly.isEmpty).each(Ul.remove)},Dy=function(e,t){var n=Ls.parents(t,function(t){return ms.eq(t,e)});return Ae.from(n[n.length-2])},Ay=function(e,t){return ms.contains(t,e)?Ls.parent(e).bind(function(n){return ms.eq(n,t)?Ae.some(e):Dy(t,e)}):Ae.none()},Ny=function(e,t,n){if(ly.isEmpty(n))return Ul.remove(n),ly.isEmpty(t)&&Vg.fillWithPaddingBr(t),nm.firstPositionIn(t.dom());Sy(!0,t),Sy(!1,n);var i=Ty(t);return Ay(t,n).fold(function(){Ey(e,t);var r=nm.lastPositionIn(n.dom());return qe(i,function(e){Ll.append(n,e)}),r},function(r){var o=nm.prevPosition(n.dom(),Fd.before(r.dom()));return qe(i,function(e){Ll.before(r,e)}),Ey(e,t),o})},Py=function(e,t,n,i){return t?Ny(e,i,n):Ny(e,n,i)},Oy={mergeBlocks:Py},My=function(e,t){var n,i=Kr.fromDom(e.getBody());return n=yy.read(i.dom(),t,e.selection.getRng()).bind(function(e){return Oy.mergeBlocks(i,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},Iy={backspaceDelete:My},Ry=function(e,t){var n=t.getRng();return gd([Uv.getParentBlock(e,Kr.fromDom(n.startContainer)),Uv.getParentBlock(e,Kr.fromDom(n.endContainer))],function(i,r){return ms.eq(i,r)===!1?(n.deleteContents(),Oy.mergeBlocks(e,!0,i,r).each(function(e){t.setRng(e.toRange())}),!0):!1}).getOr(!1)},Ly=function(e,t){var n=Kr.fromDom(t),i=be(ms.eq,e);return Nu.ancestor(n,ba,i).isSome()},By=function(e,t){return Ly(e,t.startContainer)||Ly(e,t.endContainer)},Fy=function(e,t){var n=nm.prevPosition(e.dom(),Fd.fromRangeStart(t)).isNone(),i=nm.nextPosition(e.dom(),Fd.fromRangeEnd(t)).isNone();return!By(e,t)&&n&&i},$y=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},zy=function(e){var t=Kr.fromDom(e.getBody()),n=e.selection.getRng();return Fy(t,n)?$y(e):Ry(t,e.selection)},Hy=function(e,t){return e.selection.isCollapsed()?!1:zy(e)},jy={backspaceDelete:Hy},Wy=function(e){if(!Ie(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return qe(e,function(i,r){var o=ao(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!Ie(a))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];var l=function(e){var n=ao(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var r=nt(t,function(e){return He(n,e)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[r];return t.apply(null,i)},match:l,log:function(e){console.log(e,{constructors:t,constructor:s,params:i})}}}}),n},qy={generate:Wy},Uy=function(e){return ba(Kr.fromDom(e))||ga(Kr.fromDom(e))},Yy=qy.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Vy=function(e,t){var n=t.getNode(e===!1),i=e?"after":"before";return Fa.isElement(n)&&n.getAttribute("data-mce-caret")===i},Xy=function(e,t,n,i){var r=function(t){return fa(Kr.fromDom(t))&&!Np(n,i,e)};return zp(!t,n).fold(function(){return zp(t,i).fold(ve(!1),r)},r)},Gy=function(e,t,n,i){var r=i.getNode(t===!1);return Uv.getParentBlock(Kr.fromDom(e),Kr.fromDom(n.getNode())).map(function(e){return ly.isEmpty(e)?Yy.remove(e.dom()):Yy.moveToElement(r)}).orThunk(function(){return Ae.some(Yy.moveToElement(r))})},Ky=function(e,t,n){return nm.fromPosition(t,e,n).bind(function(i){return Uy(i.getNode())?Ae.none():Xy(e,t,n,i)?Ae.none():t&&Fa.isContentEditableFalse(i.getNode())?Gy(e,t,n,i):t===!1&&Fa.isContentEditableFalse(i.getNode(!0))?Gy(e,t,n,i):t&&Wp(n)?Ae.some(Yy.moveToPosition(i)):t===!1&&jp(n)?Ae.some(Yy.moveToPosition(i)):Ae.none()})},Qy=function(e,t){return e&&Fa.isContentEditableFalse(t.nextSibling)?Ae.some(Yy.moveToElement(t.nextSibling)):e===!1&&Fa.isContentEditableFalse(t.previousSibling)?Ae.some(Yy.moveToElement(t.previousSibling)):Ae.none()},Zy=function(e,t,n){return n.fold(function(e){return Ae.some(Yy.remove(e))},function(e){return Ae.some(Yy.moveToElement(e))},function(n){return Np(t,n,e)?Ae.none():Ae.some(Yy.moveToPosition(n))})},Jy=function(e,t,n){return Vy(t,n)?Qy(t,n.getNode(t===!1)).fold(function(){return Ky(e,t,n)},Ae.some):Ky(e,t,n).bind(function(t){return Zy(e,n,t)})},eb=function(e,t,n){var i=Bp(t?1:-1,e,n),r=Fd.fromRangeStart(i);return t===!1&&Wp(r)?Ae.some(Yy.remove(r.getNode(!0))):t&&jp(r)?Ae.some(Yy.remove(r.getNode())):Jy(e,t,r)},tb=function(e,t){var n=e.container(),i=e.offset();return Fd.isTextPosition(e)===!1&&n===t.parentNode&&i>Fd.before(t).offset()},nb=function(e,t){return tb(t,e)?Fd(t.container(),t.offset()-1):t},ib=function(e){return Fa.isText(e)?Fd(e,0):Fd.before(e)},rb=function(e){return Fa.isText(e)?Fd(e,e.data.length):Fd.after(e)},ob=function(e){return Xc(e.previousSibling)?Ae.some(rb(e.previousSibling)):e.previousSibling?nm.lastPositionIn(e.previousSibling):Ae.none()},sb=function(e){return Xc(e.nextSibling)?Ae.some(ib(e.nextSibling)):e.nextSibling?nm.firstPositionIn(e.nextSibling):Ae.none()},ab=function(e,t){var n=Fd.before(t.previousSibling?t.previousSibling:t.parentNode);return nm.prevPosition(e,n).fold(function(){return nm.nextPosition(e,Fd.after(t))},Ae.some)},lb=function(e,t){return nm.nextPosition(e,Fd.after(t)).fold(function(){return nm.prevPosition(e,Fd.before(t))},Ae.some)},ub=function(e,t){return ob(t).orThunk(function(){return sb(t)}).orThunk(function(){return ab(e,t)})},cb=function(e,t){return sb(t).orThunk(function(){return ob(t)}).orThunk(function(){return lb(e,t)})},db=function(e,t,n){return e?cb(t,n):ub(t,n)},fb=function(e,t,n){return db(e,t,n).map(be(nb,n))},hb=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},pb=function(e){return function(t){return t.dom()===e}},mb=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(so.name(t))},gb=function(e){if(ly.isEmpty(e)){var t=Kr.fromHtml('<br data-mce-bogus="1">');return Ul.empty(e),Ll.append(e,t),Ae.some(Fd.before(t.dom()))}return Ae.none()},vb=function(e,t){return gd([Ls.prevSibling(e),Ls.nextSibling(e),t],function(t,n,i){var r,o=t.dom(),s=n.dom();return Fa.isText(o)&&Fa.isText(s)?(r=o.data.length,o.appendData(s.data),Ul.remove(n),Ul.remove(e),i.container()===s?Fd(o,r):i):(Ul.remove(e),i)}).orThunk(function(){return Ul.remove(e),t})},yb=function(e,t,n){var i=fb(t,e.getBody(),n.dom()),r=Nu.ancestor(n,be(mb,e),pb(e.getBody())),o=vb(n,i);e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):r.bind(gb).fold(function(){hb(e,t,o)},function(n){hb(e,t,Ae.some(n))})},bb={deleteElement:yb},_b=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),bb.deleteElement(e,t,Kr.fromDom(n)),!0}},wb=function(e,t){return function(n){var i=t?Fd.before(n):Fd.after(n);return e.selection.setRng(i.toRange()),!0}},xb=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Cb=function(e,t){var n=eb(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(_b(e,t),wb(e,t),xb(e))});return n.getOr(!1)},kb=function(e){qe(Cu.descendants(e,".mce-offscreen-selection"),Ul.remove)},Tb=function(e,t){var n=e.selection.getNode();return Fa.isContentEditableFalse(n)?(kb(Kr.fromDom(e.getBody())),bb.deleteElement(e,t,Kr.fromDom(e.selection.getNode())),Uv.paddEmptyBody(e),!0):!1},Sb=function(e,t){for(;t&&t!==e;){if(Fa.isContentEditableTrue(t)||Fa.isContentEditableFalse(t))return t;t=t.parentNode}return null},Eb=function(e){var t,n=Sb(e.getBody(),e.selection.getNode());return Fa.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Fd.before(t).toRange())),!0},Db=function(e,t){return e.selection.isCollapsed()?Cb(e,t):Tb(e,t)},Ab={backspaceDelete:Db,paddEmptyElement:Eb},Nb=Fa.isText,Pb=function(e){return Nb(e)&&e.data[0]===Cc.ZWSP},Ob=function(e){return Nb(e)&&e.data[e.data.length-1]===Cc.ZWSP},Mb=function(e){return e.ownerDocument.createTextNode(Cc.ZWSP)},Ib=function(e){if(Nb(e.previousSibling))return Ob(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(Cc.ZWSP),e.previousSibling);if(Nb(e))return Pb(e)?e:(e.insertData(0,Cc.ZWSP),e);var t=Mb(e);return e.parentNode.insertBefore(t,e),t},Rb=function(e){if(Nb(e.nextSibling))return Pb(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,Cc.ZWSP),e.nextSibling);if(Nb(e))return Ob(e)?e:(e.appendData(Cc.ZWSP),e);var t=Mb(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Lb=function(e,t){return e?Ib(t):Rb(t)},Bb=be(Lb,!0),Fb=be(Lb,!1),$b=function(e,t){return Fa.isText(e.container())?Lb(t,e.container()):Lb(t,e.getNode())},zb=function(e,t){var n=t.get();return n&&e.container()===n&&Ec(n)},Hb=function(e,t){return t.fold(function(t){Mf.remove(e.get());var n=Bb(t);return e.set(n),Ae.some(Fd(n,n.length-1))},function(t){return nm.firstPositionIn(t).map(function(t){if(zb(t,e))return Fd(e.get(),1);Mf.remove(e.get());var n=$b(t,!0);return e.set(n),Fd(n,1)})},function(t){return nm.lastPositionIn(t).map(function(t){if(zb(t,e))return Fd(e.get(),e.get().length-1);Mf.remove(e.get());var n=$b(t,!1);return e.set(n),Fd(n,n.length-1)})},function(t){Mf.remove(e.get());var n=Fb(t);return e.set(n),Ae.some(Fd(n,1))})},jb={renderCaret:Hb},Wb=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return Ae.none()},qb={evaluateUntil:Wb},Ub=qy.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Yb=function(e,t){var n=Ap(t,e);return n?n:e},Vb=function(e,t,n){var i=$v.normalizeForwards(n),r=Yb(t,i.container());return $v.findRootInline(e,r,i).fold(function(){return nm.nextPosition(r,i).bind(be($v.findRootInline,e,r)).map(function(e){return Ub.before(e)})},Ae.none)},Xb=function(e,t){return null===bf(e,t)},Gb=function(e,t,n){return $v.findRootInline(e,t,n).filter(be(Xb,t))},Kb=function(e,t,n){var i=$v.normalizeBackwards(n);return Gb(e,t,i).bind(function(e){var t=nm.prevPosition(e,i);return t.isNone()?Ae.some(Ub.start(e)):Ae.none()})},Qb=function(e,t,n){var i=$v.normalizeForwards(n);return Gb(e,t,i).bind(function(e){var t=nm.nextPosition(e,i);return t.isNone()?Ae.some(Ub.end(e)):Ae.none()})},Zb=function(e,t,n){var i=$v.normalizeBackwards(n),r=Yb(t,i.container());return $v.findRootInline(e,r,i).fold(function(){return nm.prevPosition(r,i).bind(be($v.findRootInline,e,r)).map(function(e){return Ub.after(e)})},Ae.none)},Jb=function(e){return $v.isRtl(t_(e))===!1},e_=function(e,t,n){var i=qb.evaluateUntil([Vb,Kb,Qb,Zb],[e,t,n]);return i.filter(Jb)},t_=function(e){return e.fold(ye,ye,ye,ye)},n_=function(e){return e.fold(ve("before"),ve("start"),ve("end"),ve("after"))},i_=function(e){return e.fold(Ub.before,Ub.before,Ub.after,Ub.after)},r_=function(e){return e.fold(Ub.start,Ub.start,Ub.end,Ub.end)},o_=function(e,t){return n_(e)===n_(t)&&t_(e)===t_(t)},s_=function(e,t,n,i,r,o){return gd([$v.findRootInline(t,n,i),$v.findRootInline(t,n,r)],function(t,i){return t!==i&&$v.hasSameParentBlock(n,t,i)?Ub.after(e?t:i):o}).getOr(o)},a_=function(e,t){return e.fold(ve(!0),function(e){return!o_(e,t)})},l_=function(e,t,n,i,r){var o=$v.normalizePosition(e,r),s=nm.fromPosition(e,n,o).map(be($v.normalizePosition,e)),a=s.fold(function(){return i.map(i_)},function(r){return e_(t,n,r).map(be(s_,e,t,n,o,r)).filter(be(a_,i))});return a.filter(Jb)},u_=function(e,t){return e?t.fold(ge(Ae.some,Ub.start),Ae.none,ge(Ae.some,Ub.after),Ae.none):t.fold(Ae.none,ge(Ae.some,Ub.before),Ae.none,ge(Ae.some,Ub.end))},c_=function(e,t,n,i){var r=$v.normalizePosition(e,i),o=e_(t,n,r);return e_(t,n,r).bind(be(u_,e)).orThunk(function(){return l_(e,t,n,o,i)})},d_={readLocation:e_,findLocation:c_,prevLocation:be(c_,!1),nextLocation:be(c_,!0),getElement:t_,outside:i_,inside:r_},f_=function(e){return Be(e.selection.getSel().modify)},h_=function(e,t,n){var i=e?1:-1;return t.setRng(Fd(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},p_=function(e,t){var n=t.selection.getRng(),i=e?Fd.fromRangeEnd(n):Fd.fromRangeStart(n);return f_(t)?e&&Pc(i)?h_(!0,t.selection,i):!e&&Oc(i)?h_(!1,t.selection,i):!1:!1},m_={hasSelectionModifyApi:f_,moveByWord:p_},g_=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},v_=function(e){return e.settings.inline_boundaries!==!1},y_=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},b_=function(e,t,n){return jb.renderCaret(t,n).map(function(t){return g_(e,t),n})},__=function(e,t,n){var i=e.getBody(),r=Fd.fromRangeStart(e.selection.getRng()),o=be($v.isInlineTarget,e),s=d_.findLocation(n,o,i,r);return s.bind(function(n){return b_(e,t,n)})},w_=function(e,t,n){var i=Ve(t.select('*[data-mce-selected="inline-boundary"]'),e),r=Ve(n,e);qe(ot(i,r),be(y_,!1)),qe(ot(r,i),be(y_,!0))},x_=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=Fd.fromRangeStart(e.selection.getRng());Fd.isTextPosition(n)&&$v.isAtZwsp(n)===!1&&(g_(e,Mf.removeAndReposition(t.get(),n)),t.set(null))}},C_=function(e,t,n,i){if(t.selection.isCollapsed()){var r=Ve(i,e);qe(r,function(i){var r=Fd.fromRangeStart(t.selection.getRng());d_.readLocation(e,t.getBody(),r).bind(function(e){return b_(t,n,e)})})}},k_=function(e,t,n){return function(){return v_(e)?__(e,t,n).isSome():!1}},T_=function(e,t,n){return function(){return v_(t)?m_.moveByWord(e,t):!1}},S_=function(e){var t=Xl(null),n=be($v.isInlineTarget,e);return e.on("NodeChange",function(i){v_(e)&&(w_(n,e.dom,i.parents),x_(e,t),C_(n,e,t,i.parents))}),t},E_=be(T_,!0),D_=be(T_,!1),A_={move:k_,moveNextWord:E_,movePrevWord:D_,setupSelectedState:S_,setCaretPosition:g_},N_=function(e){return e.settings.inline_boundaries!==!1},P_=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},O_=function(e){return gd([nm.firstPositionIn(e),nm.lastPositionIn(e)],function(t,n){var i=$v.normalizePosition(!0,t),r=$v.normalizePosition(!1,n);return nm.nextPosition(e,i).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)},M_=function(e,t){return function(n){return jb.renderCaret(t,n).map(function(t){return A_.setCaretPosition(e,t),!0}).getOr(!1)}},I_=function(e,t,n,i){var r=e.getBody(),o=be($v.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(P_(n,i)),e.execCommand("Delete"),d_.readLocation(o,r,Fd.fromRangeStart(e.selection.getRng())).map(d_.inside).map(M_(e,t))}),e.nodeChanged()},R_=function(e,t){var n=Ap(t,e);return n?n:e},L_=function(e,t,n,i){var r=R_(e.getBody(),i.container()),o=be($v.isInlineTarget,e),s=d_.readLocation(o,r,i);return s.bind(function(e){return n?e.fold(ve(Ae.some(d_.inside(e))),Ae.none,ve(Ae.some(d_.outside(e))),Ae.none):e.fold(Ae.none,ve(Ae.some(d_.outside(e))),Ae.none,ve(Ae.some(d_.inside(e))))}).map(M_(e,t)).getOrThunk(function(){var a=nm.navigate(n,r,i),l=a.bind(function(e){return d_.readLocation(o,r,e)});return s.isSome()&&l.isSome()?$v.findRootInline(o,r,i).map(function(t){return O_(t)?(bb.deleteElement(e,n,Kr.fromDom(t)),!0):!1}).getOr(!1):l.bind(function(r){return a.map(function(r){return n?I_(e,t,i,r):I_(e,t,r,i),!0})}).getOr(!1)})},B_=function(e,t,n){if(e.selection.isCollapsed()&&N_(e)){var i=Fd.fromRangeStart(e.selection.getRng());return L_(e,t,n,i)}return!1},F_={backspaceDelete:B_},$_=Vo("start","end"),z_=Vo("rng","table","cells"),H_=qy.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),j_=function(e){return be(ms.eq,e)},W_=function(e,t){return Bu.closest(Kr.fromDom(e),"td,th",t)},q_=function(e,t){return Bu.ancestor(e,"table",t)},U_=function(e){return ms.eq(e.start(),e.end())===!1},Y_=function(e,t){return q_(e.start(),t).bind(function(n){return q_(e.end(),t).bind(function(e){return ms.eq(n,e)?Ae.some(n):Ae.none()})})},V_=function(e){return Cu.descendants(e,"td,th")},X_=function(e,t){return q_(e.start(),t).bind(function(t){return ut(V_(t)).map(function(t){return $_(e.start(),t)})})},G_=function(e,t){var n=W_(t.startContainer,e),i=W_(t.endContainer,e);return t.collapsed?Ae.none():gd([n,i],$_).fold(function(){return n.fold(function(){return i.bind(function(t){return q_(t,e).bind(function(e){return lt(V_(e)).map(function(e){return $_(e,t)})})})},function(t){return q_(t,e).bind(function(e){return ut(V_(e)).map(function(e){return $_(t,e)})})})},function(t){return K_(e,t)?Ae.none():X_(t,e)})},K_=function(e,t){return Y_(t,e).isSome()},Q_=function(e,t){var n=W_(e.startContainer,t),i=W_(e.endContainer,t);return gd([n,i],$_).filter(U_).filter(function(e){return K_(t,e)}).orThunk(function(){return G_(t,e)})},Z_=function(e,t){return Y_(e,t).map(function(t){return z_(e,t,V_(t))})},J_=function(e,t){var n=j_(e);return Q_(t,n).bind(function(e){return Z_(e,n)})},ew=function(e,t){return Qe(e,function(e){return ms.eq(e,t)})},tw=function(e){return gd([ew(e.cells(),e.rng().start()),ew(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})},nw=function(e){return tw(e).map(function(t){var n=e.cells();return t.length===n.length?H_.removeTable(e.table()):H_.emptyCells(t)})},iw=function(e){return H_.emptyCells(e)},rw=function(e,t){return J_(e,t).bind(nw)},ow={getActionFromRange:rw,getActionFromCells:iw},sw=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},aw=function(e){return tt(e,function(e){var t=fd(e);return t?[Kr.fromDom(t)]:[]})},lw=function(e){return sw(e).length>1},uw={getRanges:sw,getSelectedNodes:aw,hasMultipleRanges:lw},cw=function(e){return Ve(uw.getSelectedNodes(e),ba)},dw=function(e){var t=Cu.descendants(e,"td[data-mce-selected],th[data-mce-selected]");return t},fw=function(e,t){var n=dw(t),i=cw(e);return n.length>0?n:i},hw=function(e){return fw(uw.getRanges(e.selection.getSel()),Kr.fromDom(e.getBody()))},pw={getCellsFromRanges:cw,getCellsFromElement:dw,getCellsFromElementOrRanges:fw,getCellsFromEditor:hw},mw=function(e,t){return qe(t,Vg.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},gw=function(e,t){return bb.deleteElement(e,!1,t),!0},vw=function(e,t,n){return ow.getActionFromRange(t,n).map(function(t){return t.fold(be(gw,e),be(mw,e))})},yw=function(e,t){return kw(e,t)},bw=function(e,t,n,i){return xw(t,i).fold(function(){return vw(e,t,n)},function(t){return yw(e,t)}).getOr(!1)},_w=function(e,t){var n=Kr.fromDom(e.getBody()),i=e.selection.getRng(),r=pw.getCellsFromEditor(e);return 0!==r.length?mw(e,r):bw(e,n,i,t)},ww=function(e,t){return Ke(Cy.parentsAndSelf(t,e),ba)},xw=function(e,t){return Ke(Cy.parentsAndSelf(t,e),function(e){return"caption"===so.name(e)})},Cw=function(e,t,n,i,r){return nm.navigate(n,e.getBody(),r).bind(function(e){return ww(t,Kr.fromDom(e.getNode())).map(function(e){return ms.eq(e,i)===!1})})},kw=function(e,t){return Vg.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),Ae.some(!0)},Tw=function(e,t,n,i){return nm.firstPositionIn(e.dom()).bind(function(r){return nm.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(r)&&i.isEqual(e):n.isEqual(e)&&i.isEqual(r)})}).getOr(!0)},Sw=function(e,t){return kw(e,t)},Ew=function(e,t,n){return xw(e,Kr.fromDom(n.getNode())).map(function(e){return ms.eq(e,t)===!1})},Dw=function(e,t,n,i,r){return nm.navigate(n,e.getBody(),r).bind(function(o){return Tw(i,n,r,o)?Sw(e,i):Ew(t,i,o)}).or(Ae.some(!0))},Aw=function(e,t,n,i){var r=Fd.fromRangeStart(e.selection.getRng());return ww(n,i).bind(function(i){return ly.isEmpty(i)?kw(e,i):Cw(e,n,t,i,r)})},Nw=function(e,t,n,i){var r=Fd.fromRangeStart(e.selection.getRng());return ly.isEmpty(i)?kw(e,i):Dw(e,n,t,i,r)},Pw=function(e,t,n){var i=Kr.fromDom(e.getBody());return xw(i,n).fold(function(){return Aw(e,t,i,n)},function(n){return Nw(e,t,i,n)}).getOr(!1)},Ow=function(e,t){var n=Kr.fromDom(e.selection.getStart(!0)),i=pw.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===i.length?Pw(e,t,n):_w(e,n)},Mw={backspaceDelete:Ow},Iw=function(e,t){e.getDoc().execCommand(t,!1,null)},Rw=function(e){Ab.backspaceDelete(e,!1)||F_.backspaceDelete(e,!1)||Iy.backspaceDelete(e,!1)||Mw.backspaceDelete(e)||jy.backspaceDelete(e,!1)||(Iw(e,"Delete"),Uv.paddEmptyBody(e))},Lw=function(e){Ab.backspaceDelete(e,!0)||F_.backspaceDelete(e,!0)||Iy.backspaceDelete(e,!0)||Mw.backspaceDelete(e)||jy.backspaceDelete(e,!0)||Iw(e,"ForwardDelete")},Bw={deleteCommand:Rw,forwardDeleteCommand:Lw},Fw=function(e,t,n){var i=function(t){return Yo.getRaw(t,e)},r=function(e){return ms.eq(Kr.fromDom(t),e)};return Nu.closest(Kr.fromDom(n),function(e){return i(e).isSome()},r).bind(i)},$w=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},zw=function(e,t){return/[0-9.]+px$/.test(e)?$w(72*parseInt(e,10)/96,t||0)+"pt":e},Hw=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},jw=function(e,t){return Ae.from(Cl.DOM.getStyle(t,e,!0))},Ww=function(e){return function(t,n){return Ae.from(n).map(Kr.fromDom).filter(so.isElement).bind(function(n){return Fw(e,t,n.dom()).or(jw(e,n.dom()))}).getOr("")}},qw={getFontSize:Ww("font-size"),getFontFamily:ge(Hw,Ww("font-family")),toPt:zw},Uw=function(e){return nm.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return Fa.isText(t)?t.parentNode:t})},Yw=function(e,t){return e.startContainer===t&&0===e.startOffset},Vw=function(e){return Ae.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return Yw(t,n)?Ae.none():Ae.from(e.selection.getStart(!0))})},Xw=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&7>=n){var i=Gh.getFontStyleValues(e),r=Gh.getFontSizeClasses(e);return r?r[n-1]||t:i[n-1]||t}return t}return t},Gw=function(e,t){e.formatter.toggle("fontname",{
value:Xw(e,t)}),e.nodeChanged()},Kw=function(e){return Vw(e).fold(function(){return Uw(e).map(function(t){return qw.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return qw.getFontFamily(e.getBody(),t)})},Qw=function(e,t){e.formatter.toggle("fontsize",{value:Xw(e,t)}),e.nodeChanged()},Zw=function(e){return Vw(e).fold(function(){return Uw(e).map(function(t){return qw.getFontSize(e.getBody(),t)}).getOr("")},function(t){return qw.getFontSize(e.getBody(),t)})},Jw=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},ex={isEq:Jw},tx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},nx=function(e,t,n){return null!==tx(e,t,n)},ix=function(e,t,n){return nx(e,t,function(e){return e.nodeName===n})},rx=function(e){return e&&"TABLE"===e.nodeName},ox=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},sx=function(e,t){return Dc(e)&&nx(e,t,yf)===!1},ax=function(e,t,n){for(var i=new y(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(Fa.isBr(t))return!0},lx=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},ux=function(e,t){for(;t&&t!==e;){if(Fa.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},cx=function(e,t,n,i,r){var o,s,a,l,u=e.getRoot(),c=e.schema.getNonEmptyElements();if(a=e.getParent(r.parentNode,e.isBlock)||u,i&&Fa.isBr(r)&&t&&e.isEmpty(a))return Ae.some(T(r.parentNode,e.nodeIndex(r)));for(o=new y(r,a);l=o[i?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||sx(l,u))return Ae.none();if(Fa.isText(l)&&l.nodeValue.length>0)return ix(l,u,"A")===!1?Ae.some(T(l,i?l.nodeValue.length:0)):Ae.none();if(e.isBlock(l)||c[l.nodeName.toLowerCase()])return Ae.none();s=l}return n&&s?Ae.some(T(s,0)):Ae.none()},dx=function(e,t,n,i){var r,o,s,a,l,u,c,d=e.getRoot(),f=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=Fa.isElement(r)&&o===r.childNodes.length,l=e.schema.getNonEmptyElements(),u=n,Dc(r))return Ae.none();if(Fa.isElement(r)&&o>r.childNodes.length-1&&(u=!1),Fa.isDocument(r)&&(r=d,o=0),r===d){if(u&&(a=r.childNodes[o>0?o-1:0])){if(Dc(a))return Ae.none();if(l[a.nodeName]||rx(a))return Ae.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Fa.isText(r)&&c?r.data.length:0,!t&&r===d.lastChild&&rx(r))return Ae.none();if(ux(d,r)||Dc(r))return Ae.none();if(r.hasChildNodes()&&rx(r)===!1){a=r,s=new y(r,d);do{if(Fa.isContentEditableFalse(a)||Dc(a)){f=!1;break}if(Fa.isText(a)&&a.nodeValue.length>0){o=u?0:a.nodeValue.length,r=a,f=!0;break}if(l[a.nodeName.toLowerCase()]&&!ox(a)){o=e.nodeIndex(a),r=a.parentNode,u||o++,f=!0;break}}while(a=u?s.next():s.prev())}}}return t&&(Fa.isText(r)&&0===o&&cx(e,c,t,!0,r).each(function(e){r=e.container(),o=e.offset(),f=!0}),Fa.isElement(r)&&(a=r.childNodes[o],a||(a=r.childNodes[o-1]),!a||!Fa.isBr(a)||lx(a,"A")||ax(e,a,!1)||ax(e,a,!0)||cx(e,c,t,!0,a).each(function(e){r=e.container(),o=e.offset(),f=!0}))),u&&!t&&Fa.isText(r)&&o===r.nodeValue.length&&cx(e,c,t,!1,r).each(function(e){r=e.container(),o=e.offset(),f=!0}),f?Ae.some(T(r,o)):Ae.none()},fx=function(e,t){var n=t.collapsed,i=t.cloneRange(),r=T.fromRangeStart(t);return dx(e,n,!0,i).each(function(e){n&&T.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||dx(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),ex.isEq(t,i)?Ae.none():Ae.some(i)},hx={normalize:fx},px=function(e,t,n){for(var i,r=new y(t,n),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0},mx=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},gx=function(e,t,n,i){var r=e.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.setRng(r)},vx=function(e,t){var n,i,r=e.selection,o=e.dom,s=r.getRng();hx.normalize(o,s).each(function(e){s.setStart(e.startContainer,e.startOffset),s.setEnd(e.endContainer,e.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=t&&t.ctrlKey;"LI"!==f||h||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&(px(e.schema,l,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),mx(o,r,n),gx(o,r,n,i),e.undoManager.add()},yx=function(e,t){var n=Kr.fromTag("br");Ll.before(Kr.fromDom(t),n),e.undoManager.add()},bx=function(e,t){wx(e.getBody(),t)||Ll.after(Kr.fromDom(t),Kr.fromTag("br"));var n=Kr.fromTag("br");Ll.after(Kr.fromDom(t),n),mx(e.dom,e.selection,n.dom()),gx(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},_x=function(e){return Fa.isBr(e.getNode())},wx=function(e,t){return _x(Fd.after(t))?!0:nm.nextPosition(e,Fd.after(t)).map(function(e){return Fa.isBr(e.getNode())}).getOr(!1)},xx=function(e){return e&&"A"===e.nodeName&&"href"in e},Cx=function(e){return e.fold(ve(!1),xx,xx,ve(!1))},kx=function(e){var t=be($v.isInlineTarget,e),n=Fd.fromRangeStart(e.selection.getRng());return d_.readLocation(t,e.getBody(),n).filter(Cx)},Tx=function(e,t){t.fold(me,be(yx,e),be(bx,e),me)},Sx=function(e,t){var n=kx(e);n.isSome()?n.each(be(Tx,e)):vx(e,t)},Ex={insert:Sx},Dx=qy.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ax=function(e,t,n,i){return e.fold(t,n,i)},Nx=function(e){return e.fold(ye,ye,ye)},Px={before:Dx.before,on:Dx.on,after:Dx.after,cata:Ax,getStart:Nx},Ox=qy.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Mx=Vo("start","soffset","finish","foffset"),Ix=function(e){return Ox.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Rx=function(e){return e.match({domRange:function(e){return Kr.fromDom(e.startContainer)},relative:function(e,t){return Px.getStart(e)},exact:function(e,t,n,i){return e}})},Lx=function(e){var t=Rx(e);return Ls.defaultView(t)},Bx={domRange:Ox.domRange,relative:Ox.relative,exact:Ox.exact,exactFromRange:Ix,range:Mx,getWin:Lx},Fx=qr.detect().browser,$x=function(e,t){var n=so.isText(t)?cg.get(t).length:Ls.children(t).length+1;return e>n?n:0>e?0:e},zx=function(e){return Bx.range(e.start(),$x(e.soffset(),e.start()),e.finish(),$x(e.foffset(),e.finish()))},Hx=function(e,t){return ms.contains(e,t)||ms.eq(e,t)},jx=function(e){return function(t){return Hx(e,t.start())&&Hx(e,t.finish())}},Wx=function(e){return e.inline===!0||Fx.isIE()},qx=function(e){return Bx.range(Kr.fromDom(e.startContainer),e.startOffset,Kr.fromDom(e.endContainer),e.endOffset)},Ux=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?Ae.from(t.getRangeAt(0)):Ae.none();return n.map(qx)},Yx=function(e){var t=Ls.defaultView(e);return Ux(t.dom()).filter(jx(e))},Vx=function(e,t){return Ae.from(t).filter(jx(e)).map(zx)},Xx=function(e){var t=document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Ae.some(t)}catch(n){return Ae.none()}},Gx=function(e){var t=Wx(e)?Yx(Kr.fromDom(e.getBody())):Ae.none();e.bookmark=t.isSome()?t:e.bookmark},Kx=function(e,t){var n=Kr.fromDom(e.getBody()),i=Wx(e)?Ae.from(t):Ae.none(),r=i.map(qx).filter(jx(n));e.bookmark=r.isSome()?r:e.bookmark},Qx=function(e){var t=e.bookmark?e.bookmark:Ae.none();return t.bind(be(Vx,Kr.fromDom(e.getBody()))).bind(Xx)},Zx=function(e){Qx(e).each(function(t){e.selection.setRng(t)})},Jx={store:Gx,storeNative:Kx,readRange:Ux,restore:Zx,getRng:Qx,getBookmark:Yx,validate:Vx},eC=function(e,t,n,i,r,o){if("false"!==e.getContentEditable(o)&&"LI"!==o.nodeName){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===t){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);e.setStyle(o,s,a?a+r:"")}else{var a=parseInt(o.style[s]||0,10)+i+r;e.setStyle(o,s,a)}}},tC=function(e,t){var n=e.settings,i=e.dom,r=e.selection,o=e.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),l=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),qe(r.getSelectedBlocks(),function(e){return eC(i,t,l,a,s,e)}))},nC=xi.each,iC=xi.extend,rC=xi.map,oC=xi.inArray,sC=xi.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),aC=function(e){var t,n,i=this,r={},o=function(){return!1},s=function(){return!0};e=e||{},t=e.scope||i,n=e.toggleEvent||o;var a=function(n,i){var a,l,c,d;if(n=n.toLowerCase(),i=i||{},i.type=n,i.target||(i.target=t),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(i),a=r[n])for(l=0,c=a.length;c>l;l++){if(d=a[l],d.once&&u(n,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(d.func.call(t,i)===!1)return i.preventDefault(),i}return i},l=function(e,t,s,a){var l,u,c;if(t===!1&&(t=o),t)for(t={func:t},a&&xi.extend(t,a),u=e.toLowerCase().split(" "),c=u.length;c--;)e=u[c],l=r[e],l||(l=r[e]=[],n(e,!0)),s?l.unshift(t):l.push(t);return i},u=function(e,t){var o,s,a,l,u;if(e)for(l=e.toLowerCase().split(" "),o=l.length;o--;){if(e=l[o],s=r[e],!e){for(a in r)n(a,!1),delete r[a];return i}if(s){if(t)for(u=s.length;u--;)s[u].func===t&&(s=s.slice(0,u).concat(s.slice(u+1)),r[e]=s);else s.length=0;s.length||(n(e,!1),delete r[e])}}else{for(e in r)n(e,!1);r={}}return i},c=function(e,t,n){return l(e,t,n,{once:!0})},d=function(e){return e=e.toLowerCase(),!(!r[e]||0===r[e].length)};i.fire=a,i.on=l,i.off=u,i.once=c,i.has=d};aC.isNative=function(e){return!!sC[e.toLowerCase()]};var lC,uC=function(e){return e._eventDispatcher||(e._eventDispatcher=new aC({scope:e,toggleEvent:function(t,n){aC.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},cC={fire:function(e,t,n){var i=this;if(i.removed&&"remove"!==e)return t;if(t=uC(i).fire(e,t,n),n!==!1&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return uC(this).on(e,t,n)},off:function(e,t){return uC(this).off(e,t)},once:function(e,t){return uC(this).once(e,t)},hasEventListeners:function(e){return uC(this).has(e)}},dC=function(e,t){return e.fire("PreProcess",t)},fC=function(e,t){return e.fire("PostProcess",t)},hC=function(e){return e.fire("remove")},pC=function(e,t){return e.fire("SwitchMode",{mode:t})},mC=function(e,t,n,i){e.fire("ObjectResizeStart",{target:t,width:n,height:i})},gC=function(e,t,n,i){e.fire("ObjectResized",{target:t,width:n,height:i})},vC={firePreProcess:dC,firePostProcess:fC,fireRemove:hC,fireSwitchMode:pC,fireObjectResizeStart:mC,fireObjectResized:gC},yC=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}},bC=function(e,t,n){du.has(e,t)&&n===!1?du.remove(e,t):n&&du.add(e,t)},_C=function(e,t){bC(Kr.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",yC(e,"StyleWithCSS",!1),yC(e,"enableInlineTableEditing",!1),yC(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},wC=function(e,t){t!==xC(e)&&(e.initialized?_C(e,"readonly"===t):e.on("init",function(){_C(e,"readonly"===t)}),vC.fireSwitchMode(e,t))},xC=function(e){return e.readonly?"readonly":"design"},CC=function(e){return e.readonly===!0},kC=Cl.DOM,TC=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=kC.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},SC=function(e){return!e.hidden&&!e.readonly},EC=function(e,t,n){SC(e)?e.fire(t,n):CC(e)&&n.preventDefault()},DC=function(e,t){var n,i;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=TC(e,t),e.settings.event_root){if(lC||(lC={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&lC){for(t in lC)e.dom.unbind(TC(e,t));lC=null}})),lC[t])return;i=function(n){for(var i=n.target,r=e.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||kC.isChildOf(i,s))&&EC(r[o],t,n)}},lC[t]=i,kC.bind(n,t,i)}else i=function(n){EC(e,t,n)},kC.bind(n,t,i),e.delegates[t]=i},AC={bindPendingEventDelegates:function(){var e=this;xi.each(e._pendingNativeEvents,function(t){DC(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?DC(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(TC(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),i=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(TC(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&i&&(n.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(n),i.unbind(t.getContainer()))}};AC=xi.extend({},cC,AC);var NC,PC=AC,OC=xi.each,MC=xi.explode,IC={f9:120,f10:121,f11:122},RC=xi.makeMap("alt,ctrl,shift,meta,access"),LC=function(e){return Nu.first(e).isSome()},BC=function(e,t,n){return Nu.ancestor(e,t,n).isSome()},FC=function(e,t,n){return Nu.closest(e,t,n).isSome()},$C=function(e,t){return Nu.sibling(e,t).isSome()},zC=function(e,t){return Nu.child(e,t).isSome()},HC=function(e,t){return Nu.descendant(e,t).isSome()},jC={any:LC,ancestor:BC,closest:FC,sibling:$C,child:zC,descendant:HC},WC=function(e){e.dom().focus()},qC=function(e){e.dom().blur()},UC=function(e){var t=Ls.owner(e).dom();return e.dom()===t.activeElement},YC=function(e){var t=void 0!==e?e.dom():document;return Ae.from(t.activeElement).map(Kr.fromDom)},VC=function(e){var t=Ls.owner(e),n=YC(t).filter(function(t){return jC.closest(t,be(ms.eq,e))});n.fold(function(){WC(e)},me)},XC=function(e){return YC(Ls.owner(e)).filter(function(t){return e.dom().contains(t.dom())})},GC={hasFocus:UC,focus:WC,blur:qC,active:YC,search:XC,focusInside:VC},KC=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},QC=function(e){return e.collapsed?Ae.from(hd(e.startContainer,e.startOffset)).map(Kr.fromDom):Ae.none()},ZC=function(e,t){return QC(t).bind(function(t){return ya(t)?Ae.some(t):ms.contains(e,t)===!1?Ae.some(e):Ae.none()})},JC=function(e,t){ZC(Kr.fromDom(e.getBody()),t).bind(function(e){return nm.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},ek=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},tk=function(e){return GC.hasFocus(e)||GC.search(e).isSome()},nk=function(e){return e.iframeElement&&GC.hasFocus(Kr.fromDom(e.iframeElement))},ik=function(e){var t=e.getBody();return t&&tk(Kr.fromDom(t))},rk=function(e){return e.inline?ik(e):nk(e)},ok=function(e){var t=e.selection,n=e.settings.content_editable,i=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o=KC(e,t.getNode());return e.$.contains(i,o)?(ek(o),JC(e,r),void sk(e)):(void 0!==e.bookmark&&rk(e)===!1&&Jx.getRng(e).each(function(t){e.selection.setRng(t),r=t}),n||(St.opera||ek(i),e.getWin().focus()),(St.gecko||n)&&(ek(i),JC(e,r)),void sk(e))},sk=function(e){return e.editorManager.setActive(e)},ak=function(e,t){e.removed||(t?sk(e):ok(e))},lk={focus:ak,hasFocus:rk},uk=function(e,t){var n=t.dom();return n[e]},ck=function(e,t){return parseInt(Yo.get(t,e),10)},dk=be(uk,"clientWidth"),fk=be(uk,"clientHeight"),hk=be(ck,"margin-top"),pk=be(ck,"margin-left"),mk=function(e){return e.dom().getBoundingClientRect()},gk=function(e,t,n){var i=dk(e),r=fk(e);return t>=0&&n>=0&&i>=t&&r>=n},vk=function(e,t,n,i){var r=mk(t),o=e?r.left+t.dom().clientLeft+pk(t):0,s=e?r.top+t.dom().clientTop+hk(t):0,a=n-o,l=i-s;return{x:a,y:l}},yk=function(e,t,n){var i=Kr.fromDom(e.getBody()),r=e.inline?i:Ls.documentElement(i),o=vk(e.inline,r,t,n);return gk(r,o.x,o.y)},bk=function(e){return Ae.from(e).map(Kr.fromDom)},_k=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return bk(t).map(function(e){return ms.contains(Ls.owner(e),e)}).getOr(!1)},wk={isXYInContentArea:yk,isEditorAttachedToDom:_k},xk=x.PluginManager,Ck=function(e,t){for(var n in xk.urls){var i=xk.urls[n]+"/plugin"+t+".js";if(i===e)return n}return null},kk=function(e,t){var n=Ck(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},Tk=function(e,t){e.notificationManager.open({type:"error",text:t})},Sk=function(e,t){e._skinLoaded?Tk(e,t):e.on("SkinLoaded",function(){Tk(e,t)})},Ek=function(e,t){Sk(e,"Failed to upload image: "+t)},Dk=function(e,t){Sk(e,kk(e,t))},Ak=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},Nk={pluginLoadError:Dk,uploadError:Ek,displayError:Sk,initError:Ak},Pk=x.PluginManager,Ok=x.ThemeManager,Mk=function(e){var t=gt.getOrDie("requestAnimationFrame");t(e)},Ik=function(e){var t=gt.getOrDie("atob");return t(e)},Rk={atob:Ik,requestAnimationFrame:Mk},Lk=function(e){return new Dt(function(t,n){var i=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new L;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){200===this.status?t(this.response):i()},r.onerror=i,r.send()}catch(o){i()}})},Bk=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},Fk=function(e){return new Dt(function(t){var n,i,r;e=Bk(e);try{n=Rk.atob(e.data)}catch(o){return void t(new F([]))}for(i=new z(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);t(new F([i],{type:e.type}))})},$k=function(e){return 0===e.indexOf("blob:")?Lk(e):0===e.indexOf("data:")?Fk(e):null},zk=function(e){return new Dt(function(t){var n=new $;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},Hk={uriToBlob:$k,blobToDataUri:zk,parseDataUri:Bk},jk=0,Wk=function(e){return(e||"blobid")+jk++},qk=function(e,t,n,i){var r,o;return 0===t.src.indexOf("blob:")?(o=e.getByUri(t.src),void(o?n({image:t,blobInfo:o}):Hk.uriToBlob(t.src).then(function(i){Hk.blobToDataUri(i).then(function(s){r=Hk.parseDataUri(s).data,o=e.create(Wk(),i,r),e.add(o),n({image:t,blobInfo:o})})},function(e){i(e)}))):(r=Hk.parseDataUri(t.src).data,o=e.findFirst(function(e){return e.base64()===r}),void(o?n({image:t,blobInfo:o}):Hk.uriToBlob(t.src).then(function(i){o=e.create(Wk(),i,r),e.add(o),n({image:t,blobInfo:o})},function(e){i(e)})))},Uk=function(e){return e?e.getElementsByTagName("img"):[]},Yk=0,Vk=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},Xk=function(e){return e+Yk++ +Vk()},Gk={uuid:Xk},Kk=function(e,t){return e.hasOwnProperty(t.nodeName)},Qk=function(e,t){return Fa.isText(t)?!0:Fa.isElement(t)?!Kk(e,t)&&!Sm.isBookmarkNode(t):!1},Zk=function(e,t,n){return je(Cy.parents(Kr.fromDom(n),Kr.fromDom(t)),function(t){return Kk(e,t.dom())})},Jk=function(e,t){if(Fa.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Kk(e,t.nextSibling)))return!0}return!1},eT=function(e){var t,n,i,r,o,s,a,l,u,c,d,f=e.settings,h=e.dom,p=e.selection,m=e.schema,g=m.getBlockElements(),v=p.getStart(),y=e.getBody();if(d=f.forced_root_block,v&&Fa.isElement(v)&&d&&(c=y.nodeName.toLowerCase(),m.isValidChild(c,d.toLowerCase())&&!Zk(g,y,v))){for(t=p.getRng(),n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,u=lk.hasFocus(e),v=y.firstChild;v;)if(Qk(g,v)){if(Jk(g,v)){a=v,v=v.nextSibling,h.remove(a);continue}s||(s=h.create(d,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),l=!0),a=v,v=v.nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;l&&u&&(t.setStart(n,i),t.setEnd(r,o),p.setRng(t),e.nodeChanged())}},tT=function(e){e.settings.forced_root_block&&e.on("NodeChange",be(eT,e))},nT={setup:tT},iT=function(e){var t=e.startContainer,n=e.startOffset;return Fa.isText(t)?0===n?Ae.some(Kr.fromDom(t)):Ae.none():Ae.from(t.childNodes[n]).map(Kr.fromDom)},rT=function(e){var t=e.endContainer,n=e.endOffset;return Fa.isText(t)?n===t.data.length?Ae.some(Kr.fromDom(t)):Ae.none():Ae.from(t.childNodes[n-1]).map(Kr.fromDom)},oT=function(e){return Ls.firstChild(e).fold(ve([e]),function(t){return[e].concat(oT(t))})},sT=function(e){return Ls.lastChild(e).fold(ve([e]),function(t){return"br"===so.name(t)?Ls.prevSibling(t).map(function(t){return[e].concat(sT(t))}).getOr([]):[e].concat(sT(t))})},aT=function(e,t){return gd([iT(t),rT(t)],function(t,n){var i=Ke(oT(e),be(ms.eq,t)),r=Ke(sT(e),be(ms.eq,n));return i.isSome()&&r.isSome()}).getOr(!1)},lT=function(e,t,n,i){var r=n,o=new y(n,r),s=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==xi.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(St.ie&&St.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},uT=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},cT=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},dT=function(e){return e.inline?cT(e.getBody()):{left:0,top:0}},fT=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},hT=function(e){var t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:r},pT=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=cT(e.getContentAreaContainer()),i=hT(e);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}return{left:t.pageX,top:t.pageY}},mT=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},gT=function(e,t){return mT(dT(e),fT(e),pT(e,t))},vT={calc:gT},yT=Fa.isContentEditableFalse,bT=Fa.isContentEditableTrue,_T=function(e,t){return yT(t)&&t!==e},wT=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:yT(t)?!1:!0},xT=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},CT=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},kT=function(e,t){e.parentNode!==t&&t.appendChild(e)},TT=function(e,t,n,i,r,o){var s=0,a=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(s=t.pageX+n-r),t.pageY+i>o&&(a=t.pageY+i-o),e.style.width=n-s+"px",e.style.height=i-a+"px"},ST=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},ET=function(e){return 0===e.button},DT=function(e){return e.element},AT=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},NT=function(e,t){return function(n){if(ET(n)){var i=ui.find(t.dom.getParents(n.target),bc.or(yT,bT));if(_T(t.getBody(),i)){var r=t.dom.getPos(i),o=t.getBody(),s=t.getDoc().documentElement;e.element=i,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:s.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:s.offsetHeight)-2,e.relX=n.pageX-r.x,e.relY=n.pageY-r.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=CT(t,i,e.width,e.height)}}}},PT=function(e,t){var n=Rt.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(DT(e)&&!e.dragging&&r>10){var o=t.fire("dragstart",{target:e.element});if(o.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var s=AT(e,vT.calc(t,i));kT(e.ghost,t.getBody()),TT(e.ghost,s,e.width,e.height,e.maxX,e.maxY),n(i.clientX,i.clientY)}}},OT=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},MT=function(e,t){return function(n){if(e.dragging&&wT(t,OT(t.selection),e.element)){var i=xT(e.element),r=t.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact(function(){ST(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()}))}RT(e)}},IT=function(e,t){return function(){e.dragging&&t.fire("dragend"),RT(e)}},RT=function(e){e.dragging=!1,e.element=null,ST(e.ghost)},LT=function(e){var t,n,i,r,o,s,a={};t=Cl.DOM,s=document,n=NT(a,e),i=PT(a,e),r=MT(a,e),o=IT(a,e),e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r),t.bind(s,"mousemove",i),t.bind(s,"mouseup",o),e.on("remove",function(){t.unbind(s,"mousemove",i),t.unbind(s,"mouseup",o)})},BT=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(yT(n)||yT(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},FT=function(e){LT(e),BT(e)},$T={init:FT},zT=function(e){var t=function(t){return ui.map(t,function(t){return t=nd(t),t.node=e,t})};if(Fa.isElement(e))return t(e.getClientRects());if(Fa.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},HT=function(e){return ui.reduce(e,function(e,t){return e.concat(zT(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(NC||(NC={}));var jT=function(e,t,n,i){for(;i=Dp(i,e,ed,t);)if(n(i))return},WT=function(e,t,n,i,r,o){var s,a,l=0,u=[],c=function(i){var o,s,c;for(c=HT([i]),-1===e&&(c=c.reverse()),o=0;o<c.length;o++)if(s=c[o],!n(s,a)){if(u.length>0&&t(s,ui.last(u))&&l++,s.line=l,r(s))return!0;u.push(s)}};return(a=ui.last(o.getClientRects()))?(s=o.getNode(),c(s),jT(e,i,c,s),u):u},qT=function(e,t){return t.line>e},UT=function(e,t){return t.line===e},YT=be(WT,NC.Up,sd,ad),VT=be(WT,NC.Down,ad,sd),XT=function(e,t,n,i){var r,o,s,a,l,u,c=eh(t),d=[],f=0,h=function(t){return 1===e?ui.last(t.getClientRects()):ui.last(t.getClientRects())};1===e?(r=c.next,o=ad,s=sd,a=Fd.after(i)):(r=c.prev,o=sd,s=ad,a=Fd.before(i)),u=h(a);do if(a.isVisible()&&(l=h(a),!s(l,u))){if(d.length>0&&o(l,ui.last(d))&&f++,l=nd(l),l.position=a,l.line=f,n(l))return d;d.push(l)}while(a=r(a));return d},GT=function(e){return function(t){return qT(e,t)}},KT=function(e){return function(t){return UT(e,t)}},QT=Fa.isContentEditableFalse,ZT=Dp,JT=function(e,t){return Math.abs(e.left-t)},eS=function(e,t){return Math.abs(e.right-t)},tS=function(e,t){return e>=t.left&&e<=t.right},nS=function(e,t){return ui.reduce(e,function(e,n){var i,r;return i=Math.min(JT(e,t),eS(e,t)),r=Math.min(JT(n,t),eS(n,t)),tS(t,n)?n:tS(t,e)?e:r===i&&QT(n.node)?n:i>r?n:e})},iS=function(e,t,n,i){for(;i=ZT(i,e,ed,t);)if(n(i))return},rS=function(e,t){var n=[],i=function(e,i){var r;return r=ui.filter(HT([i]),function(n){return!e(n,t)}),n=n.concat(r),0===r.length};return n.push(t),iS(NC.Up,e,be(i,sd),t.node),iS(NC.Down,e,be(i,ad),t.node),n},oS=function(e){return ui.filter(ui.toArray(e.getElementsByTagName("*")),vp)},sS=function(e,t){return{node:e.node,before:JT(e,t)<eS(e,t)}},aS=function(e,t,n){var i,r=HT(oS(e)),o=ui.filter(r,function(e){return n>=e.top&&n<=e.bottom});return i=nS(o,t),i&&(i=nS(rS(e,i),t),i&&vp(i.node))?sS(i,t):null},lS=function(e,t,n){return n.collapsed?!1:Ge(n.getClientRects(),function(n,i){return n||ld(i,e,t)},!1)},uS={isXYWithinRange:lS},cS=function(e){var t=Yl(function(){if(!e.removed){var t=e.selection.getRng();if(t.collapsed){var n=zf(e,e.selection.getRng(),!1);e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},dS={setup:cS},fS={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return St.mac?e.metaKey:e.ctrlKey&&!e.altKey}},hS=Fa.isContentEditableTrue,pS=Fa.isContentEditableFalse,mS=Wp,gS=jp,vS=function(e,t){for(var n=e.getBody();t&&t!==n;){if(hS(t)||pS(t))return t;t=t.parentNode}return null},yS=function(e){var t,n=function(t){return e.dom.isBlock(t)},i=e.getBody(),r=gp(e.getBody(),n,function(){return lk.hasFocus(e)}),o="sel-"+e.dom.uniqueId(),s=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},a=function(){var t=e.dom.get(o);return t?t.getElementsByTagName("*")[0]:t},l=function(t){t&&e.selection.setRng(t)},u=function(){return e.selection.getRng()},c=function(t,n,i,o){void 0===o&&(o=!0);var s;return s=e.fire("ShowCaret",{target:n,direction:t,before:i}),s.isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(n,-1===t),r.show(i,n))},d=function(e,t){return t=Bp(e,i,t),-1===e?Fd.fromRangeStart(t):Fd.fromRangeEnd(t)},f=function(t){t.hasAttribute("data-mce-caret")&&(Fc(t),l(u()),e.selection.scrollIntoView(t[0]))},h=function(){e.on("mouseup",function(t){var n=u();n.collapsed&&wk.isXYInContentArea(e,t.clientX,t.clientY)&&l($f(e,n,!1))}),e.on("click",function(t){var n;n=vS(e,t.target),n&&(pS(n)&&(t.preventDefault(),e.focus()),hS(n)&&e.dom.isChildOf(n,e.selection.getNode())&&y())}),e.on("blur NewBlock",function(){y()}),e.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var n=function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var i=vS(e,n.target);pS(i)&&(t||(n.preventDefault(),v(Ff(e,i))))})},o=function(e){var t=eh(e);if(!e.firstChild)return!1;var n=Fd.before(e.firstChild),i=t.next(n);return i&&!gS(i)&&!mS(i)},d=function(t,n){var i=e.dom.getParent(t,e.dom.isBlock),r=e.dom.getParent(n,e.dom.isBlock);return i===r},f=function(t,n){var i=e.dom.getParent(t,e.dom.isBlock),r=e.dom.getParent(n,e.dom.isBlock);return i&&e.dom.isChildOf(i,r)&&pS(vS(e,i))===!1?!0:i&&!d(i,r)&&o(i)};n(e),e.on("mousedown",function(t){var n,r=t.target;if((r===i||"HTML"===r.nodeName||e.dom.isChildOf(r,i))&&wk.isXYInContentArea(e,t.clientX,t.clientY)!==!1)if(n=vS(e,r))pS(n)?(t.preventDefault(),v(Ff(e,n))):(y(),hS(n)&&t.shiftKey||uS.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(_(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(vp(r)===!1){y(),_();var o=aS(i,t.clientX,t.clientY);if(o&&!f(t.target,o.node)){t.preventDefault();var s=c(1,o.node,o.before,!1);e.getBody().focus(),l(s)}}}),e.on("keypress",function(t){if(!fS.modifierPressed(t))switch(t.keyCode){default:pS(e.selection.getNode())&&t.preventDefault()}}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;t=v(e.range,e.forward),t&&(e.range=t)});var h=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;g(t)||h(t.startContainer.parentNode)||_(),s(t.startContainer.parentNode)||y()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!St.ie){var n=a();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),$T.init(e),dS.setup(e)},p=function(){var t=e.contentStyles,n=".mce-content-body";t.push(r.getCss()),t.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},m=function(e){return Dc(e)||Rc(e)||Lc(e)},g=function(e){return m(e.startContainer)||m(e.endContainer)},v=function(n,i){var r,s,a,l,u,f,h,p,m,v,y=e.$,b=e.dom;if(!n)return null;if(n.collapsed){if(!g(n))if(i===!1){if(p=d(-1,n),vp(p.getNode(!0)))return c(-1,p.getNode(!0),!1,!1);if(vp(p.getNode()))return c(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(p=d(1,n),vp(p.getNode()))return c(1,p.getNode(),!p.isAtEnd(),!1);if(vp(p.getNode(!0)))return c(1,p.getNode(!0),!1,!1)}return null}return l=n.startContainer,
u=n.startOffset,f=n.endOffset,3===l.nodeType&&0===u&&pS(l.parentNode)&&(l=l.parentNode,u=b.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(f===u+1&&(r=l.childNodes[u]),pS(r)?(m=v=r.cloneNode(!0),h=e.fire("ObjectSelected",{target:r,targetClone:m}),h.isDefaultPrevented()?null:(s=Bu.descendant(Kr.fromDom(e.getBody()),"#"+o).fold(function(){return y([])},function(e){return y([e.dom()])}),m=h.targetClone,0===s.length&&(s=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),s.appendTo(e.getBody())),n=e.dom.createRng(),m===v&&St.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(m),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(m)):(s.empty().append("\xa0").append(m).append("\xa0"),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:b.getPos(r,e.getBody()).y}),s[0].focus(),a=e.selection.getSel(),a.removeAllRanges(),a.addRange(n),qe(Cu.descendants(Kr.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Co.remove(e,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),t=r,_(),n)):null)},y=function(){t&&(t.removeAttribute("data-mce-selected"),Bu.descendant(Kr.fromDom(e.getBody()),"#"+o).each(Ul.remove),t=null),Bu.descendant(Kr.fromDom(e.getBody()),"#"+o).each(Ul.remove),t=null},b=function(){r.destroy(),t=null},_=function(){r.hide()};return St.ceFalse&&(h(),p()),{showCaret:c,showBlockCaretContainer:f,hideFakeCaret:_,destroy:b}},bS=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},_S=function(e){return e.replace(/<!--|-->/g,"")},wS=function(e,t){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?e.allow_svg_data_urls===!1&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},xS=function(e,t,n){var i,r,o,s,a=1;for(s=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};!function(e){e.findEndTag=xS}(Y||(Y={}));var CS=Y,kS=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},TS=function(e,t){var n,i,r,o,s,a=t,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=e.schema;for(a=kS(e.getTempAttrs(),a),s=u.getShortEndedElements();o=l.exec(a);)i=l.lastIndex,r=o[0].length,n=s[o[1]]?i:CS.findEndTag(u,a,i),a=a.substring(0,i-r)+a.substring(n),l.lastIndex=i-r;return Cc.trim(a)},SS=TS,ES={trimExternal:SS,trimInternal:TS},DS=0,AS=1,NS=2,PS=function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(e,t,n){return{start:e,end:t,diag:n}},s=function(n,i,r,o,a){var u=l(n,i,r,o);if(null===u||u.start===i&&u.diag===i-o||u.end===n&&u.diag===n-r)for(var c=n,d=r;i>c||o>d;)i>c&&o>d&&e[c]===t[d]?(a.push([DS,e[c]]),++c,++d):i-n>o-r?(a.push([NS,e[c]]),++c):(a.push([AS,t[d]]),++d);else{s(n,u.start,r,u.start-u.diag,a);for(var f=u.start;f<u.end;++f)a.push([DS,e[f]]);s(u.end,i,u.end-u.diag,o,a)}},a=function(n,i,r,s){for(var a=n;s>a-i&&r>a&&e[a]===t[a-i];)++a;return o(n,a,i)},l=function(n,o,s,l){var u=o-n,c=l-s;if(0===u||0===c)return null;var d=u-c,f=c+u,h=(f%2===0?f:f+1)/2;i[1+h]=n,r[1+h]=o+1;var p,m,g,v,y;for(p=0;h>=p;++p){for(m=-p;p>=m;m+=2){for(g=m+h,m===-p||m!==p&&i[g-1]<i[g+1]?i[g]=i[g+1]:i[g]=i[g-1]+1,v=i[g],y=v-n+s-m;o>v&&l>y&&e[v]===t[y];)i[g]=++v,++y;if(d%2!==0&&m>=d-p&&d+p>=m&&r[g-d]<=i[g])return a(r[g-d],m+n-s,o,l)}for(m=d-p;d+p>=m;m+=2){for(g=m+h-d,m===d-p||m!==d+p&&r[g+1]<=r[g-1]?r[g]=r[g+1]-1:r[g]=r[g-1],v=r[g]-1,y=v-n+s-m;v>=n&&y>=s&&e[v]===t[y];)r[g]=v--,y--;if(d%2===0&&m>=-p&&p>=m&&r[g]<=i[g+d])return a(r[g],m+n-s,o,l)}}},u=[];return s(0,e.length,0,t.length,u),u},OS={KEEP:DS,DELETE:NS,INSERT:AS,diff:PS},MS=function(e){return Fa.isElement(e)?e.outerHTML:Fa.isText(e)?il.encodeRaw(e.data,!1):Fa.isComment(e)?"<!--"+e.data+"-->":""},IS=function(e){var t,n,i;for(i=document.createElement("div"),t=document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},RS=function(e,t,n){var i=IS(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)},LS=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},BS=function(e,t){var n=0;ui.each(e,function(e){e[0]===OS.KEEP?n++:e[0]===OS.INSERT?(RS(t,e[1],n),n++):e[0]===OS.DELETE&&LS(t,n)})},FS=function(e){return ui.filter(ui.map(e.childNodes,MS),function(e){return e.length>0})},$S=function(e,t){var n=ui.map(t.childNodes,MS);return BS(OS.diff(n,e),t),t},zS={read:FS,write:$S},HS=function(e,t){var n=t||document,i=n.createElement("div");return i.innerHTML=e,Ls.children(Kr.fromDom(i))},jS=function(e,t){return We(e,function(e){return Kr.fromTag(e,t)})},WS=function(e,t){return We(e,function(e){return Kr.fromText(e,t)})},qS=function(e){return We(e,Kr.fromDom)},US={fromHtml:HS,fromTags:jS,fromText:WS,fromDom:qS},YS=function(e){return e.dom().innerHTML},VS=function(e,t){var n=Ls.owner(e),i=n.dom(),r=Kr.fromDom(i.createDocumentFragment()),o=US.fromHtml(t,i);Hl.append(r,o),Ul.empty(e),Ll.append(e,r)},XS=function(e){var t=Kr.fromTag("div"),n=Kr.fromDom(e.dom().cloneNode(!0));return Ll.append(t,n),YS(t)},GS={get:YS,set:VS,getOuter:XS},KS=Xl(Ae.none()),QS=function(){return KS.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return KS.set(Ae.some(e)),e})},ZS=function(e){return-1!==e.indexOf("</iframe>")},JS=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},eE=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},tE=function(e){var t,n,i;return t=zS.read(e.getBody()),i=tt(t,function(t){var n=ES.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=i.join(""),ZS(n)?JS(i):eE(n)},nE=function(e,t,n){"fragmented"===t.type?zS.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},iE=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},rE=function(e){var t=Kr.fromTag("body",QS());return GS.set(t,iE(e)),qe(Cu.descendants(t,"*[data-mce-bogus]"),Ul.unwrap),GS.get(t)},oE=function(e,t){return iE(e)===iE(t)},sE=function(e,t){return rE(e)===rE(t)},aE=function(e,t){return e&&t?oE(e,t)?!0:sE(e,t):!1},lE={createFragmentedLevel:JS,createCompleteLevel:eE,createFromEditor:tE,applyToEditor:nE,isEq:aE},uE=$m.isEq,cE=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(i[r].inherit===!1&&e.dom.is(t,i[r].selector))return!0;return!1},dE=function(e,t,n,i){var r=e.dom.getRoot();return t===r?!1:(t=e.dom.getParent(t,function(t){return cE(e,t,n)?!0:t.parentNode===r||!!pE(e,t,n,i,!0)}),pE(e,t,n,i))},fE=function(e,t,n){return uE(t,n.inline)?!0:uE(t,n.block)?!0:n.selector?1===t.nodeType&&e.is(t,n.selector):void 0},hE=function(e,t,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(u)if("undefined"==typeof u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?e.getAttrib(t,s):$m.getStyle(e,t,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!uE(a,$m.normalizeStyleValue(e,$m.replaceVars(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?e.getAttrib(t,u[l]):$m.getStyle(e,t,u[l]))return n;return n},pE=function(e,t,n,i,r){var o,s,a,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(s=0;s<u.length;s++)if(o=u[s],fE(e.dom,t,o)&&hE(c,t,o,"attributes",r,i)&&hE(c,t,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!e.dom.hasClass(t,l[a]))return;return o}},mE=function(e,t,n,i){var r;return i?dE(e,i,t,n):(i=e.selection.getNode(),dE(e,i,t,n)?!0:(r=e.selection.getStart(),r!==i&&dE(e,r,t,n)?!0:!1))},gE=function(e,t,n){var i,r=[],o={};return i=e.selection.getStart(),e.dom.getParent(i,function(i){var s,a;for(s=0;s<t.length;s++)a=t[s],!o[a]&&pE(e,i,a,n)&&(o[a]=!0,r.push(a))},e.dom.getRoot()),r},vE=function(e,t){var n,i,r,o,s,a=e.formatter.get(t),l=e.dom;if(a)for(n=e.selection.getStart(),i=$m.getParents(l,n),o=a.length-1;o>=0;o--){if(s=a[o].selector,!s||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(l.is(i[r],s))return!0}return!1},yE={matchNode:pE,matchName:fE,match:mE,matchAll:gE,canApply:vE,matchesUnInheritedFormatSelector:cE},bE=function(e,t){return e.splitText(t)},_E=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&Fa.isText(t)?n>0&&n<t.nodeValue.length&&(i=bE(t,n),t=i.previousSibling,r>n?(r-=n,t=i=bE(i,r).previousSibling,r=i.nodeValue.length,n=0):r=0):(Fa.isText(t)&&n>0&&n<t.nodeValue.length&&(t=bE(t,n),n=0),Fa.isText(i)&&r>0&&r<i.nodeValue.length&&(i=bE(i,r).previousSibling,r=i.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},wE={split:_E},xE=Cc.ZWSP,CE="_mce_caret",kE=function(e,t){return e.importNode(t,!0)},TE=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==xE||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},SE=function(e){return TE(e).length>0},EE=function(e){var t;if(e)for(t=new y(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},DE=function(e){var t=Kr.fromTag("span");return Co.setAll(t,{id:CE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ll.append(t,Kr.fromText(xE)),t},AE=function(e){var t=EE(e);return t&&t.nodeValue.charAt(0)===xE&&t.deleteData(0,1),t},NE=function(e,t,n,i){var r,o,s;r=t.getRng(!0),o=e.getParent(n,e.isBlock),SE(n)?(i!==!1&&(r.setStartBefore(n),r.setEndBefore(n)),e.remove(n)):(s=AE(n),r.startContainer===s&&r.startOffset>0&&r.setStart(s,r.startOffset-1),r.endContainer===s&&r.endOffset>0&&r.setEnd(s,r.endOffset-1),e.remove(n,!0)),o&&e.isEmpty(o)&&Vg.fillWithPaddingBr(Kr.fromDom(o)),t.setRng(r)},PE=function(e,t,n,i,r){if(i)NE(t,n,i,r);else if(i=bf(e,n.getStart()),!i)for(;i=t.get(CE);)NE(t,n,i,!1)},OE=function(e,t,n){var i=e.dom,r=i.getParent(n,bc.curry($m.isTextBlock,e));r&&i.isEmpty(r)?n.parentNode.replaceChild(t,n):(Vg.removeTrailingBr(Kr.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))},ME=function(e,t){return e.appendChild(t),t},IE=function(e,t){var n=Xe(e,function(e,t){return ME(e,t.cloneNode(!1))},t);return ME(n,n.ownerDocument.createTextNode(xE))},RE=function(e,t,n){var i,r,o,s,a,l,u,c=e.selection;i=c.getRng(!0),s=i.startOffset,l=i.startContainer,u=l.nodeValue,r=bf(e.getBody(),c.getStart()),r&&(o=EE(r));var d=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&s>0&&s<u.length&&d.test(u.charAt(s))&&d.test(u.charAt(s-1))?(a=c.getBookmark(),i.collapse(!0),i=eg.expandRng(e,i,e.formatter.get(t)),i=wE.split(i),e.formatter.apply(t,n,i),c.moveToBookmark(a)):(r&&o.nodeValue===xE?e.formatter.apply(t,n,r):(r=kE(e.getDoc(),DE(!0).dom()),o=r.firstChild,i.insertNode(r),s=1,e.formatter.apply(t,n,r)),c.setCursorLocation(o,s))},LE=function(e,t,n,i){var r,o,s,a,l,u,c,d=e.dom,f=e.selection,h=[],p=f.getRng();for(r=p.startContainer,o=p.startOffset,l=r,3===r.nodeType&&(o!==r.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(yE.matchNode(e,l,t,n,i)){u=l;break}l.nextSibling&&(a=!0),h.push(l),l=l.parentNode}if(u)if(a){s=f.getBookmark(),p.collapse(!0);var m=eg.expandRng(e,p,e.formatter.get(t),!0);m=wE.split(m),e.formatter.remove(t,n,m),f.moveToBookmark(s)}else{c=bf(e.getBody(),u);var g=DE(!1).dom(),v=IE(h,g);c?OE(e,g,c):OE(e,g,u),NE(d,f,c,!1),f.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}},BE=function(e,t,n,i){PE(e,t,n,null,!1),8===i&&n.isCollapsed()&&n.getStart().innerHTML===xE&&PE(e,t,n,bf(e,n.getStart())),(37===i||39===i)&&PE(e,t,n,bf(e,n.getStart()))},FE=function(e){var t=e.dom,n=e.selection,i=e.getBody();e.on("mouseup keydown",function(e){BE(i,t,n,e.keyCode)})},$E=function(e,t){var n=DE(!1),i=IE(t,n.dom());return Ll.before(Kr.fromDom(e),n),Ul.remove(Kr.fromDom(e)),Fd(i,0)},zE=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(so.name(t))&&!yf(t.dom())&&!Fa.isBogus(t.dom())},HE={},jE=ui.filter,WE=ui.each,qE=function(e,t){var n=HE[e];n||(HE[e]=n=[]),HE[e].push(t)},UE=function(e,t){WE(HE[e],function(e){e(t)})};qE("pre",function(e){var t,n,i=e.selection.getRng(),r=function(e){return t(e.previousSibling)&&-1!==ui.indexOf(n,e.previousSibling)},o=function(e,t){ji(t).remove(),ji(e).append("<br><br>").append(t.childNodes)};t=Fa.matchNodeNames("pre"),i.collapsed||(n=e.selection.getSelectedBlocks(),WE(jE(jE(n,t),r),function(e){o(e.previousSibling,e)}))});var YE={postProcess:UE},VE=/^(src|href|style)$/,XE=xi.each,GE=$m.isEq,KE=function(e){return/^(TH|TD)$/.test(e.nodeName)},QE=function(e,t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],Fa.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),Fa.isText(i)&&n&&r>=i.nodeValue.length&&(i=new y(i,e.getBody()).next()||i),Fa.isText(i)&&!n&&0===r&&(i=new y(i,e.getBody()).prev()||i),i},ZE=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},JE=function(e,t,n){return GE(t,n.inline)?!0:GE(t,n.block)?!0:n.selector?Fa.isElement(t)&&e.is(t,n.selector):void 0},eD=function(e,t){return t.links&&"A"===e.tagName},tD=function(e,t,n,i){return t=$m.getNonWhiteSpaceSibling(t,n,i),!t||"BR"===t.nodeName||e.isBlock(t)},nD=function(e,t,n){var i,r=t.parentNode,o=e.dom,s=e.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&GE(t,n.list_block)||XE(xi.grep(t.childNodes),function(t){$m.isValid(e,s,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=ZE(o,t,s),o.setAttribs(i,e.settings.forced_root_block_attrs)):i=0})):o.isBlock(t)&&!o.isBlock(r)&&(tD(o,t,!1)||tD(o,t.firstChild,!0,1)||t.insertBefore(o.create("br"),t.firstChild),tD(o,t,!0)||tD(o,t.lastChild,!1,1)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!GE(n.inline,t)||o.remove(t,1)},iD=function(e,t,n,i,r){var o,s,a,l=e.dom;if(!JE(l,i,t)&&!eD(i,t))return!1;if("all"!==t.remove)for(XE(t.styles,function(e,o){e=$m.normalizeStyleValue(l,$m.replaceVars(e,n),o),"number"==typeof o&&(o=e,r=0),(t.remove_similar||!r||GE($m.getStyle(l,r,o),e))&&l.setStyle(i,o,""),a=1}),a&&""===l.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),XE(t.attributes,function(e,t){var o;if(e=$m.replaceVars(e,n),"number"==typeof t&&(t=e,r=0),!r||GE(l.getAttrib(r,t),e)){if("class"===t&&(e=l.getAttrib(i,t),e&&(o="",XE(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return void l.setAttrib(i,t,o);"class"===t&&i.removeAttribute("className"),VE.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}}),XE(t.classes,function(e){e=$m.replaceVars(e,n),(!r||l.hasClass(r,e))&&l.removeClass(i,e)}),s=l.getAttribs(i),o=0;o<s.length;o++){var u=s[o].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==t.remove?(nD(e,i,t),!0):void 0},rD=function(e,t,n,i,r){var o;return XE($m.getParents(e.dom,t.parentNode).reverse(),function(t){var s;o||"_start"===t.id||"_end"===t.id||(s=yE.matchNode(e,t,n,i,r),s&&s.split!==!1&&(o=t))}),o},oD=function(e,t,n,i,r,o,s,a){var l,u,c,d,f,h,p=e.dom;if(n){for(h=n.parentNode,l=i.parentNode;l&&l!==h;l=l.parentNode){for(u=p.clone(l,!1),f=0;f<t.length;f++)if(iD(e,t[f],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!o||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return i},sD=function(e,t,n,i,r){var o,s,a=e.formatter.get(t),l=a[0],u=!0,c=e.dom,d=e.selection,f=function(i){var o=rD(e,i,t,n,r);return oD(e,a,o,i,i,!0,l,n)},h=function(t){var i,r,o,s,d;if(Fa.isElement(t)&&c.getContentEditable(t)&&(s=u,u="true"===c.getContentEditable(t),d=!0),i=xi.grep(t.childNodes),u&&!d)for(r=0,o=a.length;o>r&&!iD(e,a[r],n,t,t);r++);if(l.deep&&i.length){for(r=0,o=i.length;o>r;r++)h(i[r]);d&&(u=s)}},p=function(e){var t=c.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Sm.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),Fa.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),c.remove(t,!0),n},m=function(t){var n,i,r=t.commonAncestorContainer;if(t=eg.expandRng(e,t,a,!0),l.split){if(n=QE(e,t,!0),i=QE(e,t),n!==i){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&KE(i)&&i.firstChild&&(i=i.firstChild||i),c.isChildOf(n,i)&&n!==i&&!c.isBlock(i)&&!KE(n)&&!KE(i))return n=ZE(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),f(n),void(n=p(!0));n=ZE(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=ZE(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(i),n=p(!0),i=p()}else n=i=f(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=c.nodeIndex(n),t.endContainer=i.parentNode?i.parentNode:i,t.endOffset=c.nodeIndex(i)+1}rg.walk(c,t,function(t){XE(t,function(t){h(t),Fa.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===$m.getTextDecoration(c,t.parentNode)&&iD(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(i)return void(i.nodeType?(s=c.createRng(),s.setStartBefore(i),s.setEndAfter(i),m(s)):m(i));if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?LE(e,t,n,r):(o=gf.getPersistentBookmark(e.selection,!0),m(d.getRng()),d.moveToBookmark(o),l.inline&&yE.match(e,t,n,d.getStart())&&$m.moveStart(c,d,d.getRng()),e.nodeChanged());else{i=d.getNode();for(var g=0,v=a.length;v>g&&(!a[g].ceFalseOverride||!iD(e,a[g],n,i,i));g++);}},aD={removeFormat:iD,remove:sD},lD=xi.each,uD=function(e){return e&&1===e.nodeType&&!Sm.isBookmarkNode(e)&&!yf(e)&&!Fa.isBogus(e)},cD=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Sm.isBookmarkNode(n))return n}return e},dD=function(e,t,n){var i,r,o=new zg(e);if(t&&n&&(t=cD(t,"previousSibling"),n=cD(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,t.appendChild(r);return e.remove(n),xi.each(xi.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},fD=function(e,t,n){lD(e.childNodes,function(e){uD(e)&&(t(e)&&n(e),e.hasChildNodes()&&fD(e,t,n))})},hD=function(e,t){return be(function(t,n){return!(!n||!$m.getStyle(e,n,t))},t)},pD=function(e,t,n){return be(function(t,n,i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),mD(e,i)},t,n)},mD=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},gD=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=$m.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},vD=function(e,t,n,i){(t.styles.color||t.styles.textDecoration)&&(xi.walk(i,be(gD,e),"childNodes"),gD(e,i))},yD=function(e,t,n,i){t.styles&&t.styles.backgroundColor&&fD(i,hD(e,"fontSize"),pD(e,"backgroundColor",$m.replaceVars(t.styles.backgroundColor,n)))},bD=function(e,t,n,i){("sub"===t.inline||"sup"===t.inline)&&(fD(i,hD(e,"fontSize"),pD(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))},_D=function(e,t,n,i){i&&t.merge_siblings!==!1&&(i=dD(e,$m.getNonWhiteSpaceSibling(i),i),i=dD(e,i,$m.getNonWhiteSpaceSibling(i,!0)))},wD=function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";lD(e.select(i,n),function(n){uD(n)&&lD(t.styles,function(t,i){e.setStyle(n,i,"")})})}},xD=function(e,t,n,i){lD(t,function(t){lD(e.dom.select(t.inline,i),function(i){uD(i)&&aD.removeFormat(e,t,n,i,t.exact?i:null)}),wD(e.dom,t,i)})},CD=function(e,t,n,i,r){yE.matchNode(e,r.parentNode,n,i)&&aD.removeFormat(e,t,i,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,function(o){return yE.matchNode(e,o,n,i)?(aD.removeFormat(e,t,i,r),!0):void 0})},kD={mergeWithChildren:xD,mergeUnderlineAndColor:vD,mergeBackgroundColorAndFontSize:yD,mergeSubSup:bD,mergeSiblings:_D,mergeWithParents:CD},TD=xi.each,SD=function(e){return e&&1===e.nodeType&&!Sm.isBookmarkNode(e)&&!yf(e)&&!Fa.isBogus(e)},ED=function(e,t,n,i){var r,o,s=e.formatter.get(t),a=s[0],l=!i&&e.selection.isCollapsed(),u=e.dom,c=e.selection,d=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,i),TD(t.styles,function(t,i){u.setStyle(e,i,$m.replaceVars(t,n))}),t.styles){var r=u.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}TD(t.attributes,function(t,i){u.setAttrib(e,i,$m.replaceVars(t,n))}),TD(t.classes,function(t){t=$m.replaceVars(t,n),u.hasClass(e,t)||u.addClass(e,t)})}},f=function(e,t){var n=!1;return a.selector?(TD(e,function(e){return"collapsed"in e&&e.collapsed!==l?void 0:u.is(t,e.selector)&&!yf(t)?(d(t,e),n=!0,!1):void 0}),n):!1},h=function(i,r,o,l){var u,c,h=[],p=!0;u=a.inline||a.block,c=i.create(u),d(c),rg.walk(i,r,function(r){var o,m=function(r){var g,v,y,b;if(b=p,g=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),$m.isEq(g,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&yE.matchNode(e,r,t,n))return void(o=0);if(p&&!y&&a.block&&!a.wrapper&&$m.isTextBlock(e,g)&&$m.isValid(e,v,u))return r=i.rename(r,u),d(r),h.push(r),void(o=0);if(a.selector){var _=f(s,r);if(!a.inline||_)return void(o=0)}!p||y||!$m.isValid(e,u,g)||!$m.isValid(e,v,u)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||yf(r)||a.inline&&i.isBlock(r)?(o=0,TD(xi.grep(r.childNodes),m),y&&(p=b),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),h.push(o)),o.appendChild(r))};TD(r,m)}),a.links===!0&&TD(h,function(e){var t=function(e){"A"===e.nodeName&&d(e,a),TD(xi.grep(e.childNodes),t)};t(e)}),TD(h,function(r){var o,l=function(e){var t=0;return TD(e.childNodes,function(e){$m.isWhiteSpaceNode(e)||Sm.isBookmarkNode(e)||t++}),t},u=function(e){var t=!1;return TD(e.childNodes,function(e){return SD(e)?(t=e,!1):void 0}),t},c=function(e){var t,n;return t=u(e),t&&!Sm.isBookmarkNode(t)&&yE.matchName(i,t,a)&&(n=i.clone(t,!1),d(n),i.replace(n,e,!0),i.remove(t,1)),n||e};return o=l(r),(h.length>1||!i.isBlock(r))&&0===o?void i.remove(r,1):void((a.inline||a.wrapper)&&(a.exact||1!==o||(r=c(r)),kD.mergeWithChildren(e,s,n,r),kD.mergeWithParents(e,a,t,n,r),kD.mergeBackgroundColorAndFontSize(i,a,n,r),kD.mergeSubSup(i,a,n,r),kD.mergeSiblings(i,a,n,r)))})};if("false"!==u.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?f(s,i)||(o=u.createRng(),o.setStartBefore(i),o.setEndAfter(i),h(u,eg.expandRng(e,o,s),null,!0)):h(u,i,null,!0);else if(l&&a.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)RE(e,t,n);else{var p=e.selection.getNode();e.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||ED(e,s[0].defaultBlock),e.selection.setRng(Zg.normalize(e.selection.getRng())),r=gf.getPersistentBookmark(e.selection,!0),h(u,eg.expandRng(e,c.getRng(),s),r),a.styles&&kD.mergeUnderlineAndColor(u,a,n,p),c.moveToBookmark(r),$m.moveStart(u,c,c.getRng()),e.nodeChanged()}YE.postProcess(t,e)}}else{i=c.getNode();for(var m=0,g=s.length;g>m;m++)if(s[m].ceFalseOverride&&u.is(i,s[m].selector))return void d(i,s[m])}},DD={applyFormat:ED},AD=xi.each,ND=function(e,t){var n={};e.set({}),t.on("NodeChange",function(i){var r=$m.getParents(t.dom,i.element),o={};r=xi.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),AD(e.get(),function(e,i){AD(r,function(s){return t.formatter.matchNode(s,i,{},e.similar)?(n[i]||(AD(e,function(e){e(!0,{node:s,format:i,parents:r})}),n[i]=e),o[i]=e,!1):yE.matchesUnInheritedFormatSelector(t,s,i)?!1:void 0})}),AD(n,function(e,t){o[t]||(delete n[t],AD(e,function(e){e(!1,{node:i.element,format:t,parents:r})}))})})},PD=function(e,t,n,i){var r=e.get();AD(t.split(","),function(e){r[e]||(r[e]=[],r[e].similar=i),r[e].push(n)}),e.set(r)},OD=function(e,t,n,i,r){null===t.get()&&ND(t,e),PD(t,n,i,r)},MD={formatChanged:OD},ID=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,i){xi.each(i,function(n,i){e.setAttrib(t,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xi.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},RD={get:ID},LD=xi.each,BD=Cl.DOM,FD=function(e,t){var n,i,r,o=t&&t.schema||b({}),s=function(e,t){t.classes.length&&BD.addClass(e,t.classes.join(" ")),BD.setAttribs(e,t.attrs)},a=function(e){var t;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=BD.create(i.name),s(t,i),t},l=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,i=o.getElementRule(n),r=i&&i.parentsRequired;return r&&r.length?t&&-1!==xi.inArray(r,t)?t:r[0]:!1},u=function(e,t,n){var i,r,o,s=t.length>0&&t[0],c=s&&s.name;if(o=l(e,c))c===o?(r=t[0],t=t.slice(1)):r=o;else if(s)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(i=a(r),i.appendChild(e)),n&&(i||(i=BD.create("div"),i.appendChild(e)),xi.each(n,function(t){var n=a(t);i.insertBefore(n,e)})),u(i,t,r&&r.siblings)};return e&&e.length?(i=e[0],n=a(i),r=BD.create("div"),r.appendChild(u(n,e.slice(1),i.siblings)),r):""},$D=function(e,t){return FD(HD(e),t)},zD=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=xi.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,i,r,o){switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==xi.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=t||"div",n},HD=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xi.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=xi.map(e.split(/(?:~\+|~|\+)/),zD),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},jD=function(e,t){var n,i,r,o,s,a,l="";if(a=e.settings.preview_styles,a===!1)return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(a=t.preview,a===!1)?"":(n=t.block||t.inline||"span",o=HD(t.selector),o.length?(o[0].name||(o[0].name=n),n=t.selector,i=FD(o,e)):i=FD([n],e),r=BD.select(n,i)[0]||i.firstChild,LD(t.styles,function(e,t){e=u(e),e&&BD.setStyle(r,t,e)}),LD(t.attributes,function(e,t){e=u(e),e&&BD.setAttrib(r,t,e)}),LD(t.classes,function(e){e=u(e),BD.hasClass(r,e)||BD.addClass(r,e)}),e.fire("PreviewFormats"),BD.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),s=BD.getStyle(e.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,LD(a.split(" "),function(t){var n=BD.getStyle(r,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=BD.getStyle(e.getBody(),t,!0),"#ffffff"===BD.toHex(n).toLowerCase())||"color"===t&&"#000000"===BD.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===s)return;var i=parseFloat(n)/(/%$/.test(n)?100:1);n=i*s+"px"}"border"===t&&n&&(l+="padding:0 2px;"),l+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),BD.remove(i),l)},WD={getCssText:jD,parseSelector:HD,selectorToHtml:$D},qD=function(e,t,n,i,r){var o=t.get(n);!yE.match(e,n,i,r)||"toggle"in o[0]&&!o[0].toggle?DD.applyFormat(e,n,i,r):aD.remove(e,n,i,r)},UD={toggle:qD},YD=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;6>=t;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},VD={setup:YD},XD=Object.prototype.hasOwnProperty,GD=function(e,t){return t},KD=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<t.length;r++){var o=t[r];for(var s in o)XD.call(o,s)&&(i[s]=e(i[s],o[s]))}return i}},QD=KD(GD),ZD=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)n=e[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,i){for(var r,o,s=e.length,a="data-mce-"+i,l=t.url_converter,u=t.url_converter_scope;s--;)r=e[s],o=r.attributes.map[a],void 0!==o?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,o.length>0?o:null))}),e.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)t=e[n].firstChild,t&&(t.value=il.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var i,r,o,s=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)i=e[s],r=i.firstChild?i.firstChild.value:"","script"===n?(o=i.attr("type"),o&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===t.element_format&&r.length>0&&(i.firstChild.value="<!--\n"+a(r)+"\n-->")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",
t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){qe(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},JD=function(e){var t,n,i=function(e){return e&&"br"===e.name};t=e.lastChild,i(t)&&(n=t.prev,i(n)&&(t.remove(),n.remove()))},eA={register:ZD,trimTrailingBr:JD},tA=function(e,t,n){var i,r,o,s=e.dom;return t=t.cloneNode(!0),i=document.implementation,i.createHTMLDocument&&(r=i.createHTMLDocument(""),xi.each("BODY"===t.nodeName?t.childNodes:[t],function(e){r.body.appendChild(r.importNode(e,!0))}),t="BODY"!==t.nodeName?r.body.firstChild:r.body,o=s.doc,s.doc=r),vC.firePreProcess(e,QD(n,{node:t})),o&&(s.doc=o),t},nA=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},iA=function(e,t,n){return nA(e,n)?tA(e,t,n):t},rA={process:iA},oA=function(e,t){qe(t,function(t){e.attr(t,null)})},sA=function(e,t,n){e.addNodeFilter("font",function(e){qe(e,function(e){var i=t.parse(e.attr("style")),r=e.attr("color"),o=e.attr("face"),s=e.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(i)),oA(e,["color","face","size"])})})},aA=function(e,t){e.addNodeFilter("strike",function(e){qe(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},lA=function(e,t){var n=_();t.convert_fonts_to_spans&&sA(e,n,xi.explode(t.font_size_legacy_values)),aA(e,n)},uA=function(e,t){t.inline_styles&&lA(e,t)},cA={register:uA},dA=/^[ \t\r\n]*$/,fA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},hA=function(e,t,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[s])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[s])return i}},pA=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var i,r;if(i=new e(t,fA[t]||1),n)for(r in n)i.attr(r,n[r]);return i},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,i,r=this;if("string"!=typeof e){for(i in e)r.attr(i,e[i]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),r;return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n,i,r,o,s=this,a=new e(s.name,s.type);if(i=s.attributes){for(o=[],o.map={},t=0,n=i.length;n>t;t++)r=i[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=s.value,a.shortEnded=s.shortEnded,a},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},e.prototype.getAll=function(e){var t,n=this,i=[];for(t=n.firstChild;t;t=hA(t,n))t.name===e&&i.push(t);return i},e.prototype.empty=function(){var e,t,n,i=this;if(i.firstChild){for(e=[],n=i.firstChild;n;n=hA(n,i))e.push(n);for(t=e.length;t--;)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},e.prototype.isEmpty=function(e,t,n){var i,r,o=this,s=o.firstChild;if(t=t||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(i=s.attributes.length;i--;)if(r=s.attributes[i].name,"name"===r||0===r.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!dA.test(s.value))return!1;if(3===s.type&&s.parent&&t[s.parent.name]&&dA.test(s.value))return!1;if(n&&n(s))return!1}while(s=hA(s,o));return!0},e.prototype.walk=function(e){return hA(this,null,e)},e}(),mA=function(e,t,n,i){var r=e.padd_empty_with_br||t.insert;r&&n[i.name]?i.empty().append(new pA("br",1)).shortEnded=!0:i.empty().append(new pA("#text",3)).value="\xa0"},gA=function(e){return vA(e,"#text")&&"\xa0"===e.firstChild.value},vA=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},yA=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},bA=function(e,t,n,i){return i.isEmpty(t,n,function(t){return yA(e,t)})},_A=function(e,t){return e&&(t[e.name]||"br"===e.name)},wA=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,i,r){var o,s,a,l,u,c,d,f,h=e.length,p=xi.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;h>o;o++)if(s=e[o],a=s.parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if(c=u.name,"span"!==c||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}u=u.prev}s&&(s.remove(),bA(n,m,g,a)&&(d=n.getElementRule(a.name),d&&(d.removeEmpty?a.remove():d.paddEmpty&&mA(t,r,p,a))))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&t.padd_empty_with_br!==!0&&(f=new pA("#text",3),f.value="\xa0",s.replace(f))}}),e.addAttributeFilter("href",function(e){var n,i=e.length,r=function(e){var t=e.split(" ").filter(function(e){return e.length>0});return t.concat(["noopener"]).sort().join(" ")},o=function(e){var t=e?xi.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)for(;i--;)n=e[i],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",o(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if(t=e[i],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new pA("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,i,r,o,s,a,l,u=e.length,c=n.getValidClasses();u--;){for(t=e[u],i=t.attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,a=c["*"],a&&a[o]&&(l=!0),a=c[t.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),t.attr("class",s)}})},xA=xi.makeMap,CA=xi.each,kA=xi.explode,TA=xi.extend,SA=function(e,t,n){-1===xi.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},EA=function(e,t,n){if(!t.no_events&&e){var i=vC.firePostProcess(e,QD(t,{content:n}));return i.content}return n},DA=function(e,t,n){var i=Cc.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||_a(Kr.fromDom(t))?i:xi.trim(i)},AA=function(e,t,n){var i=n.selection?QD({forced_root_block:!1},n):n,r=e.parse(t,i);return eA.trimTrailingBr(r),r},NA=function(e,t,n){var i=A(e,t);return i.serialize(n)},PA=function(e,t,n,i,r){var o=NA(t,n,i);return EA(e,r,o)};!function(e){e.isBookmarkNode=Sm.isBookmarkNode}(J||(J={}));var OA=J,MA=Fa.isContentEditableFalse,IA=Fa.isContentEditableTrue,RA=function(e,t){for(;t&&t!==e;){if(IA(t)||MA(t))return t;t=t.parentNode}return null},LA=function(e,t){var n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,y,b=t.dom,_=xi.each,w=t.getDoc(),x=document,C=Math.abs,k=Math.round,T=t.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var S=".mce-content-body";t.contentStyles.push(S+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+S+" .mce-resizehandle:hover {background: #000}"+S+" img[data-mce-selected],"+S+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+S+" .mce-clonedresizable {position: absolute;"+(St.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+S+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var E=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},D=function(e,t){return E(e.target)&&!uS.isXYWithinRange(e.clientX,e.clientY,t)},A=function(e){var n=e.target;D(e,t.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),t.selection.select(n))},N=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},P=function(e){var n=t.settings.object_resizing;return n===!1||St.iOS?!1:("string"!=typeof n&&(n="table,img,figure.image,div"),"false"===e.getAttribute("data-mce-resize")?!1:e===t.getBody()?!1:as.is(Kr.fromDom(e),n))},O=function(e){var o,_,w,x,S;o=e.screenX-a,_=e.screenY-l,m=o*s[2]+d,g=_*s[3]+f,m=5>m?5:m,g=5>g?5:g,w=E(n)&&t.settings.resize_img_proportional!==!1?!fS.modifierPressed(e):fS.modifierPressed(e)||E(n)&&s[2]*s[3]!==0,w&&(C(o)>C(_)?(g=k(m*h),m=k(g/h)):(m=k(g/h),g=k(m*h))),b.setStyles(N(i),{width:m,height:g}),x=s.startPos.x+o,S=s.startPos.y+_,x=x>0?x:0,S=S>0?S:0,b.setStyles(r,{left:x,top:S,display:"block"}),r.innerHTML=m+" &times; "+g,s[2]<0&&i.clientWidth<=m&&b.setStyle(i,"left",u+(d-m)),s[3]<0&&i.clientHeight<=g&&b.setStyle(i,"top",c+(f-g)),o=T.scrollWidth-v,_=T.scrollHeight-y,o+_!==0&&b.setStyles(r,{left:x-o,top:S-_}),p||(vC.fireObjectResizeStart(t,n,d,f),p=!0)},M=function(){p=!1;var e=function(e,i){i&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?b.setStyle(N(n),e,i):b.setAttrib(N(n),e,i))};e("width",m),e("height",g),b.unbind(w,"mousemove",O),b.unbind(w,"mouseup",M),x!==w&&(b.unbind(x,"mousemove",O),b.unbind(x,"mouseup",M)),b.remove(i),b.remove(r),I(n),vC.fireObjectResized(t,n,m,g),b.setAttrib(n,"style",b.getAttrib(n,"style")),t.nodeChanged()},I=function(e){var p,C,k,S,E;R(),F(),p=b.getPos(e,T),u=p.x,c=p.y,E=e.getBoundingClientRect(),C=E.width||E.right-E.left,k=E.height||E.bottom-E.top,n!==e&&(n=e,m=g=0),S=t.fire("ObjectSelected",{target:e}),P(e)&&!S.isDefaultPrevented()?_(o,function(e,t){var o,p=function(t){a=t.screenX,l=t.screenY,d=N(n).clientWidth,f=N(n).clientHeight,h=f/d,s=e,e.startPos={x:C*e[0]+u,y:k*e[1]+c},v=T.scrollWidth,y=T.scrollHeight,i=n.cloneNode(!0),b.addClass(i,"mce-clonedresizable"),b.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,b.setStyles(i,{left:u,top:c,margin:0}),i.removeAttribute("data-mce-selected"),T.appendChild(i),b.bind(w,"mousemove",O),b.bind(w,"mouseup",M),x!==w&&(b.bind(x,"mousemove",O),b.bind(x,"mouseup",M)),r=b.add(T,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+f)};o=b.get("mceResizeHandle"+t),o&&b.remove(o),o=b.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===St.ie&&(o.contentEditable=!1),b.bind(o,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)}),e.elm=o,b.setStyles(o,{left:C*e[0]+u-o.offsetWidth/2,top:k*e[1]+c-o.offsetHeight/2})}):R(),n.setAttribute("data-mce-selected","1")},R=function(){var e,t;F(),n&&n.removeAttribute("data-mce-selected");for(e in o)t=b.get("mceResizeHandle"+e),t&&(b.unbind(t),b.remove(t))},L=function(n){var i,r,o=function(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)};return p||t.removed?void 0:(_(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"===n.type?n.target:e.getNode(),r=b.$(r).closest("table,img,figure.image,hr")[0],o(r,T)&&($(),i=e.getStart(!0),o(i,r)&&o(e.getEnd(!0),r))?void I(r):void R())},B=function(e){return MA(RA(t.getBody(),e))},F=function(){for(var e in o){var t=o[e];t.elm&&(b.unbind(t.elm),delete t.elm)}},$=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};t.on("init",function(){$(),St.ie&&St.ie>=11&&(t.on("mousedown click",function(e){var n=e.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||B(n)||(2!==e.button&&t.selection.select(n,"TABLE"===i),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(T,"mscontrolselect",function(e){var n=function(e){Rt.setEditorTimeout(t,function(){t.selection.select(e)})};return B(e.target)?(e.preventDefault(),void n(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target)))}));var e=Rt.throttle(function(e){t.composing||L(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",R),t.on("contextmenu",A)}),t.on("remove",F);var z=function(){n=i=null};return{isResizable:P,showResizeRect:I,hideResizeRect:R,updateResizeRect:L,destroy:z}},BA=function(e){return Fa.isContentEditableTrue(e)||Fa.isContentEditableFalse(e)},FA=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},$A=function(e,t,n){var i,r,o;if(i=n.elementFromPoint(e,t),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),o=xi.toArray(r.getClientRects()),o=o.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),o.length>0){t=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,t),r.collapse(!0),r}catch(s){}}return null},zA=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Fa.isContentEditableFalse(FA(n,t,BA))?null:e},HA=function(e,t,n){var i,r,o=n;if(o.caretPositionFromPoint)r=o.caretPositionFromPoint(e,t),r&&(i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(s){i=$A(e,t,n)}return zA(i,n.body)}return i},jA={fromPoint:HA},WA=function(e,t){return We(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},qA={processRanges:WA},UA=function(e,t){var n=t||document,i=n.createDocumentFragment();return qe(e,function(e){i.appendChild(e.dom())}),Kr.fromDom(i)},YA={fromElements:UA},VA=Vo("element","width","rows"),XA=Vo("element","cells"),GA=Vo("x","y"),KA=function(e,t){var n=parseInt(Co.get(e,t),10);return isNaN(n)?1:n},QA=function(e,t,n,i,r){for(var o=KA(r,"rowspan"),s=KA(r,"colspan"),a=e.rows(),l=n;n+o>l;l++){a[l]||(a[l]=XA(cc.deep(i),[]));for(var u=t;t+s>u;u++){var c=a[l].cells();c[u]=l===n&&u===t?r:cc.shallow(r)}}},ZA=function(e,t,n){var i=e.rows(),r=i[n]?i[n].cells():[];return!!r[t]},JA=function(e,t,n){for(;ZA(e,t,n);)t++;return t},eN=function(e){return Ge(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},tN=function(e,t){for(var n=e.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(ms.eq(r[o],t))return Ae.some(GA(o,i));return Ae.none()},nN=function(e,t,n,i,r){for(var o=[],s=e.rows(),a=n;r>=a;a++){var l=s[a].cells(),u=i>t?l.slice(t,i+1):l.slice(i,t+1);o.push(XA(s[a].element(),u))}return o},iN=function(e,t,n){var i=t.x(),r=t.y(),o=n.x(),s=n.y(),a=s>r?nN(e,i,r,o,s):nN(e,i,s,o,r);return VA(e.element(),eN(a),a)},rN=function(e,t){var n=cc.shallow(e.element()),i=Kr.fromTag("tbody");return Hl.append(i,t),Ll.append(n,i),n},oN=function(e){return We(e.rows(),function(e){var t=We(e.cells(),function(e){var t=cc.deep(e);return Co.remove(t,"colspan"),Co.remove(t,"rowspan"),t}),n=cc.shallow(e.element());return Hl.append(n,t),n})},sN=function(e){var t=VA(cc.shallow(e),0,[]);return qe(Cu.descendants(e,"tr"),function(e,n){qe(Cu.descendants(e,"td,th"),function(i,r){QA(t,JA(t,r,n),n,e,i)})}),VA(t.element(),eN(t.rows()),t.rows())},aN=function(e){return rN(e,oN(e))},lN=function(e,t,n){return tN(e,t).bind(function(t){return tN(e,n).map(function(n){return iN(e,t,n)})})},uN={fromDom:sN,toDom:aN,subsection:lN},cN=function(e){return Ke(e,function(e){return"ul"===so.name(e)||"ol"===so.name(e)})},dN=function(e,t){return Ke(e,function(e){return"li"===so.name(e)&&aT(e,t)}).fold(ve([]),function(t){return cN(e).map(function(e){return[Kr.fromTag("li"),Kr.fromTag(so.name(e))]}).getOr([])})},fN=function(e,t){var n=Ge(t,function(e,t){return Ll.append(t,e),t},e);return t.length>0?YA.fromElements([n]):n},hN=function(e){return ga(e)?Ls.parent(e).filter(ma).fold(ve([]),function(t){return[e,t]}):ma(e)?[e]:[]},pN=function(e,t){var n=Kr.fromDom(t.commonAncestorContainer),i=Cy.parentsAndSelf(n,e),r=Ve(i,function(e){return fa(e)||ca(e)}),o=dN(i,t),s=r.concat(o.length?o:hN(n));return We(s,cc.shallow)},mN=function(){return YA.fromElements([])},gN=function(e,t){return fN(Kr.fromDom(t.cloneContents()),pN(e,t))},vN=function(e,t){return Bu.ancestor(t,"table",be(ms.eq,e))},yN=function(e,t){return vN(e,t[0]).bind(function(e){var n=t[0],i=t[t.length-1],r=uN.fromDom(e);return uN.subsection(r,n,i).map(function(e){return YA.fromElements([uN.toDom(e)])})}).getOrThunk(mN)},bN=function(e,t){return t.length>0&&t[0].collapsed?mN():gN(e,t[0])},_N=function(e,t){var n=pw.getCellsFromElementOrRanges(t,e);return n.length>0?yN(e,n):bN(e,t)},wN={read:_N},xN=function(e,t){var n,i=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),s=qA.processRanges(e,uw.getRanges(o));if(t=t||{},t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":Cc.trim(i.text||(o.toString?o.toString():""));i.cloneContents?(n=t.contextual?wN.read(Kr.fromDom(e.getBody()),s).dom():i.cloneContents(),n&&r.appendChild(n)):void 0!==i.item||void 0!==i.htmlText?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),t.getInner=!0;var a=e.selection.serializer.serialize(r,t);return"tree"===t.format?a:(t.content=e.selection.isCollapsed()?"":a,e.fire("GetContent",t),t.content)},CN={getContent:xN},kN=function(e,t,n){var i,r,o,s=e.selection.getRng(),a=e.getDoc();if(n=n||{format:"html"},n.set=!0,n.selection=!0,n.content=t,!n.no_events&&(n=e.fire("BeforeSetContent",n),n.isDefaultPrevented()))return void e.fire("SetContent",n);if(t=n.content,s.insertNode){t+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=t:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=t:s.createContextualFragment?s.insertNode(s.createContextualFragment(t)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=t,s.insertNode(r))),i=e.dom.get("__caret"),s=a.createRange(),s.setStartBefore(i),s.setEndBefore(i),e.selection.setRng(s),e.dom.remove("__caret");try{e.selection.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=e.getRng()),/^\s+/.test(t)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):s.pasteHTML(t);n.no_events||e.fire("SetContent",n)},TN={setContent:kN},SN=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return Ae.from(o).map(Kr.fromDom).map(function(e){return i&&t.collapsed?e:Ls.child(e,r(e,s)).getOr(e)}).bind(function(e){return so.isElement(e)?Ae.some(e):Ls.parent(e)}).map(function(e){return e.dom()}).getOr(e)},EN=function(e,t,n){return SN(e,t,!0,n,function(e,t){return Math.min(Ls.childNodesCount(e),t)})},DN=function(e,t,n){return SN(e,t,!1,n,function(e,t){return t>0?t-1:t})},AN=function(e,t){for(var n=e;e&&Fa.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},NN=function(e,t){var n,i,r,o,s;return t?(i=t.startContainer,r=t.endContainer,o=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(i===r&&2>s-o&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?AN(i.nextSibling,!0):i.parentNode,r=0===s?AN(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n):e},PN=function(e,t,n,i){var r,o,s=[];if(o=e.getRoot(),n=e.getParent(n||EN(o,t,t.collapsed),e.isBlock),i=e.getParent(i||DN(o,t,t.collapsed),e.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i){r=n;for(var a=new y(n,o);(r=a.next())&&r!==i;)e.isBlock(r)&&s.push(r)}return i&&n!==i&&i!==o&&s.push(i),s},ON=function(e,t,n){return Ae.from(t).map(function(t){var i=e.nodeIndex(t),r=e.createRng();return r.setStart(t.parentNode,i),r.setEnd(t.parentNode,i+1),n&&(lT(e,r,t,!0),lT(e,r,t,!1)),r})},MN=xi.each,IN=function(e){return!!e.select},RN=function(e){return!(!e||!e.ownerDocument)&&ms.contains(Kr.fromDom(e.ownerDocument),Kr.fromDom(e))},LN=function(e){return e?IN(e)?!0:RN(e.startContainer)&&RN(e.endContainer):!1},BN=function(e,t,n,i){var r,o,s,a,l,u=function(t,n){var r=e.createRng();t?(r.setStart(t,n),r.setEnd(t,n),w(r),y(!1)):(lT(e,r,i.getBody(),!0),w(r))},c=function(e){return CN.getContent(i,e)},d=function(e,t){return TN.setContent(i,e,t)},f=function(e){return EN(i.getBody(),_(),e)},h=function(e){return DN(i.getBody(),_(),e)},p=function(e,t){return r.getBookmark(e,t)},m=function(e){return r.moveToBookmark(e)},g=function(t,n){return ON(e,t,n).each(w),t},v=function(){var e=_(),t=b();return!e||e.item?!1:e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed},y=function(e){var t=_();t.collapse(!!e),w(t)},b=function(){return t.getSelection?t.getSelection():t.document.selection},_=function(){var n,r,o,l,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}};if(!t)return null;if(l=t.document,"undefined"==typeof l||null===l)return null;if(void 0!==i.bookmark&&lk.hasFocus(i)===!1){var c=Jx.getRng(i);if(c.isSome())return c.map(function(e){return qA.processRanges(i,[e])[0]}).getOr(l.createRange())}try{(n=b())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(d){}return r=qA.processRanges(i,[r])[0],r||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=e.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===u(r.START_TO_START,r,s)&&0===u(r.END_TO_END,r,s)?r=a:(s=null,a=null)),r},w=function(e,t){var n,r,o;if(LN(e)){var l=IN(e)?e:null;if(l){a=null;try{l.select()}catch(u){}}else{if(n=b(),o=i.fire("SetSelectionRange",{range:e,forward:t}),e=o.range,n){a=e;try{n.removeAllRanges(),n.addRange(e)}catch(u){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||St.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset],r&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),(n.anchorNode!==e.startContainer||n.focusNode!==e.endContainer)&&n.setBaseAndExtent(r,0,r,1))),i.fire("AfterSetSelectionRange",{range:e,forward:t})}}},x=function(t){return d(e.getOuterHTML(t)),t},C=function(){return NN(i.getBody(),_())},k=function(t,n){return PN(e,_(),t,n)},T=function(){var t,n,i=b();return i&&i.anchorNode&&i.focusNode?(t=e.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(i.focusNode,i.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0):!0},S=function(){var t=_(),n=b();if(!uw.hasMultipleRanges(n)&&uT(i)){var r=hx.normalize(e,t);return r.each(function(e){w(e,T())}),r.getOr(t)}return t},E=function(t,n){var r;return l||(l={},r={},i.on("NodeChange",function(t){var n=t.element,i=e.getParents(n,null,e.getRoot()),o={};MN(l,function(t,n){MN(i,function(s){return e.is(s,n)?(r[n]||(MN(t,function(e){e(!0,{node:s,selector:n,parents:i})}),r[n]=t),o[n]=t,!1):void 0})}),MN(r,function(e,t){o[t]||(delete r[t],MN(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),l[t]||(l[t]=[]),l[t].push(n),M},D=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},A=function(e,t){return Oh.scrollElementIntoView(i,e,t)},N=function(e,t){return w(jA.fromPoint(e,t,i.getDoc()))},P=function(){var e=_();return e.collapsed?Fd.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},O=function(){t=s=a=null,o.destroy()},M={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:y,setCursorLocation:u,getContent:c,setContent:d,getBookmark:p,moveToBookmark:m,select:g,isCollapsed:v,isForward:T,setNode:x,getNode:C,getSel:b,setRng:w,getRng:_,getStart:f,getEnd:h,getSelectedBlocks:k,normalize:S,selectorChanged:E,getScrollContainer:D,scrollIntoView:A,placeCaretAt:N,getBoundingClientRect:P,destroy:O};return r=OA(M),o=LA(M,i),M.bookmarkManager=r,M.controlSelection=o,M},FN=Fa.isContentEditableFalse,$N=fd,zN=Wp,HN=jp,jN=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},WN=function(e,t){var n=Np(e,t);return!n&&Fa.isBr(e.getNode())?!0:n},qN=function(e,t,n,i){var r,o,s,a,l=e===Bd.Forwards,u=l?HN:zN;return!i.collapsed&&(r=$N(i),FN(r))?Lf(e,t,r,e===Bd.Backwards,!0):(a=$c(i),o=Hp(e,t.getBody(),i),u(o)?Ff(t,o.getNode(!l)):(o=n(o))?u(o)?Lf(e,t,o.getNode(!l),l,!0):(s=n(o),u(s)&&WN(o,s)?Lf(e,t,s.getNode(!l),l,!0):a?zf(t,o.toRange(),!0):null):a?i:null)},UN=function(e,t,n,i){var r,o,s,a,l,u,c,d,f;if(f=$N(i),r=Hp(e,t.getBody(),i),o=n(t.getBody(),GT(1),r),s=ui.filter(o,KT(1)),l=ui.last(r.getClientRects()),(HN(r)||qp(r))&&(f=r.getNode()),(zN(r)||Up(r))&&(f=r.getNode(!0)),!l)return null;if(u=l.left,a=nS(s,u),a&&FN(a.node))return c=Math.abs(u-a.left),d=Math.abs(u-a.right),Lf(e,t,a.node,d>c,!0);if(f){var h=XT(e,t.getBody(),GT(1),f);if(a=nS(ui.filter(h,KT(1)),u))return zf(t,a.position.toRange(),!0);if(a=ui.last(ui.filter(h,KT(0))))return zf(t,a.position.toRange(),!0)}},YN=function(e){var t=e.dom.create(e.settings.forced_root_block);return(!St.ie||St.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},VN=function(e,t,n){var i,r,o,s=eh(e.getBody()),a=bc.curry(jN,s.next),l=bc.curry(jN,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(i=e.dom.getParent(n.startContainer,"PRE"),!i)return;r=1===t?a(Fd.fromRangeStart(n)):l(Fd.fromRangeStart(n)),r||(o=YN(e),1===t?e.$(i).after(o):e.$(i).before(o),e.selection.select(o,!0),e.selection.collapse())}},XN=function(e,t){var n,i=eh(e.getBody()),r=bc.curry(jN,i.next),o=bc.curry(jN,i.prev),s=t?Bd.Forwards:Bd.Backwards,a=t?r:o,l=e.selection.getRng();return(n=qN(s,e,a,l))?n:(n=VN(e,s,l),n?n:null)},GN=function(e,t){var n,i=t?1:-1,r=t?VT:YT,o=e.selection.getRng();return(n=UN(i,e,r,o))?n:(n=VN(e,i,o),n?n:null)},KN=function(e,t){return function(){var n=XN(e,t);return n?(e.selection.setRng(n),!0):!1}},QN=function(e,t){return function(){var n=GN(e,t);return n?(e.selection.setRng(n),!0):!1}},ZN=function(e){return We(e,function(e){return QD({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:me},e)})},JN=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},eP=function(e,t){return tt(ZN(e),function(e){return JN(e,t)?[e]:[]})},tP=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}},nP=function(e,t){return Ke(eP(e,t),function(e){return e.action()})},iP={match:eP,action:tP,execute:nP},rP=function(e,t,n){var i=qr.detect().os;iP.execute([{keyCode:fS.RIGHT,action:KN(e,!0)},{keyCode:fS.LEFT,action:KN(e,!1)},{keyCode:fS.UP,action:QN(e,!1)},{keyCode:fS.DOWN,action:QN(e,!0)},{keyCode:fS.RIGHT,action:cp(e,!0)},{keyCode:fS.LEFT,action:cp(e,!1)},{keyCode:fS.UP,action:dp(e,!1)},{keyCode:fS.DOWN,action:dp(e,!0)},{keyCode:fS.RIGHT,action:A_.move(e,t,!0)},{keyCode:fS.LEFT,action:A_.move(e,t,!1)},{keyCode:fS.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:A_.moveNextWord(e,t)},{keyCode:fS.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:A_.movePrevWord(e,t)}],n).each(function(e){n.preventDefault()})},oP=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&rP(e,t,n)})},sP={setup:oP},aP=function(e,t){var n=Cy.parentsAndSelf(t,e);return Qe(n,da).fold(ve(n),function(e){return n.slice(0,e)})},lP=function(e){return 1===Ls.children(e).length},uP=function(e,t,n,i){var r=be(zE,t),o=We(Ve(i,r),function(e){return e.dom()});if(0===o.length)bb.deleteElement(t,e,n);else{var s=$E(n.dom(),o);t.selection.setRng(s.toRange())}},cP=function(e,t){var n=Kr.fromDom(e.getBody()),i=Kr.fromDom(e.selection.getStart()),r=Ve(aP(n,i),lP);return ut(r).map(function(n){var i=Fd.fromRangeStart(e.selection.getRng());return Uv.willDeleteLastPositionInElement(t,i,n.dom())?(uP(t,e,n,r),!0):!1}).getOr(!1)},dP=function(e,t){return e.selection.isCollapsed()?cP(e,t):!1},fP={backspaceDelete:dP},hP=function(e,t,n){iP.execute([{keyCode:fS.BACKSPACE,action:iP.action(Ab.backspaceDelete,e,!1)},{keyCode:fS.DELETE,action:iP.action(Ab.backspaceDelete,e,!0)},{keyCode:fS.BACKSPACE,action:iP.action(F_.backspaceDelete,e,t,!1)},{keyCode:fS.DELETE,action:iP.action(F_.backspaceDelete,e,t,!0)},{keyCode:fS.BACKSPACE,action:iP.action(Mw.backspaceDelete,e,!1)},{keyCode:fS.DELETE,action:iP.action(Mw.backspaceDelete,e,!0)},{keyCode:fS.BACKSPACE,action:iP.action(jy.backspaceDelete,e,!1)},{keyCode:fS.DELETE,action:iP.action(jy.backspaceDelete,e,!0)},{keyCode:fS.BACKSPACE,action:iP.action(Iy.backspaceDelete,e,!1)},{keyCode:fS.DELETE,action:iP.action(Iy.backspaceDelete,e,!0)},{keyCode:fS.BACKSPACE,action:iP.action(fP.backspaceDelete,e,!1)},{keyCode:fS.DELETE,action:iP.action(fP.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},pP=function(e,t){iP.execute([{keyCode:fS.BACKSPACE,action:iP.action(Ab.paddEmptyElement,e)},{keyCode:fS.DELETE,action:iP.action(Ab.paddEmptyElement,e)}],t)},mP=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&hP(e,t,n)}),e.on("keyup",function(t){t.isDefaultPrevented()===!1&&pP(e,t)})},gP={setup:mP},vP=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},yP=function(e,t){var n,i,r,o,s=t,a=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=vP(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(r=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new y(t,t);i=n.current();){if(Fa.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}s=i,i=n.next()}i||(r.setStart(s,0),r.setEnd(s,0))}else Fa.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),a.remove(o),e.selection.scrollIntoView(t)}},bP=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},_P=function(e){return Ae.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},wP=function(e){return _P(e).fold(ve(""),function(e){return e.nodeName.toUpperCase()})},xP=function(e){return _P(e).filter(function(e){return ga(Kr.fromDom(e))}).isSome()},CP={moveToCaretPosition:yP,getEditableRoot:bP,getParentBlock:_P,getParentBlockName:wP,isListItemParentBlock:xP},kP=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},TP=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},SP=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},EP=function(e){return SP(e)&&SP(e.parentNode)},DP=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},AP=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!Fa.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},NP=function(e,t,n,i,r){var o=e.dom,s=e.selection.getRng();if(n!==e.getBody()){EP(n)&&(r="LI");var a=r?t(r):o.create("BR");if(AP(n,i,!0)&&AP(n,i,!1))TP(n,"LI")?o.insertAfter(a,DP(n)):o.replace(a,n);else if(AP(n,i,!0))TP(n,"LI")?(o.insertAfter(a,DP(n)),a.appendChild(o.doc.createTextNode(" ")),
a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(AP(n,i,!1))o.insertAfter(a,DP(n));else{n=DP(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===r&&kP(u,"LI")?(a=u.firstChild,o.insertAfter(u,n)):(o.insertAfter(u,n),o.insertAfter(a,n))}o.remove(i),CP.moveToCaretPosition(e,a)}},PP={insert:NP},OP=function(e){return e&&"A"===e.nodeName&&0===xi.trim(Cc.trim(e.innerText||e.textContent)).length},MP=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},IP=function(e){e.innerHTML='<br data-mce-bogus="1">'},RP=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},LP=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},BP=function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;Fa.isElement(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)r=o[i],!r.hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):OP(r)&&e.remove(r)}},FP=function(e,t,n){return Fa.isText(t)===!1?n:e?1===n&&t.data.charAt(n-1)===Cc.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===Cc.ZWSP?t.data.length:n},$P=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,FP(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,FP(!1,e.endContainer,e.endOffset)),t},zP=function(e){do Fa.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},HP=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},jP=function(e,t){var n=Gh.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,Gh.getForcedRootBlockAttrs(e))},WP=function(e,t,n,i,r){var o,s,a,l,u,c,d=t||"P",f=e.dom,h=HP(f,i);if(s=f.getParent(i,f.isBlock),!s||!LP(f,s)){if(s=s||h,c=s===e.getBody()||MP(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=f.create(d),jP(e,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!f.isBlock(l);)a=l,l=l.previousSibling;if(a&&e.schema.isValidChild(c,d.toLowerCase())){for(o=f.create(d),jP(e,o),a.parentNode.insertBefore(o,a),l=a;l&&!f.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i},qP=function(e,t){var n;t.normalize(),n=t.lastChild,(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},UP=function(e,t){var n,i,r,o,s,a,l,u,c,d,f,h,p,m=e.dom,g=e.schema,v=g.getNonEmptyElements(),b=e.selection.getRng(),_=function(t){var n,o,a,l=r,u=g.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(n=m.create(t||h),jP(e,n)):n=s.cloneNode(!1),a=n,Gh.shouldKeepStyles(e)===!1)m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do if(u[l.nodeName]){if(yf(l))continue;o=l.cloneNode(!1),m.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}while((l=l.parentNode)&&l!==i);return IP(a),n},w=function(e){var t,n,i,a;if(a=FP(e,r,o),Fa.isText(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!e)return!0;if(e&&Fa.isElement(r)&&r===s.firstChild)return!0;if(RP(r,"TABLE")||RP(r,"HR"))return p&&!e||!p&&e;for(t=new y(r,s),Fa.isText(r)&&(e&&0===a?t.prev():e||a!==r.nodeValue.length||t.next());n=t.current();){if(Fa.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(Fa.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},x=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?_(h):_(),Gh.shouldEndContainerOnEmptyBlock(e)&&LP(m,c)&&m.isEmpty(s)?l=m.split(c,s):m.insertAfter(l,s),CP.moveToCaretPosition(e,l)};return hx.normalize(m,b).each(function(e){b.setStart(e.startContainer,e.startOffset),b.setEnd(e.endContainer,e.endOffset)}),r=b.startContainer,o=b.startOffset,h=Gh.getForcedRootBlock(e),a=t.shiftKey,Fa.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&Fa.isText(r)?r.nodeValue.length:0),(i=HP(m,r))?((h&&!a||!h&&a)&&(r=WP(e,h,b,r,o)),s=m.getParent(r,m.isBlock),c=s?m.getParent(s.parentNode,m.isBlock):null,d=s?s.nodeName.toUpperCase():"",f=c?c.nodeName.toUpperCase():"","LI"!==f||t.ctrlKey||(s=c,c=c.parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&m.isEmpty(s)?void PP.insert(e,_,c,s,h):void(h&&s===e.getBody()||(h=h||"P",Sc(s)?(l=Fc(s),m.isEmpty(s)&&IP(s),CP.moveToCaretPosition(e,l)):w()?x():w(!0)?(l=s.parentNode.insertBefore(_(),s),CP.moveToCaretPosition(e,RP(s,"HR")?l:s)):(n=$P(b).cloneRange(),n.setEndAfter(s),u=n.extractContents(),zP(u),l=u.firstChild,m.insertAfter(u,s),BP(m,v,l),qP(m,s),m.isEmpty(s)&&IP(s),l.normalize(),m.isEmpty(l)?(m.remove(l),x()):CP.moveToCaretPosition(e,l)),m.setAttrib(l,"id",""),e.fire("NewBlock",{newBlock:l})))):void 0},YP={insert:UP},VP=function(e,t){return CP.getParentBlock(e).filter(function(e){return t.length>0&&as.is(Kr.fromDom(e),t)}).isSome()},XP=function(e){return VP(e,Gh.getBrNewLineSelector(e))},GP=function(e){return VP(e,Gh.getNoNewLineSelector(e))},KP={shouldInsertBr:XP,shouldBlockNewLine:GP},QP=qy.generate([{br:[]},{block:[]},{none:[]}]),ZP=function(e,t){return KP.shouldBlockNewLine(e)},JP=function(e){return function(t,n){var i=""===Gh.getForcedRootBlock(t);return i===e}},eO=function(e){return function(t,n){return CP.isListItemParentBlock(t)===e}},tO=function(e,t){return function(n,i){var r=CP.getParentBlockName(n)===e.toUpperCase();return r===t}},nO=function(e){return tO("pre",e)},iO=function(){return tO("summary",!0)},rO=function(e){return function(t,n){return Gh.shouldPutBrInPre(t)===e}},oO=function(e,t){return KP.shouldInsertBr(e)},sO=function(e,t){return t},aO=function(e){var t=Gh.getForcedRootBlock(e),n=CP.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t?t:"P")},lO=function(e,t){return function(n,i){var r=Ge(e,function(e,t){return e&&t(n,i)},!0);return r?Ae.some(t):Ae.none()}},uO=function(e,t){return qb.evaluateUntil([lO([ZP],QP.none()),lO([iO()],QP.br()),lO([nO(!0),rO(!1),sO],QP.br()),lO([nO(!0),rO(!1)],QP.block()),lO([nO(!0),rO(!0),sO],QP.block()),lO([nO(!0),rO(!0)],QP.br()),lO([eO(!0),sO],QP.br()),lO([eO(!0)],QP.block()),lO([JP(!0),sO,aO],QP.block()),lO([JP(!0)],QP.br()),lO([oO],QP.br()),lO([JP(!1),sO],QP.br()),lO([aO],QP.block())],[e,t.shiftKey]).getOr(QP.none())},cO={getAction:uO},dO=function(e,t){cO.getAction(e,t).fold(function(){Ex.insert(e,t)},function(){YP.insert(e,t)},me)},fO={insert:dO},hO=function(e){e.typing&&(e.typing=!1,e.add())},pO=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),hO(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),fO.insert(e,t)}))},mO=function(e){e.on("keydown",function(t){t.keyCode===fS.ENTER&&pO(e,t)})},gO={setup:mO},vO=function(e,t){return wO(e)&&Fa.isText(t.container())},yO=function(e,t){var n=t.container(),i=t.offset();n.insertData(i,"\xa0"),e.selection.setCursorLocation(n,i+1)},bO=function(e,t,n){return vO(n,t)?(yO(e,t),!0):!1},_O=function(e){var t=be($v.isInlineTarget,e),n=Fd.fromRangeStart(e.selection.getRng()),i=d_.readLocation(t,e.getBody(),n);return i.map(be(bO,e,n)).getOr(!1)},wO=function(e){return e.fold(ve(!1),ve(!0),ve(!0),ve(!1))},xO=function(e){return e.selection.isCollapsed()?_O(e):!1},CO={insertAtSelection:xO},kO=function(e,t){iP.execute([{keyCode:fS.SPACEBAR,action:iP.action(CO.insertAtSelection,e)}],t).each(function(e){t.preventDefault()})},TO=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&kO(e,t)})},SO={setup:TO},EO=function(e){return Bu.descendant(Kr.fromDom(e.getBody()),"*[data-mce-caret]").fold(ve(null),function(e){return e.dom()})},DO=function(e){e.selection.setRng(e.selection.getRng())},AO=function(e,t){t.hasAttribute("data-mce-caret")&&(Fc(t),DO(e),e.selection.scrollIntoView(t))},NO=function(e,t){var n=EO(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void AO(e,n)):void(Ac(n)&&(AO(e,n),e.undoManager.add()))},PO=function(e){e.on("keyup compositionstart",be(NO,e))},OO={setup:PO},MO=function(e){var t=A_.setupSelectedState(e);OO.setup(e),sP.setup(e,t),gP.setup(e,t),gO.setup(e),SO.setup(e)},IO={setup:MO},RO=function(e){return Fa.isElement(e)&&pa(Kr.fromDom(e))},LO=function(e){var t=e.selection.getRng(),n=T.fromRangeStart(t),i=T.fromRangeEnd(t);if(T.isElementPosition(n)){var r=n.container();RO(r)&&nm.firstPositionIn(r).each(function(e){return t.setStart(e.container(),e.offset())})}if(T.isElementPosition(i)){var r=n.container();RO(r)&&nm.lastPositionIn(r).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Zg.normalize(t))},BO=function(e){e.on("click",function(t){t.detail>=3&&LO(e)})},FO=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},$O=function(e){e.parser.addNodeFilter("details",function(e){qe(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){qe(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Oe(t)?t:null),e.attr("data-mce-open",null)})})},zO=function(e){FO(e),$O(e)},HO=Cl.DOM,jO=function(e,t){var n=Kr.fromDom(e.getDoc().head),i=Kr.fromTag("style");Co.set(i,"type","text/css"),Ll.append(i,Kr.fromText(t)),Ll.append(n,i)},WO=function(e){var t=K(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var i,r,o,s=t.length,a=e.dom;s--;)if(i=t[s],r=i.attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?(r=a.serializeStyle(a.parseStyle(r),i.name),r.length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,e.convertURL(r,n,i.name))}}),t.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,i=t.length,r=e.schema.getNonEmptyElements();i--;)n=t[i],n.isEmpty(r)&&0===n.getAll("br").length&&(n.append(new pA("br",1)).shortEnded=!0)}),t},qO=function(e){e.settings.auto_focus&&Rt.setEditorTimeout(e,function(){var t;t=e.settings.auto_focus===!0?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},UO=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),qO(e)},YO=function(e){return e.inline?HO.styleSheetLoader:e.dom.styleSheetLoader},VO=function(e,t){var n,i,r=e.settings,o=e.getElement(),s=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||r.content_editable||(s.open(),s.write(e.iframeHTML),s.close()),r.content_editable&&(e.on("remove",function(){var e=this.getBody();HO.removeClass(e,"mce-content-body"),HO.removeClass(e,"mce-edit-focus"),HO.setAttrib(e,"contentEditable",null)}),HO.addClass(o,"mce-content-body"),e.contentDocument=s=r.content_document||document,e.contentWindow=r.content_window||window,e.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),n=e.getBody(),n.disabled=!0,e.readonly=r.readonly,e.readonly||(e.inline&&"static"===HO.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=q(e),e.schema=b(r),e.dom=Cl(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:r.content_editable,schema:e.schema,onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=WO(e),e.serializer=Z(r,e),e.selection=BN(e.dom,e.getWin(),e.serializer,e),e.annotator=E(e),e.formatter=G(e),e.undoManager=V(e),e._nodeChangeDispatcher=new U(e),e._selectionOverrides=yS(e),zO(e),BO(e),IO.setup(e),nT.setup(e),e.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,HO.setAttrib(n,"spellcheck","false")),e.quirks=ee(e),e.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&e.on("BeforeSetContent",function(e){xi.each(r.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(i="",xi.each(e.contentStyles,function(e){i+=e+"\r\n"}),e.dom.addStyle(i)),YO(e).loadAll(e.contentCSS,function(t){UO(e)},function(t){UO(e)}),r.content_style&&jO(e,r.content_style)},XO={initContentBody:VO},GO=Cl.DOM,KO=function(e,t){if(document.domain!==window.location.hostname&&St.ie&&St.ie<12){var n=Gk.uuid("mce");e[n]=function(){XO.initContentBody(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return GO.setAttrib(t,"src",i),!0}return!1},QO=function(e){var t="number"==typeof e?e+"px":e;return t?t:""},ZO=function(e,t,n,i){var r=Kr.fromTag("iframe");return Co.setAll(r,i),Co.setAll(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Yo.setAll(r,{width:"100%",height:QO(n),display:"block"}),r},JO=function(e){var t,n,i;return i=Gh.getDocType(e)+"<html><head>",Gh.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(i+='<base href="'+e.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=Gh.getBodyId(e),n=Gh.getBodyClass(e),Gh.getContentSecurityPolicy(e)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+Gh.getContentSecurityPolicy(e)+'" />'),i+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},eM=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=ZO(e.id,n,t.height,Gh.getIframeAttrs(e)).dom();i.onload=function(){i.onload=null,e.fire("load")};var r=KO(e,i);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=i,e.iframeHTML=JO(e),GO.add(t.iframeContainer,i),r},tM=function(e,t){var n=eM(e,t);t.editorContainer&&(GO.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=GO.isHidden(t.editorContainer)),e.getElement().style.display="none",GO.setAttrib(e.id,"aria-hidden","true"),n||XO.initContentBody(e)},nM={init:tM},iM=Cl.DOM,rM=function(e,t,n){var i,r,o=Pk.get(n);if(i=Pk.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=xi.trim(n),o&&-1===xi.inArray(t,n)){if(xi.each(Pk.dependencies(n),function(n){rM(e,t,n)}),e.plugins[n])return;r=new o(e,i,e.$),e.plugins[n]=r,r.init&&(r.init(e,i),t.push(n))}},oM=function(e){return e.replace(/^\-/,"")},sM=function(e){var t=[];xi.each(e.settings.plugins.split(/[ ,]/),function(n){rM(e,t,oM(n))})},aM=function(e){var t,n=e.settings.theme;Oe(n)?(e.settings.theme=oM(n),t=Ok.get(n),e.theme=new t(e,Ok.urls[n]),e.theme.init&&e.theme.init(e,Ok.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},lM=function(e){var t,n,i,r,o,s=e.settings,a=e.getElement();return t=s.width||iM.getStyle(a,"width")||"100%",n=s.height||iM.getStyle(a,"height")||a.offsetHeight,i=s.min_height||100,r=/^[0-9\.]+(|px)$/i,r.test(""+t)&&(t=Math.max(parseInt(t,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=e.theme.renderUI({targetNode:a,width:t,height:n,deltaWidth:s.delta_width,deltaHeight:s.delta_height}),s.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i)),o.height=n,o},uM=function(e){var t,n=e.getElement();return t=e.settings.theme(e,n),t.editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t},cM=function(e){return{editorContainer:e,iframeContainer:e}},dM=function(e){var t=iM.create("div");return iM.insertAfter(t,e),cM(t)},fM=function(e){var t=e.getElement();return e.inline?cM(null):dM(t)},hM=function(e){var t=e.settings,n=e.getElement();return e.orgDisplay=n.style.display,Oe(t.theme)?lM(e):Be(t.theme)?uM(e):fM(e)},pM=function(e){var t,n=e.settings,i=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||iM.getAttrib(i,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),aM(e),sM(e),t=hM(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&xi.each(xi.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?XO.initContentBody(e):nM.init(e,t)},mM={init:pM},gM=Cl.DOM,vM=function(e){return"-"===e.charAt(0)},yM=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},bM=function(e,t,n,i){var r=t.settings,o=r.theme;if(Oe(o)){if(!vM(o)&&!Ok.urls.hasOwnProperty(o)){var s=r.theme_url;s?Ok.load(o,t.documentBaseURI.toAbsolute(s)):Ok.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){Ok.waitFor(o,i)})}else i()},_M=function(e,t){xi.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),xi.each(e.external_plugins,function(t,n){Pk.load(n,t),e.plugins+=" "+n}),xi.each(e.plugins.split(/[ ,]/),function(e){if(e=xi.trim(e),e&&!Pk.urls[e])if(vM(e)){e=e.substr(1,e.length);var n=Pk.dependencies(e);xi.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=Pk.createUrl(n,e),Pk.load(e.resource,e)})}else Pk.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},wM=function(e,t){var n=Dl.ScriptLoader;bM(n,e,t,function(){yM(n,e),_M(e.settings,t),n.loadQueue(function(){e.removed||mM.init(e)},e,function(t){Nk.pluginLoadError(e,t[0]),e.removed||mM.init(e)})})},xM=function(e){var t=e.settings,n=e.id,i=function(){gM.unbind(window,"ready",i),e.render()};if(!Vt.Event.domLoaded)return void gM.bind(window,"ready",i);if(e.getElement()&&St.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||gM.getParent(n,"form");r&&(e.formElement=r,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(gM.insertAfter(gM.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},gM.bind(r,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=R(e),e.notificationManager=M(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=gM.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),wM(e,e.suffix)}},CM={render:xM},kM=function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i},TM={add:kM},SM=xi.each,EM=xi.trim,DM="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),AM={ftp:21,http:80,https:443,mailto:25},NM=function(e,t){var n,i,r=this;if(e=EM(e),t=r.settings=t||{},n=t.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);var o=0===e.indexOf("//");0!==e.indexOf("/")||o||(e=(n?n.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(i=t.base_uri?t.base_uri.path:new NM(document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+r.toAbsPath(i,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),SM(DM,function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[t]=i}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")};NM.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new NM(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var i=n.getURI(),r=e.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new NM(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=AM[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,s="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!==n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!==n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)s+="../";for(i=o-1,r=n.length;r>i;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(e,t){var n,i,r,o=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),SM(e,function(e){e&&s.push(e)}),e=s,n=t.length-1,s=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?o>0?o--:s.push(t[n]):o++);return n=e.length-o,r=0>=n?s.reverse().join("/"):e.slice(0,n).join("/")+"/"+s.reverse().join("/"),0!==r.indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},NM.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},NM.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var PM="html",OM=function(e,t){var n=Gh.getForcedRootBlock(e),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(i,"")},MM=function(e,t,n){var i;if(t.format=t.format?t.format:PM,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)i=xi.trim(ES.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)i=Cc.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);i=OM(e,e.serializer.serialize(n,t))}return"text"===t.format||_a(Kr.fromDom(n))?t.content=i:t.content=xi.trim(i),t.no_events||e.fire("GetContent",t),t.content},IM=function(e,t){return void 0===t&&(t={}),Ae.from(e.getBody()).fold(ve("tree"===t.format?new pA("body",11):""),function(n){return MM(e,t,n)})},RM=function(e,t){t(e),e.firstChild&&RM(e.firstChild,t),e.next&&RM(e.next,t)},LM=function(e,t,n){var i={},r={},o=[];n.firstChild&&RM(n.firstChild,function(n){qe(e,function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}),qe(t,function(e){"string"==typeof n.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})});for(var s in i)i.hasOwnProperty(s)&&o.push(i[s]);for(var s in r)r.hasOwnProperty(s)&&o.push(r[s]);return o},BM=function(e,t,n){var i=LM(e,t,n);qe(i,function(e){qe(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},FM="html",$M=function(e){return e instanceof pA},zM=function(e){lk.hasFocus(e)&&nm.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),i=Fa.isTable(n)?nm.firstPositionIn(n).getOr(t):t;e.selection.setRng(i.toRange())})},HM=function(e,t){e.dom.setHTML(e.getBody(),t),zM(e)},jM=function(e,t,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),r=Gh.getForcedRootBlock(e),r&&e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),HM(e,n),e.fire("SetContent",i)):("raw"!==i.format&&(n=A({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=_a(Kr.fromDom(t))?n:xi.trim(n),HM(e,i.content),i.no_events||e.fire("SetContent",i)),i.content},WM=function(e,t,n,i){BM(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=A({validate:e.validate},e.schema).serialize(n);return i.content=_a(Kr.fromDom(t))?r:xi.trim(r),HM(e,i.content),i.no_events||e.fire("SetContent",i),n},qM=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:FM,n.set=!0,n.content=$M(t)?"":t,$M(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Ae.from(e.getBody()).fold(ve(t),function(i){return $M(t)?WM(e,i,t,n):jM(e,i,t,n)})},UM=Cl.DOM,YM=function(e){UM.setStyle(e.id,"display",e.orgDisplay)},VM=function(e){return Ae.from(e).each(function(e){return e.destroy()})},XM=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},GM=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),UM.unbind(t,"submit reset",e.formEventDelegate))},KM=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&UM.remove(r.nextSibling),!e.inline&&i&&YM(e),vC.fireRemove(e),e.editorManager.remove(e),UM.remove(e.getContainer()),VM(t),VM(n),e.destroy()}},QM=function(e,t){var n=e.selection,i=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),VM(n),VM(i)),GM(e),XM(e),e.destroyed=!0}},ZM=Cl.DOM,JM=xi.extend,eI=xi.each,tI=xi.resolve,nI=St.ie,iI=function(e,t,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;t=xv(i,e,r,n.defaultSettings,t),i.settings=t,x.language=t.language||"en",x.languageLoad=t.language_load,x.baseURL=n.baseURL,i.id=e,i.setDirty(!1),i.plugins={},i.documentBaseURI=new NM(t.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new P(i),i.loadedCSS={},i.editorCommands=new N(i),i.suffix=n.suffix,i.editorManager=n,i.inline=t.inline,i.buttons={},i.menuItems={},t.cache_suffix&&(St.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(St.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=ji.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};iI.prototype={render:function(){CM.render(this)},focus:function(e){lk.focus(this,e)},hasFocus:function(){return lk.hasFocus(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this,o=r.settings[e];return o?(r.callbackLookup&&(i=r.callbackLookup[e])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=o.replace(/\.\w+$/,""),i=i?tI(i):0,o=tI(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[e]={func:o,scope:i}),o.apply(i||r,Array.prototype.slice.call(arguments,1))):void 0},translate:function(e){if(e&&xi.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return Ev(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&"undefined"==typeof t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return TM.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:Gk.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(ZM.show(e.getContainer()),ZM.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(nI&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(ZM.hide(e.getContainer()),ZM.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,i=n.getElement();return n.removed?"":i?(e=e||{},e.load=!0,t=n.setContent(void 0!==i.value?i.value:i.innerHTML,e),e.element=i,e.no_events||n.fire("LoadContent",e),e.element=i=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();return r&&i.initialized&&!i.removed?(e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:((e.is_removing||!i.inline)&&(r.innerHTML=t),(n=ZM.getParent(i.id,"form"))&&eI(n.elements,function(e){return e.name===i.id?(e.value=t,!1):void 0})),e.element=r=null,e.set_dirty!==!1&&i.setDirty(!1),t):void 0},setContent:function(e,t){return qM(this,e,t)},getContent:function(e){return IM(this,e)},insertContent:function(e,t){t&&(e=JM({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){wC(this,e)},getContainer:function(){var e=this;return e.container||(e.container=ZM.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ZM.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host);
},addVisual:function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),eI(r.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",o=r.getAttrib(e,"border"),void(o&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){KM(this)},destroy:function(e){QM(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},JM(iI.prototype,PC);var rI,oI,sI,aI=function(e){return-1!==e.className.toString().indexOf("mce-")},lI={isEditorUIElement:aI},uI=function(e){return"nodechange"===e.type&&e.selectionChange},cI=function(e,t){var n=function(){t.throttle()};Cl.DOM.bind(document,"mouseup",n),e.on("remove",function(){Cl.DOM.unbind(document,"mouseup",n)})},dI=function(e){e.on("focusout",function(){Jx.store(e)})},fI=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},hI=function(e,t){var n=qr.detect().browser;n.isIE()?dI(e):fI(e,t),e.on("keyup nodechange",function(t){uI(t)||Jx.store(e)})},pI=function(e){var t=Yl(function(){Jx.store(e)},0);e.inline&&cI(e,t),e.on("init",function(){hI(e,t)}),e.on("remove",function(){t.cancel()})},mI={register:pI},gI=Cl.DOM,vI=function(e){return lI.isEditorUIElement(e)},yI=function(e,t){var n=e?e.settings.custom_ui_selector:"",i=gI.getParent(t,function(t){return vI(t)||(n?e.dom.is(t,n):!1)});return null!==i},bI=function(){try{return document.activeElement}catch(e){return document.body}},_I=function(e,t){var n=t.editor;mI.register(n),n.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),n.on("focusout",function(){var t=this;Rt.setEditorTimeout(t,function(){var n=e.focusedEditor;yI(t,bI())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),rI||(rI=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument===document&&(n===document.body||yI(i,n)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},gI.bind(document,"focusin",rI))},wI=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(gI.unbind(document,"focusin",rI),rI=null)},xI=function(e){e.on("AddEditor",be(_I,e)),e.on("RemoveEditor",be(wI,e))},CI={setup:xI,isEditorUIElement:vI,isUIElement:yI},kI={},TI="en",SI={setCode:function(e){e&&(TI=e,this.rtl=this.data[e]?"rtl"===this.data[e]._dir:!1)},getCode:function(){return TI},rtl:!1,add:function(e,t){var n=kI[e];n||(kI[e]=n={});for(var i in t)n[i]=t[i];this.setCode(e)},translate:function(e){var t=kI[TI]||{},n=function(e){return xi.is(e,"function")?Object.prototype.toString.call(e):i(e)?"":""+e},i=function(e){return""===e||null===e||xi.is(e,"undefined")},r=function(e){return e=n(e),xi.hasOwn(t,e)?n(t[e]):e};if(i(e))return"";if(xi.is(e,"object")&&xi.hasOwn(e,"raw"))return n(e.raw);if(xi.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return xi.hasOwn(o,t)?n(o[t]):e})}return r(e).replace(/{context:\w+}$/,"")},data:kI},EI=Cl.DOM,DI=xi.explode,AI=xi.each,NI=xi.extend,PI=0,OI=!1,MI=[],II=[],RI=function(e){return"length"!==e},LI=function(e){AI(sI.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},BI=function(e){e!==OI&&(e?ji(window).on("resize scroll",LI):ji(window).off("resize scroll",LI),OI=e)},FI=function(e){var t=II;delete MI[e.id];for(var n=0;n<MI.length;n++)if(MI[n]===e){MI.splice(n,1);break}return II=Ve(II,function(t){return e!==t}),sI.activeEditor===e&&(sI.activeEditor=II.length>0?II[0]:null),sI.focusedEditor===e&&(sI.focusedEditor=null),t.length!==II.length},$I=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(FI(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};sI={defaultSettings:{},$:ji,majorVersion:"4",minorVersion:"8.2",releaseDate:"2018-08-09",editors:MI,i18n:SI,activeEditor:null,settings:{},setup:function(){var e,t,n,i,r=this,o="";if(t=NM.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){i=s[a].src;var l=i.substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==l.indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(i=document.currentScript.src,-1!==i.indexOf(".min")&&(o=".min"),e=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new NM(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new NM(r.baseURL),r.suffix=o,CI.setup(r)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new NM(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new NM(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var i=e.plugin_base_urls;for(var r in i)x.PluginManager.urls[r]=i[r]},init:function(e){var t,n,i=this;n=xi.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(e,t){return e.inline&&t.tagName.toLowerCase()in n},o=function(e){var t=e.id;return t||(t=e.name,t=t&&!EI.get(t)?e.name:EI.uniqueId(),e.setAttribute("id",t)),t},s=function(t){var n=e[t];if(n)return n.apply(i,Array.prototype.slice.call(arguments,2))},a=function(e,t){return t.constructor===RegExp?t.test(e.className):EI.hasClass(e,t)},l=function(e){var t,n=[];if(St.ie&&St.ie<11)return Nk.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return AI(e.types,function(e){n=n.concat(EI.select(e.selector))}),n;if(e.selector)return EI.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&AI(DI(t),function(e){var t;(t=EI.get(e))?n.push(t):AI(document.forms,function(t){AI(t.elements,function(t){t.name===e&&(e="mce_editor_"+PI++,EI.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":AI(EI.select("textarea"),function(t){e.editor_deselector&&a(t,e.editor_deselector)||(!e.editor_selector||a(t,e.editor_selector))&&n.push(t)})}return n},u=function(e){t=e},c=function(){var t,n=0,a=[],d=function(e,r,o){var s=new iI(e,r,i);a.push(s),s.on("init",function(){++n===t.length&&u(a)}),s.targetElm=s.targetElm||o,s.render()};return EI.unbind(window,"ready",c),s("onpageload"),t=ji.unique(l(e)),e.types?void AI(e.types,function(n){xi.each(t,function(t){return EI.is(t,n.selector)?(d(o(t),NI({},e,n),t),!1):!0})}):(xi.each(t,function(e){$I(i.get(e.id))}),t=xi.grep(t,function(e){return!i.get(e.id)}),void(0===t.length?u([]):AI(t,function(t){r(e,t)?Nk.initError("Could not initialize inline editor on invalid inline target element",t):d(o(t),e,t)})))};return i.settings=e,EI.bind(window,"ready",c),new Dt(function(e){t?e(t):u=function(t){e(t)}})},get:function(e){return 0===arguments.length?II.slice(0):Oe(e)?Ke(II,function(t){return t.id===e}).getOr(null):Fe(e)&&II[e]?II[e]:null},add:function(e){var t,n=this;return t=MI[e.id],t===e?e:(null===n.get(e.id)&&(RI(e.id)&&(MI[e.id]=e),MI.push(e),II.push(e)),BI(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),oI||(oI=function(){n.fire("BeforeUnload")},EI.bind(window,"beforeunload",oI)),e)},createEditor:function(e,t){return this.add(new iI(e,t,this))},remove:function(e){var t,n,i=this;if(e)return Oe(e)?void AI(EI.select(e),function(e){n=i.get(e.id),n&&i.remove(n)}):(n=e,Re(i.get(n.id))?null:(FI(n)&&i.fire("RemoveEditor",{editor:n}),0===II.length&&EI.unbind(window,"beforeunload",oI),n.remove(),BI(II.length>0),n));for(t=II.length-1;t>=0;t--)i.remove(II[t])},execCommand:function(e,t,n){var i=this,r=i.get(n);switch(e){case"mceAddEditor":return i.get(n)||new iI(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){AI(II,function(e){e.save()})},addI18n:function(e,t){SI.add(e,t)},translate:function(e){return SI.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},NI(sI,cC),sI.setup();var zI=sI;!function(e){e.compareRanges=ex.isEq,e.getCaretRangeFromPoint=jA.fromPoint,e.getSelectedNode=fd,e.getNode=hd}(te||(te={}));var HI,jI,WI=te,qI=Math.min,UI=Math.max,YI=Math.round,VI=function(e,t,n){var i,r,o,s,a,l;return i=t.x,r=t.y,o=e.w,s=e.h,a=t.w,l=t.h,n=(n||"").split(""),"b"===n[0]&&(r+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=YI(l/2)),"c"===n[1]&&(i+=YI(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=YI(s/2)),"c"===n[4]&&(i-=YI(o/2)),ZI(i,r,o,s)},XI=function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if(r=VI(e,t,i[o]),r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},GI=function(e,t,n){return ZI(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},KI=function(e,t){var n,i,r,o;return n=UI(e.x,t.x),i=UI(e.y,t.y),r=qI(e.x+e.w,t.x+t.w),o=qI(e.y+e.h,t.y+t.h),0>r-n||0>o-i?null:ZI(n,i,r-n,o-i)},QI=function(e,t,n){var i,r,o,s,a,l,u,c,d,f;return a=e.x,l=e.y,u=e.x+e.w,c=e.y+e.h,d=t.x+t.w,f=t.y+t.h,i=UI(0,t.x-a),r=UI(0,t.y-l),o=UI(0,u-d),s=UI(0,c-f),a+=i,l+=r,n&&(u+=i,c+=r,a-=o,l-=s),u-=o,c-=s,ZI(a,l,u-a,c-l)},ZI=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},JI=function(e){return ZI(e.left,e.top,e.width,e.height)},eR={inflate:GI,relativePosition:VI,findBestRelativePosition:XI,intersect:KI,clamp:QI,create:ZI,fromClientRect:JI},tR={},nR={add:function(e,t){tR[e.toLowerCase()]=t},has:function(e){return!!tR[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=tR.hasOwnProperty(t)?tR[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{},t.type=e):(t=e,e=t.type),e=e.toLowerCase(),n=tR[e],!n)throw new Error("Could not find control by type: "+e);return n=new n(t),n.type=e,n}},iR=xi.each,rR=xi.extend,oR=function(){};oR.extend=HI=function(e){var t,n,i,r=this,o=r.prototype,s=function(){var e,t,n,i=this;if(!jI&&(i.init&&i.init.apply(i,arguments),t=i.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(i,arguments)},a=function(){return this},l=function(e,t){return function(){var n,i=this,r=i._super;return i._super=o[e],n=t.apply(i,arguments),i._super=r,n}};jI=!0,t=new r,jI=!1,e.Mixins&&(iR(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),o.Mixins&&(e.Mixins=o.Mixins.concat(e.Mixins))),e.Methods&&iR(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&iR(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&iR(e.Statics,function(e,t){s[t]=e}),e.Defaults&&o.Defaults&&(e.Defaults=rR({},o.Defaults,e.Defaults));for(n in e)i=e[n],"function"==typeof i&&o[n]?t[n]=l(n,i):t[n]=i;return s.prototype=t,s.constructor=s,s.extend=HI,s};var sR=Math.min,aR=Math.max,lR=Math.round,uR=function(e){var t={},n=0,i=0,r=0,o=function(e,t,n){var i,r,o,s,a,l;return i=0,r=0,o=0,e/=255,t/=255,n/=255,a=sR(e,sR(t,n)),l=aR(e,aR(t,n)),a===l?(o=a,{h:0,s:0,v:100*o}):(s=e===a?t-n:n===a?e-t:n-e,i=e===a?3:n===a?1:5,i=60*(i-s/(l-a)),r=(l-a)/l,o=l,{h:lR(i),s:lR(100*r),v:lR(100*o)})},s=function(e,t,o){var s,a,l,u;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=aR(0,sR(t,1)),o=aR(0,sR(o,1)),0===t)return void(n=i=r=lR(255*o));switch(s=e/60,a=o*t,l=a*(1-Math.abs(s%2-1)),u=o-a,Math.floor(s)){case 0:n=a,i=l,r=0;break;case 1:n=l,i=a,r=0;break;case 2:n=0,i=a,r=l;break;case 3:n=0,i=l,r=a;break;case 4:n=l,i=0,r=a;break;case 5:n=a,i=0,r=l;break;default:n=i=r=0}n=lR(255*(n+u)),i=lR(255*(i+u)),r=lR(255*(r+u))},a=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(i)+e(r)},l=function(){return{r:n,g:i,b:r}},u=function(){return o(n,i,r)},c=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,i=e.g,r=e.b):"v"in e&&s(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=0>n?0:n>255?255:n,i=0>i?0:i>255?255:i,r=0>r?0:r>255?255:r,t};return e&&c(e),t.toRgb=l,t.toHsv=u,t.toHex=a,t.parse=c,t},cR=function(e,t){var n,i,r,o;if(t=t||'"',null===e)return"null";if(r=typeof e,"string"===r)return i="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r),n+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"===r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";n<e.length;n++)i+=(n>0?",":"")+cR(e[n],t);return i+"]"}i="{";for(o in e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(i.length>1?","+t:t)+o+t+":"+cR(e[o],t):"");return i+"}"}return""+e},dR={serialize:cR,parse:function(e){try{return JSON.parse(e)}catch(t){}}},fR={callbacks:{},count:0,send:function(e){var t=this,n=Cl.DOM,i=void 0!==e.count?e.count:t.count,r="tinymce_jsonp_"+i;t.callbacks[i]=function(o){n.remove(r),delete t.callbacks[i],e.callback(o)},n.add(n.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),t.count++}},hR={send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&1e4>n&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",hR.fire("beforeInitialize",{settings:e}),t=new L){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&xi.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=hR.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return i();setTimeout(i,10)}}};xi.extend(hR,cC);var pR=xi.extend,mR=function(e){this.settings=pR({},e),this.count=0};mR.sendRPC=function(e){return(new mR).send(e)},mR.prototype={send:function(e){var t=e.error,n=e.success;e=pR(this.settings,e),e.success=function(i,r){i=dR.parse(i),"undefined"==typeof i&&(i={error:"JSON Parse error."}),i.error?t.call(e.error_scope||e.scope,i.error,r):n.call(e.success_scope||e.scope,i.result)},e.error=function(n,i){t&&t.call(e.error_scope||e.scope,n,i)},e.data=dR.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",hR.send(e)}};var gR,vR=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n?n:null},setItem:function(n,i){t.push(n),e[n]=String(i)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{gR=window.localStorage}catch(Qn){gR=vR()}var yR=gR,bR=zI,_R={geom:{Rect:eR},util:{Promise:Dt,Delay:Rt,Tools:xi,VK:fS,URI:NM,Class:oR,EventDispatcher:aC,Observable:cC,I18n:SI,XHR:hR,JSON:dR,JSONRequest:mR,JSONP:fR,LocalStorage:yR,Color:uR},dom:{EventUtils:Vt,Sizzle:Zn,DomQuery:ji,TreeWalker:y,DOMUtils:Cl,ScriptLoader:Dl,RangeUtils:WI,Serializer:Z,ControlSelection:LA,BookmarkManager:OA,Selection:BN,Event:Vt.Event},html:{Styles:_,Entities:il,Node:pA,Schema:b,SaxParser:CS,DomParser:K,Writer:D,Serializer:A},ui:{Factory:nR},Env:St,AddOnManager:x,Annotator:E,Formatter:G,UndoManager:V,EditorCommands:N,WindowManager:R,NotificationManager:M,EditorObservable:PC,Shortcuts:P,Editor:iI,FocusManager:lI,EditorManager:zI,DOM:Cl.DOM,ScriptLoader:Dl.ScriptLoader,PluginManager:x.PluginManager,ThemeManager:x.ThemeManager,trim:xi.trim,isArray:xi.isArray,is:xi.is,toArray:xi.toArray,makeMap:xi.makeMap,each:xi.each,map:xi.map,grep:xi.grep,inArray:xi.inArray,extend:xi.extend,create:xi.create,walk:xi.walk,createNS:xi.createNS,resolve:xi.resolve,explode:xi.explode,_addCacheSuffix:xi._addCacheSuffix,isOpera:St.opera,isWebKit:St.webkit,isIE:St.ie,isGecko:St.gecko,isMac:St.mac};bR=xi.extend(bR,_R);var wR=bR,xR=function(e){if("object"==typeof module)try{module.exports=e}catch(t){}},CR=function(e){window.tinymce=e,window.tinyMCE=e};CR(wR),xR(wR)}()}(),!function(){var e,t,n,i,r,o=[];r="undefined"!=typeof global?global:window,i=r.jQuery;var s=function(){return r.tinymce};i.fn.tinymce=function(e){var l,u,c,d=this,f="";if(!d.length)return d;if(!e)return s()?s().get(d[0].id):null;d.css("visibility","hidden");var h=function(){var t=[],r=0;n||(a(),n=!0),d.each(function(n,i){var o,a=i.id,l=e.oninit;a||(i.id=a=s().DOM.uniqueId()),s().get(a)||(o=s().createEditor(a,e),t.push(o),o.on("init",function(){var e,n=l;d.css("visibility",""),l&&++r==t.length&&("string"==typeof n&&(e=-1===n.indexOf(".")?null:s().resolve(n.replace(/\.\w+$/,"")),n=s().resolve(n)),n.apply(e||s(),t))}))}),i.each(t,function(e,t){t.render()})};if(r.tinymce||t||!(l=e.script_url))1===t?o.push(h):h();else{t=1,u=l.substring(0,l.lastIndexOf("/")),-1!=l.indexOf(".min")&&(f=".min"),r.tinymce=r.tinyMCEPreInit||{base:u,suffix:f},-1!=l.indexOf("gzip")&&(c=e.language||"en",l=l+(/\?/.test(l)?"&":"?")+"js=true&core=true&suffix="+escape(f)+"&themes="+escape(e.theme||"modern")+"&plugins="+escape(e.plugins||"")+"&languages="+(c||""),r.tinyMCE_GZ||(r.tinyMCE_GZ={start:function(){var t=function(e){s().ScriptLoader.markDone(s().baseURI.toAbsolute(e))};t("langs/"+c+".js"),t("themes/"+e.theme+"/theme"+f+".js"),t("themes/"+e.theme+"/langs/"+c+".js"),i.each(e.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/plugin"+f+".js"),t("plugins/"+n+"/langs/"+c+".js"))})},end:function(){}}));var p=document.createElement("script");p.type="text/javascript",p.onload=p.onreadystatechange=function(n){n=n||window.event,2===t||"load"!=n.type&&!/complete|loaded/.test(p.readyState)||(s().dom.Event.domLoaded=1,t=2,e.script_loaded&&e.script_loaded(),h(),i.each(o,function(e,t){t()}))},p.src=l,document.body.appendChild(p)}return d},i.extend(i.expr[":"],{tinymce:function(e){var t;return!!(e.id&&"tinymce"in r&&(t=s().get(e.id))&&t.editorManager===s())}});var a=function(){var t=function(e){"remove"===e&&this.each(function(e,t){var n=o(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=s().get(t.id.replace(/_parent$/,""));n&&n.remove()})},n=function(e){var n,i=this;if(null!=e)t.call(i),i.each(function(t,n){var i;(i=s().get(n.id))&&i.setContent(e)});else if(0<i.length&&(n=s().get(i[0].id)))return n.getContent()},o=function(e){var t=null;return e&&e.id&&r.tinymce&&(t=s().get(e.id)),t},a=function(e){return!!(e&&e.length&&r.tinymce&&e.is(":tinymce"))},l={};i.each(["text","html","val"],function(t,r){var s=l[r]=i.fn[r],u="text"===r;i.fn[r]=function(t){var r=this;if(!a(r))return s.apply(r,arguments);if(t!==e)return n.call(r.filter(":tinymce"),t),s.apply(r.not(":tinymce"),arguments),r;var l="",c=arguments;return(u?r:r.eq(0)).each(function(e,t){var n=o(t);l+=n?u?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):s.apply(i(t),c)}),l}}),i.each(["append","prepend"],function(t,n){var r=l[n]=i.fn[n],s="prepend"===n;i.fn[n]=function(t){var n=this;return a(n)?t!==e?("string"==typeof t&&n.filter(":tinymce").each(function(e,n){var i=o(n);i&&i.setContent(s?t+i.getContent():i.getContent()+t)}),r.apply(n.not(":tinymce"),arguments),n):void 0:r.apply(n,arguments)}}),i.each(["remove","replaceWith","replaceAll","empty"],function(e,n){var r=l[n]=i.fn[n];i.fn[n]=function(){return t.call(this,n),r.apply(this,arguments)}}),l.attr=i.fn.attr,i.fn.attr=function(t,r){var s=this,u=arguments;if(!t||"value"!==t||!a(s))return l.attr.apply(s,u);if(r!==e)return n.call(s.filter(":tinymce"),r),l.attr.apply(s.not(":tinymce"),u),s;var c=s[0],d=o(c);return d?d.getContent({save:!0}):l.attr.apply(i(c),u)}}}(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.getBoundingClientRect(),n={};for(var i in t)n[i]=t[i];if(e.ownerDocument!==document){var o=e.ownerDocument.defaultView.frameElement;if(o){var s=r(o);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function o(e){var t=getComputedStyle(e)||{},n=t.position,i=[];if("fixed"===n)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(s){}if("undefined"==typeof o||null===o)return i.push(r),i;var a=o,l=a.overflow,u=a.overflowX,c=a.overflowY;/(auto|scroll)/.test(l+c+u)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(e.ownerDocument.body),e.ownerDocument!==document&&i.push(e.ownerDocument.defaultView),i}function s(){T&&document.body.removeChild(T),T=null}function a(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,i=r(e),o=D();return i.top-=o.top,i.left-=o.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=t.body.clientWidth-i.width-i.left,i.bottom=t.body.clientHeight-i.height-i.top,i}function l(e){return e.offsetParent||document.documentElement}function u(){if(A)return A;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");c(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t);var r=n-i;return A={width:r,height:r}}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function d(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),i=p(e).replace(n," ");m(e,i)}}function f(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var n=p(e)+(" "+t);m(e,n)}}function h(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=p(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function p(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function m(e,t){e.setAttribute("class",t)}function g(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&h(e,n)&&d(e,n)}),t.forEach(function(t){h(e,t)||f(e,t)})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function _(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];return n.forEach(function(t){var n=t.top,i=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),e.top+=n,e.left+=i}),e}function w(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function x(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,n=a(t),i=n,r=getComputedStyle(t);if(t=[i.left,i.top,n.width+i.left,n.height+i.top],e.ownerDocument!==document){var o=e.ownerDocument.defaultView;t[0]+=o.pageXOffset,t[1]+=o.pageYOffset,t[2]+=o.pageXOffset,t[3]+=o.pageYOffset}G.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(r["border"+e+"Width"]):t[n]-=parseFloat(r["border"+e+"Width"])})}(),t}var C=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=void 0;"undefined"==typeof k&&(k={modules:[]});var T=null,S=function(){var e=0;return function(){return++e}}(),E={},D=function(){var e=T;e&&document.body.contains(e)||(e=document.createElement("div"),e.setAttribute("data-tether-id",S()),c(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),T=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof E[t]&&(E[t]=r(e),P(function(){delete E[t]})),E[t]},A=null,N=[],P=function(e){N.push(e)},O=function(){for(var e=void 0;e=N.pop();)e()},M=function(){function e(){i(this,e)}return C(e,[{key:"on",value:function(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],s=o.handler,a=o.ctx,l=o.once,u=a;"undefined"==typeof u&&(u=this),s.apply(u,i),l?this.bindings[e].splice(t,1):++t}}}}]),e}();k.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:a,getOffsetParent:l,extend:c,addClass:f,removeClass:d,hasClass:h,updateClasses:g,defer:P,flush:O,uniqueId:S,Evented:M,getScrollBarSize:u,removeUtilElements:s};var I=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),R=function(e,t,n){for(var i=!0;i;){var r=e,o=t,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;e=u,t=o,n=s,i=!0,a=u=void 0}};if("undefined"==typeof k)throw new Error("You must include the utils.js file before tether.js");var L=k.Utils,o=L.getScrollParents,a=L.getBounds,l=L.getOffsetParent,c=L.extend,f=L.addClass,d=L.removeClass,g=L.updateClasses,P=L.defer,O=L.flush,u=L.getScrollBarSize,s=L.removeUtilElements,B=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var i=t[n];if(void 0!==e.style[i])return i}}(),F=[],$=function(){F.forEach(function(e){e.position(!1)}),O()};!function(){var e=null,t=null,n=null,i=function r(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(r,250))):void("undefined"!=typeof e&&b()-e<10||(null!=n&&(clearTimeout(n),n=null),e=b(),$(),t=b()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,i)})}();var z={center:"center",left:"right",right:"left"},H={middle:"middle",top:"bottom",bottom:"top"},j={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},W=function(e,t){var n=e.left,i=e.top;return"auto"===n&&(n=z[t.left]),"auto"===i&&(i=H[t.top]),{left:n,top:i}},q=function(e){var t=e.left,n=e.top;return"undefined"!=typeof j[e.left]&&(t=j[e.left]),"undefined"!=typeof j[e.top]&&(n=j[e.top]),{left:t,top:n}},U=function(e){var t=e.split(" "),n=I(t,2),i=n[0],r=n[1];return{top:i,left:r}},Y=U,V=function(e){function t(e){var n=this;i(this,t),R(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),F.push(this),this.history=[],this.setOptions(e,!1),k.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return v(t,e),C(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(i,e);var r=this.options,s=r.element,a=r.target,l=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),f(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&f(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Y(this.options.targetAttachment),this.attachment=Y(this.options.attachment),this.offset=U(this.options.offset),this.targetOffset=U(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return a(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=a(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),
t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=a(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var s=e.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,t={width:15,height:.975*s*(s/n.scrollHeight),left:e.left+e.width-parseFloat(i.borderLeftWidth)-15},l=0;408>s&&this.target===document.body&&(l=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var u=this.target.scrollTop/(n.scrollHeight-s);return t.top=u*(s-t.height-l)+e.top+parseFloat(i.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),F.forEach(function(t,n){t===e&&F.splice(n,1)}),0===F.length&&s()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var o=[];i.forEach(function(e){o.push(n.getClass("element-attached")+"-"+e),o.push(n.getClass("target-attached")+"-"+e)}),P(function(){"undefined"!=typeof n._addAttachClasses&&(g(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&g(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var n=W(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return a(e.element)}),r=i.width,o=i.height;if(0===r&&0===o&&"undefined"!=typeof this.lastSize){var s=this.lastSize;r=s.width,o=s.height}else this.lastSize={width:r,height:o};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c,f=w(q(this.attachment),{width:r,height:o}),h=w(q(n),d),p=w(this.offset,{width:r,height:o}),m=w(this.targetOffset,d);f=_(f,p),h=_(h,m);for(var g=c.left+h.left-f.left,v=c.top+h.top-f.top,y=0;y<k.modules.length;++y){var b=k.modules[y],x=b.position.call(this,{left:g,top:v,targetAttachment:n,targetPos:c,elementPos:i,offset:f,targetOffset:h,manualOffset:p,manualTargetOffset:m,scrollbarSize:E,attachment:this.attachment});if(x===!1)return!1;"undefined"!=typeof x&&"object"==typeof x&&(v=x.top,g=x.left)}var C={page:{top:v,left:g},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:g-pageXOffset,right:pageXOffset-g-r+innerWidth}},T=this.target.ownerDocument,S=T.defaultView,E=void 0;return S.innerHeight>T.documentElement.clientHeight&&(E=this.cache("scrollbar-size",u),C.viewport.bottom-=E.height),S.innerWidth>T.documentElement.clientWidth&&(E=this.cache("scrollbar-size",u),C.viewport.right-=E.width),(-1===["","static"].indexOf(T.body.style.position)||-1===["","static"].indexOf(T.body.parentElement.style.position))&&(C.page.bottom=T.body.scrollHeight-v-o,C.page.right=T.body.scrollWidth-g-r),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return a(t)}),i=getComputedStyle(t),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(e){o[e.toLowerCase()]=parseFloat(i["border"+e+"Width"])}),n.right=T.body.scrollWidth-n.left-r.width+o.right,n.bottom=T.body.scrollHeight-n.top-r.height+o.bottom,C.page.top>=n.top+o.top&&C.page.bottom>=n.bottom&&C.page.left>=n.left+o.left&&C.page.right>=n.right){var s=t.scrollTop,u=t.scrollLeft;C.offset={top:C.page.top-n.top+s-o.top,left:C.page.left-n.left+u-o.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),t&&O(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var i in e){n[i]={};for(var r in e[i]){for(var o=!1,s=0;s<this.history.length;++s){var a=this.history[s];if("undefined"!=typeof a[i]&&!y(a[i][r],e[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function(e,n){var i="undefined"!=typeof t.options.optimizations,r=i?t.options.optimizations.gpu:null;if(r!==!1){var o=void 0,s=void 0;if(e.top?(u.top=0,o=n.top):(u.bottom=0,o=-n.bottom),e.left?(u.left=0,s=n.left):(u.right=0,s=-n.right),window.matchMedia){var a=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;a||(s=Math.round(s),o=Math.round(o))}u[B]="translateX("+s+"px) translateY("+o+"px)","msTransform"!==B&&(u[B]+=" translateZ(0)")}else e.top?u.top=n.top+"px":u.bottom=n.bottom+"px",e.left?u.left=n.left+"px":u.right=n.right+"px"},f=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){u.position="absolute";var i=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==i&&P(function(){t.element.parentNode.removeChild(t.element),i.appendChild(t.element)}),d(n.offset,e.offset),f=!0}():(u.position="absolute",d({top:!0,left:!0},e.page)),!f)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var h=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){h=!1;break}p=p.parentNode}h||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var r in u){var v=u[r],b=this.element.style[r];b!==v&&(g=!0,m[r]=v)}g&&P(function(){c(t.element.style,m),t.trigger("repositioned")})}}}]),t}(M);V.modules=[],k.position=$;var X=c(V,k),I=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=k.Utils,a=L.getBounds,c=L.extend,g=L.updateClasses,P=L.defer,G=["left","top","right","bottom"];k.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(t.element)}),s=o.height,l=o.width;if(0===l&&0===s&&"undefined"!=typeof this.lastSize){var u=this.lastSize;l=u.width,s=u.height}var d=this.cache("target-bounds",function(){return t.getTargetBounds()}),f=d.height,h=d.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&p.push(t),n&&p.push(n)}),p.forEach(function(e){["left","top","right","bottom"].forEach(function(t){p.push(e+"-"+t)})});var m=[],v=c({},r),y=c({},this.attachment);return this.options.constraints.forEach(function(e){var o=e.to,a=e.attachment,u=e.pin;"undefined"==typeof a&&(a="");var c=void 0,d=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),g=I(p,2);d=g[0],c=g[1]}else c=d=a;var b=x(t,o);("target"===d||"both"===d)&&(n<b[1]&&"top"===v.top&&(n+=f,v.top="bottom"),n+s>b[3]&&"bottom"===v.top&&(n-=f,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===y.top&&n<b[1]?(n+=f,v.top="bottom",n+=s,y.top="top"):"top"===y.top&&n+s>b[3]&&n-(s-f)>=b[1]&&(n-=s-f,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+s>b[3]?(n-=f,v.top="top",n-=s,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*s-f)<=b[3]&&(n+=s-f,v.top="top",y.top="top")),"middle"===v.top&&(n+s>b[3]&&"top"===y.top?(n-=s,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"))),("target"===c||"both"===c)&&(i<b[0]&&"left"===v.left&&(i+=h,v.left="right"),i+l>b[2]&&"right"===v.left&&(i-=h,v.left="left")),"together"===c&&(i<b[0]&&"left"===v.left?"right"===y.left?(i+=h,v.left="right",i+=l,y.left="left"):"left"===y.left&&(i+=h,v.left="right",i-=l,y.left="right"):i+l>b[2]&&"right"===v.left?"left"===y.left?(i-=h,v.left="left",i-=l,y.left="right"):"right"===y.left&&(i-=h,v.left="left",i+=l,y.left="left"):"center"===v.left&&(i+l>b[2]&&"left"===y.left?(i-=l,y.left="right"):i<b[0]&&"right"===y.left&&(i+=l,y.left="left"))),("element"===d||"both"===d)&&(n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"),n+s>b[3]&&"top"===y.top&&(n-=s,y.top="bottom")),("element"===c||"both"===c)&&(i<b[0]&&("right"===y.left?(i+=l,y.left="left"):"center"===y.left&&(i+=l/2,y.left="left")),i+l>b[2]&&("left"===y.left?(i-=l,y.left="right"):"center"===y.left&&(i-=l/2,y.left="right"))),"string"==typeof u?u=u.split(",").map(function(e){return e.trim()}):u===!0&&(u=["top","left","right","bottom"]),u=u||[];var _=[],w=[];n<b[1]&&(u.indexOf("top")>=0?(n=b[1],_.push("top")):w.push("top")),n+s>b[3]&&(u.indexOf("bottom")>=0?(n=b[3]-s,_.push("bottom")):w.push("bottom")),i<b[0]&&(u.indexOf("left")>=0?(i=b[0],_.push("left")):w.push("left")),i+l>b[2]&&(u.indexOf("right")>=0?(i=b[2]-l,_.push("right")):w.push("right")),_.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),_.forEach(function(t){m.push(e+"-"+t)})}(),w.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),w.forEach(function(t){m.push(e+"-"+t)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(y.left=v.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(y.top=v.top=!1),(v.top!==r.top||v.left!==r.left||y.top!==t.attachment.top||y.left!==t.attachment.left)&&(t.updateAttachClasses(y,v),t.trigger("update",{attachment:y,targetAttachment:v}))}),P(function(){t.options.addTargetClasses!==!1&&g(t.target,m,p),g(t.element,m,p)}),{top:n,left:i}}});var L=k.Utils,a=L.getBounds,g=L.updateClasses,P=L.defer;k.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=this.cache("element-bounds",function(){return a(t.element)}),o=r.height,s=r.width,l=this.getTargetBounds(),u=n+o,c=i+s,d=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach(function(e){var t=l[e];(t===i||t===c)&&d.push(e)}),i<=l.right&&c>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];(t===n||t===u)&&d.push(e)});var f=[],h=[],p=["left","top","right","bottom"];return f.push(this.getClass("abutted")),p.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),d.length&&h.push(this.getClass("abutted")),d.forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),P(function(){t.options.addTargetClasses!==!1&&g(t.target,h,f),g(t.element,h,f)}),!0}});var I=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return k.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:t,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var s=i,a=I(s,2);r=a[0],o=a[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return t+=r,n+=o,{top:t,left:n}}}}),X}),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return t(n,e)}):t(e.jQuery,e)}(this,function(n,i){var r,o,s,a,l,u,c,d,f,h,p,m,g,v,y,b;return r=n(i),d=e.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,c={},u="waypoints-context-id",p="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",y="waypoint",b="waypoints",o=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(u,this.id),c[this.id]=this,e.bind(m,function(){var e;return t.didScroll||d?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},i.setTimeout(e,n[b].settings.scrollThrottle))}),e.bind(p,function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return n[b]("refresh"),t.didResize=!1},i.setTimeout(e,n[b].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!d||e.vertical.oldScroll&&e.vertical.newScroll||n[b]("refresh"),n.each(e,function(e,i){var r,o,s;return s=[],o=i.newScroll>i.oldScroll,r=o?i.forward:i.backward,n.each(t.waypoints[e],function(e,t){var n,r;return i.oldScroll<(n=t.offset)&&n<=i.newScroll?s.push(t):i.newScroll<(r=t.offset)&&r<=i.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),o||s.reverse(),n.each(s,function(e,t){return t.options.continuous||e===s.length-1?t.trigger([r]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,i,r=this;return i=n.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:i?0:t.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:t.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(e,function(e,t){return n.each(r.waypoints[e],function(e,i){var r,o,s,a,l;return r=i.options.offset,s=i.offset,o=n.isWindow(i.element)?0:i.$element.offset()[t.offsetProp],n.isFunction(r)?r=r.apply(i.element):"string"==typeof r&&(r=parseFloat(r),i.options.offset.indexOf("%")>-1&&(r=Math.ceil(t.contextDimension*r/100))),i.offset=o-t.contextOffset+t.contextScroll-r,i.options.onlyOnScroll&&null!=s||!i.enabled?void 0:null!==s&&s<(a=t.oldScroll)&&a<=i.offset?i.trigger([t.backward]):null!==s&&s>(l=t.oldScroll)&&l>=i.offset?i.trigger([t.forward]):null===s&&t.oldScroll>=i.offset?i.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,m].join(" ")),delete c[this.id]):void 0},e}(),s=function(){function e(e,t,i){var r,o;i=n.extend({},n.fn[y].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var e;return e=n[b]("viewportHeight"),n.isWindow(t.element)||(e=t.$element.height()),e-n(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=t,this.enabled=i.enabled,this.id="waypoints"+g++,this.offset=null,this.options=i,t.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,r=null!=(o=e.data(v))?o:[],r.push(this.id),e.data(v,r)}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,i;return(i=n(e).data(v))?(t=n.extend({},a.horizontal,a.vertical),n.map(i,function(e){return t[e]})):[]},e}(),h={init:function(e,t){var i;return null==t&&(t={}),null==(i=t.handler)&&(t.handler=e),this.each(function(){var e,i,r,a;return e=n(this),r=null!=(a=t.context)?a:n.fn[y].defaults.context,n.isWindow(r)||(r=e.closest(r)),r=n(r),i=c[r.data(u)],i||(i=new o(r)),new s(e,i,t)}),n[b]("refresh"),this},disable:function(){return h._invoke(this,"disable")},enable:function(){return h._invoke(this,"enable")},destroy:function(){return h._invoke(this,"destroy")},prev:function(e,t){return h._traverse.call(this,e,t,function(e,t,n){return t>0?e.push(n[t-1]):void 0})},next:function(e,t){return h._traverse.call(this,e,t,function(e,t,n){return t<n.length-1?e.push(n[t+1]):void 0})},_traverse:function(e,t,r){var o,s;return null==e&&(e="vertical"),null==t&&(t=i),s=f.aggregate(t),o=[],this.each(function(){var t;return t=n.inArray(this,s[e]),r(o,t,s[e])}),this.pushStack(o)},_invoke:function(e,t){return e.each(function(){var e;return e=s.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[y]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[i]?h[i].apply(this,e):n.isFunction(i)?h.init.apply(this,arguments):n.isPlainObject(i)?h.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[y].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},f={refresh:function(){return n.each(c,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=i.innerHeight)?e:r.height()},aggregate:function(e){var t,i,r;return t=a,e&&(t=null!=(r=c[n(e).data(u)])?r.waypoints:void 0),t?(i={horizontal:[],vertical:[]},n.each(i,function(e,r){return n.each(t[e],function(e,t){return r.push(t)}),r.sort(function(e,t){return e.offset-t.offset}),i[e]=n.map(r,function(e){return e.element}),i[e]=n.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=i),f._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=i),f._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=i),f._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=i),f._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return f._invoke("enable")},disable:function(){return f._invoke("disable")},destroy:function(){return f._invoke("destroy")},extendFn:function(e,t){return h[e]=t},_invoke:function(e){var t;return t=n.extend({},a.vertical,a.horizontal),n.each(t,function(t,n){return n[e](),!0})},_filter:function(e,t,i){var r,o;return(r=c[n(e).data(u)])?(o=[],n.each(r.waypoints[t],function(e,t){return i(r,t)?o.push(t):void 0}),o.sort(function(e,t){return e.offset-t.offset}),n.map(o,function(e){return e.element})):[]}},n[b]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],f[n]?f[n].apply(null,e):f.aggregate.call(null,n)},n[b].settings={resizeThrottle:100,scrollThrottle:30},r.load(function(){return n[b]("refresh")})})}.call(this);var Util=function(e){function t(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e){return(e[0]||e).nodeType}function i(){return{bindType:a.end,delegateType:a.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}}}function r(){if(window.QUnit)return!1;var e=document.createElement("bootstrap");for(var t in l)if(void 0!==e.style[t])return{end:l[t]};return!1}function o(t){var n=this,i=!1;return e(this).one(u.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||u.triggerTransitionEnd(n)},t),this}function s(){a=r(),e.fn.emulateTransitionEnd=o,u.supportsTransitionEnd()&&(e.event.special[u.TRANSITION_END]=i())}var a=!1,l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},u={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");return t||(t=e.getAttribute("href")||"",t=/^#[a-z]/i.test(t)?t:null),t},reflow:function(e){new Function("bs","return bs")(e.offsetHeight)},triggerTransitionEnd:function(t){e(t).trigger(a.end)},supportsTransitionEnd:function(){return Boolean(a)},typeCheckConfig:function(e,i,r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],a=i[o],l=void 0;if(l=a&&n(a)?"element":t(a),!new RegExp(s).test(l))throw new Error(e.toUpperCase()+": "+('Option "'+o+'" provided type "'+l+'" ')+('but expected type "'+s+'".'))}}};return s(),u}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Alert=function(e){var t="alert",n="4.0.0-alpha",i="bs.alert",r="."+i,o=".data-api",s=e.fn[t],a=150,l={DISMISS:'[data-dismiss="alert"]'},u={CLOSE:"close"+r,CLOSED:"closed"+r,CLICK_DATA_API:"click"+r+o},c={ALERT:"alert",FADE:"fade",IN:"in"},d=function(){function t(e){_classCallCheck(this,t),this._element=e}return _createClass(t,[{key:"close",value:function(e){e=e||this._element;var t=this._getRootElement(e),n=this._triggerCloseEvent(t);n.isDefaultPrevented()||this._removeElement(t)}},{key:"dispose",value:function(){e.removeData(this._element,i),this._element=null}},{key:"_getRootElement",value:function(t){var n=Util.getSelectorFromElement(t),i=!1;return n&&(i=e(n)[0]),i||(i=e(t).closest("."+c.ALERT)[0]),i}},{key:"_triggerCloseEvent",value:function(t){var n=e.Event(u.CLOSE);return e(t).trigger(n),n}},{key:"_removeElement",value:function(t){return e(t).removeClass(c.IN),Util.supportsTransitionEnd()&&e(t).hasClass(c.FADE)?void e(t).one(Util.TRANSITION_END,e.proxy(this._destroyElement,this,t)).emulateTransitionEnd(a):void this._destroyElement(t)}},{key:"_destroyElement",value:function(t){e(t).detach().trigger(u.CLOSED).remove()}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var r=e(this),o=r.data(i);o||(o=new t(this),r.data(i,o)),"close"===n&&o[n](this)})}},{key:"_handleDismiss",value:function(e){return function(t){t&&t.preventDefault(),e.close(this)}}},{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(u.CLICK_DATA_API,l.DISMISS,d._handleDismiss(new d)),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=s,d._jQueryInterface},d}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Button=function(e){var t="button",n="4.0.0-alpha",i="bs.button",r="."+i,o=".data-api",s=e.fn[t],a={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},l={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:"click"+r+o,FOCUS_BLUR_DATA_API:"focus"+r+o+" "+("blur"+r+o)},c=function(){function t(e){_classCallCheck(this,t),this._element=e}return _createClass(t,[{key:"toggle",value:function(){var t=!0,n=e(this._element).closest(l.DATA_TOGGLE)[0];if(n){var i=e(this._element).find(l.INPUT)[0];if(i){if("radio"===i.type)if(i.checked&&e(this._element).hasClass(a.ACTIVE))t=!1;else{var r=e(n).find(l.ACTIVE)[0];r&&e(r).removeClass(a.ACTIVE)}t&&(i.checked=!e(this._element).hasClass(a.ACTIVE),e(this._element).trigger("change"))}}else this._element.setAttribute("aria-pressed",!e(this._element).hasClass(a.ACTIVE));t&&e(this._element).toggleClass(a.ACTIVE)}},{key:"dispose",value:function(){e.removeData(this._element,i),this._element=null}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var r=e(this).data(i);r||(r=new t(this),e(this).data(i,r)),"toggle"===n&&r[n]()})}},{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(u.CLICK_DATA_API,l.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var n=t.target;e(n).hasClass(a.BUTTON)||(n=e(n).closest(l.BUTTON)),c._jQueryInterface.call(e(n),"toggle")}).on(u.FOCUS_BLUR_DATA_API,l.DATA_TOGGLE_CARROT,function(t){var n=e(t.target).closest(l.BUTTON)[0];e(n).toggleClass(a.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=s,c._jQueryInterface},c}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Carousel=function(e){var t="carousel",n="4.0.0-alpha",i="bs.carousel",r="."+i,o=".data-api",s=e.fn[t],a=600,l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c={NEXT:"next",PREVIOUS:"prev"},d={SLIDE:"slide"+r,SLID:"slid"+r,KEYDOWN:"keydown"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r,LOAD_DATA_API:"load"+r+o,CLICK_DATA_API:"click"+r+o},f={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"right",LEFT:"left",ITEM:"carousel-item"},h={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".next, .prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},p=function(){function o(t,n){_classCallCheck(this,o),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=e(this._element).find(h.INDICATORS)[0],this._addEventListeners()}return _createClass(o,[{key:"next",value:function(){this._isSliding||this._slide(c.NEXT)}},{key:"nextWhenVisible",value:function(){document.hidden||this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(c.PREVIOUS)}},{key:"pause",value:function(t){t||(this._isPaused=!0),e(this._element).find(h.NEXT_PREV)[0]&&Util.supportsTransitionEnd()&&(Util.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval(e.proxy(document.visibilityState?this.nextWhenVisible:this.next,this),this._config.interval))}},{key:"to",value:function(t){var n=this;this._activeElement=e(this._element).find(h.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||0>t)){if(this._isSliding)return void e(this._element).one(d.SLID,function(){return n.to(t)});if(i===t)return this.pause(),void this.cycle();var r=t>i?c.NEXT:c.PREVIOUS;this._slide(r,this._items[t])}}},{key:"dispose",value:function(){e(this._element).off(r),e.removeData(this._element,i),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(n){return n=e.extend({},l,n),Util.typeCheckConfig(t,n,u),n}},{key:"_addEventListeners",value:function(){this._config.keyboard&&e(this._element).on(d.KEYDOWN,e.proxy(this._keydown,this)),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||e(this._element).on(d.MOUSEENTER,e.proxy(this.pause,this)).on(d.MOUSELEAVE,e.proxy(this.cycle,this))}},{key:"_keydown",value:function(e){if(e.preventDefault(),!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}}},{key:"_getItemIndex",value:function(t){return this._items=e.makeArray(e(t).parent().find(h.ITEM)),this._items.indexOf(t)}},{key:"_getItemByDirection",value:function(e,t){var n=e===c.NEXT,i=e===c.PREVIOUS,r=this._getItemIndex(t),o=this._items.length-1,s=i&&0===r||n&&r===o;if(s&&!this._config.wrap)return t;var a=e===c.PREVIOUS?-1:1,l=(r+a)%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]}},{key:"_triggerSlideEvent",value:function(t,n){var i=e.Event(d.SLIDE,{relatedTarget:t,direction:n});return e(this._element).trigger(i),i}},{key:"_setActiveIndicatorElement",value:function(t){if(this._indicatorsElement){e(this._indicatorsElement).find(h.ACTIVE).removeClass(f.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(f.ACTIVE)}}},{key:"_slide",value:function(t,n){var i=this,r=e(this._element).find(h.ACTIVE_ITEM)[0],o=n||r&&this._getItemByDirection(t,r),s=Boolean(this._interval),l=t===c.NEXT?f.LEFT:f.RIGHT;if(o&&e(o).hasClass(f.ACTIVE))return void(this._isSliding=!1);var u=this._triggerSlideEvent(o,l);if(!u.isDefaultPrevented()&&r&&o){this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o);var p=e.Event(d.SLID,{relatedTarget:o,direction:l});Util.supportsTransitionEnd()&&e(this._element).hasClass(f.SLIDE)?(e(o).addClass(t),Util.reflow(o),e(r).addClass(l),e(o).addClass(l),e(r).one(Util.TRANSITION_END,function(){e(o).removeClass(l).removeClass(t),e(o).addClass(f.ACTIVE),e(r).removeClass(f.ACTIVE).removeClass(t).removeClass(l),i._isSliding=!1,setTimeout(function(){return e(i._element).trigger(p)},0)}).emulateTransitionEnd(a)):(e(r).removeClass(f.ACTIVE),e(o).addClass(f.ACTIVE),this._isSliding=!1,e(this._element).trigger(p)),s&&this.cycle()}}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this).data(i),r=e.extend({},l,e(this).data());"object"==typeof t&&e.extend(r,t);var s="string"==typeof t?t:r.slide;if(n||(n=new o(this,r),e(this).data(i,n)),"number"==typeof t)n.to(t);else if("string"==typeof s){if(void 0===n[s])throw new Error('No method named "'+s+'"');n[s]()}else r.interval&&(n.pause(),n.cycle())})}},{key:"_dataApiClickHandler",value:function(t){var n=Util.getSelectorFromElement(this);if(n){var r=e(n)[0];if(r&&e(r).hasClass(f.CAROUSEL)){var s=e.extend({},e(r).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(s.interval=!1),o._jQueryInterface.call(e(r),s),a&&e(r).data(i).to(a),t.preventDefault()}}}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return l}}]),o}();return e(document).on(d.CLICK_DATA_API,h.DATA_SLIDE,p._dataApiClickHandler),e(window).on(d.LOAD_DATA_API,function(){e(h.DATA_RIDE).each(function(){var t=e(this);p._jQueryInterface.call(t,t.data())})}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=s,p._jQueryInterface},p}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Collapse=function(e){var t="collapse",n="4.0.0-alpha",i="bs.collapse",r="."+i,o=".data-api",s=e.fn[t],a=600,l={toggle:!0,parent:""},u={toggle:"boolean",parent:"string"},c={SHOW:"show"+r,SHOWN:"shown"+r,HIDE:"hide"+r,HIDDEN:"hidden"+r,CLICK_DATA_API:"click"+r+o},d={IN:"in",COLLAPSE:"collapse",
COLLAPSING:"collapsing",COLLAPSED:"collapsed"},f={WIDTH:"width",HEIGHT:"height"},h={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},p=function(){function r(t,n){_classCallCheck(this,r),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return _createClass(r,[{key:"toggle",value:function(){e(this._element).hasClass(d.IN)?this.hide():this.show()}},{key:"show",value:function(){var t=this;if(!this._isTransitioning&&!e(this._element).hasClass(d.IN)){var n=void 0,o=void 0;if(this._parent&&(n=e.makeArray(e(h.ACTIVES)),n.length||(n=null)),!(n&&(o=e(n).data(i),o&&o._isTransitioning))){var s=e.Event(c.SHOW);if(e(this._element).trigger(s),!s.isDefaultPrevented()){n&&(r._jQueryInterface.call(e(n),"hide"),o||e(n).data(i,null));var l=this._getDimension();e(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[l]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&e(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){e(t._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.IN),t._element.style[l]="",t.setTransitioning(!1),e(t._element).trigger(c.SHOWN)};if(!Util.supportsTransitionEnd())return void u();var f=l[0].toUpperCase()+l.slice(1),p="scroll"+f;e(this._element).one(Util.TRANSITION_END,u).emulateTransitionEnd(a),this._element.style[l]=this._element[p]+"px"}}}}},{key:"hide",value:function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(d.IN)){var n=e.Event(c.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension(),r=i===f.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[r]+"px",Util.reflow(this._element),e(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&e(this._triggerArray).addClass(d.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var o=function(){t.setTransitioning(!1),e(t._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(c.HIDDEN)};return this._element.style[i]=0,Util.supportsTransitionEnd()?void e(this._element).one(Util.TRANSITION_END,o).emulateTransitionEnd(a):void o()}}}},{key:"setTransitioning",value:function(e){this._isTransitioning=e}},{key:"dispose",value:function(){e.removeData(this._element,i),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(n){return n=e.extend({},l,n),n.toggle=Boolean(n.toggle),Util.typeCheckConfig(t,n,u),n}},{key:"_getDimension",value:function(){var t=e(this._element).hasClass(f.WIDTH);return t?f.WIDTH:f.HEIGHT}},{key:"_getParent",value:function(){var t=this,n=e(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(i).each(function(e,n){t._addAriaAndCollapsedClass(r._getTargetFromElement(n),[n])}),n}},{key:"_addAriaAndCollapsedClass",value:function(t,n){if(t){var i=e(t).hasClass(d.IN);t.setAttribute("aria-expanded",i),n.length&&e(n).toggleClass(d.COLLAPSED,!i).attr("aria-expanded",i)}}}],[{key:"_getTargetFromElement",value:function(t){var n=Util.getSelectorFromElement(t);return n?e(n)[0]:null}},{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this),o=n.data(i),s=e.extend({},l,n.data(),"object"==typeof t&&t);if(!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||(o=new r(this,s),n.data(i,o)),"string"==typeof t){if(void 0===o[t])throw new Error('No method named "'+t+'"');o[t]()}})}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return l}}]),r}();return e(document).on(c.CLICK_DATA_API,h.DATA_TOGGLE,function(t){t.preventDefault();var n=p._getTargetFromElement(this),r=e(n).data(i),o=r?"toggle":e(this).data();p._jQueryInterface.call(e(n),o)}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=s,p._jQueryInterface},p}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Dropdown=function(e){var t="dropdown",n="4.0.0-alpha",i="bs.dropdown",r="."+i,o=".data-api",s=e.fn[t],a={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+o,KEYDOWN_DATA_API:"keydown"+r+o},l={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",OPEN:"open"},u={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},c=function(){function t(e){_classCallCheck(this,t),this._element=e,this._addEventListeners()}return _createClass(t,[{key:"toggle",value:function(){if(this.disabled||e(this).hasClass(l.DISABLED))return!1;var n=t._getParentFromElement(this),i=e(n).hasClass(l.OPEN);if(t._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!e(n).closest(u.NAVBAR_NAV).length){var r=document.createElement("div");r.className=l.BACKDROP,e(r).insertBefore(this),e(r).on("click",t._clearMenus)}var o={relatedTarget:this},s=e.Event(a.SHOW,o);return e(n).trigger(s),s.isDefaultPrevented()?!1:(this.focus(),this.setAttribute("aria-expanded","true"),e(n).toggleClass(l.OPEN),e(n).trigger(e.Event(a.SHOWN,o)),!1)}},{key:"dispose",value:function(){e.removeData(this._element,i),e(this._element).off(r),this._element=null}},{key:"_addEventListeners",value:function(){e(this._element).on(a.CLICK,this.toggle)}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var r=e(this).data(i);if(r||e(this).data(i,r=new t(this)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n].call(this)}})}},{key:"_clearMenus",value:function(n){if(!n||3!==n.which){var i=e(u.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var r=e.makeArray(e(u.DATA_TOGGLE)),o=0;o<r.length;o++){var s=t._getParentFromElement(r[o]),c={relatedTarget:r[o]};if(e(s).hasClass(l.OPEN)&&!(n&&"click"===n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(s,n.target))){var d=e.Event(a.HIDE,c);e(s).trigger(d),d.isDefaultPrevented()||(r[o].setAttribute("aria-expanded","false"),e(s).removeClass(l.OPEN).trigger(e.Event(a.HIDDEN,c)))}}}}},{key:"_getParentFromElement",value:function(t){var n=void 0,i=Util.getSelectorFromElement(t);return i&&(n=e(i)[0]),n||t.parentNode}},{key:"_dataApiKeydownHandler",value:function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(l.DISABLED))){var i=t._getParentFromElement(this),r=e(i).hasClass(l.OPEN);if(!r&&27!==n.which||r&&27===n.which){if(27===n.which){var o=e(i).find(u.DATA_TOGGLE)[0];e(o).trigger("focus")}return void e(this).trigger("click")}var s=e.makeArray(e(u.VISIBLE_ITEMS));if(s=s.filter(function(e){return e.offsetWidth||e.offsetHeight}),s.length){var a=s.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<s.length-1&&a++,~a||(a=0),s[a].focus()}}}},{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(a.KEYDOWN_DATA_API,u.DATA_TOGGLE,c._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,u.ROLE_MENU,c._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,u.ROLE_LISTBOX,c._dataApiKeydownHandler).on(a.CLICK_DATA_API,c._clearMenus).on(a.CLICK_DATA_API,u.DATA_TOGGLE,c.prototype.toggle).on(a.CLICK_DATA_API,u.FORM_CHILD,function(e){e.stopPropagation()}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=s,c._jQueryInterface},c}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Modal=function(e){var t="modal",n="4.0.0-alpha",i="bs.modal",r="."+i,o=".data-api",s=e.fn[t],a=300,l=150,u={backdrop:!0,keyboard:!0,focus:!0,show:!0},c={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,FOCUSIN:"focusin"+r,RESIZE:"resize"+r,CLICK_DISMISS:"click.dismiss"+r,KEYDOWN_DISMISS:"keydown.dismiss"+r,MOUSEUP_DISMISS:"mouseup.dismiss"+r,MOUSEDOWN_DISMISS:"mousedown.dismiss"+r,CLICK_DATA_API:"click"+r+o},f={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in"},h={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".navbar-fixed-top, .navbar-fixed-bottom, .is-fixed"},p=function(){function o(t,n){_classCallCheck(this,o),this._config=this._getConfig(n),this._element=t,this._dialog=e(t).find(h.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return _createClass(o,[{key:"toggle",value:function(e){return this._isShown?this.hide():this.show(e)}},{key:"show",value:function(t){var n=this,i=e.Event(d.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),e(document.body).addClass(f.OPEN),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(d.CLICK_DISMISS,h.DATA_DISMISS,e.proxy(this.hide,this)),e(this._dialog).on(d.MOUSEDOWN_DISMISS,function(){e(n._element).one(d.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(e.proxy(this._showElement,this,t)))}},{key:"hide",value:function(t){t&&t.preventDefault();var n=e.Event(d.HIDE);e(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),e(document).off(d.FOCUSIN),e(this._element).removeClass(f.IN),e(this._element).off(d.CLICK_DISMISS),e(this._dialog).off(d.MOUSEDOWN_DISMISS),Util.supportsTransitionEnd()&&e(this._element).hasClass(f.FADE)?e(this._element).one(Util.TRANSITION_END,e.proxy(this._hideModal,this)).emulateTransitionEnd(a):this._hideModal())}},{key:"dispose",value:function(){e.removeData(this._element,i),e(window).off(r),e(document).off(r),e(this._element).off(r),e(this._backdrop).off(r),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null}},{key:"_getConfig",value:function(n){return n=e.extend({},u,n),Util.typeCheckConfig(t,n,c),n}},{key:"_showElement",value:function(t){var n=this,i=Util.supportsTransitionEnd()&&e(this._element).hasClass(f.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.scrollTop=0,i&&Util.reflow(this._element),e(this._element).addClass(f.IN),this._config.focus&&this._enforceFocus();var r=e.Event(d.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),e(n._element).trigger(r)};i?e(this._dialog).one(Util.TRANSITION_END,o).emulateTransitionEnd(a):o()}},{key:"_enforceFocus",value:function(){var t=this;e(document).off(d.FOCUSIN).on(d.FOCUSIN,function(n){t._element===n.target||e(t._element).has(n.target).length||t._element.focus()})}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(d.KEYDOWN_DISMISS,function(e){27===e.which&&t.hide()}):this._isShown||e(this._element).off(d.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function(){this._isShown?e(window).on(d.RESIZE,e.proxy(this._handleUpdate,this)):e(window).off(d.RESIZE)}},{key:"_hideModal",value:function(){var t=this;this._element.style.display="none",this._showBackdrop(function(){e(document.body).removeClass(f.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(d.HIDDEN)})}},{key:"_removeBackdrop",value:function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function(t){var n=this,i=e(this._element).hasClass(f.FADE)?f.FADE:"";if(this._isShown&&this._config.backdrop){var r=Util.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=f.BACKDROP,i&&e(this._backdrop).addClass(i),e(this._backdrop).appendTo(document.body),e(this._element).on(d.CLICK_DISMISS,function(e){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),r&&Util.reflow(this._backdrop),e(this._backdrop).addClass(f.IN),!t)return;if(!r)return void t();e(this._backdrop).one(Util.TRANSITION_END,t).emulateTransitionEnd(l)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(f.IN);var o=function(){n._removeBackdrop(),t&&t()};Util.supportsTransitionEnd()&&e(this._element).hasClass(f.FADE)?e(this._backdrop).one(Util.TRANSITION_END,o).emulateTransitionEnd(l):o()}else t&&t()}},{key:"_handleUpdate",value:function(){this._adjustDialog()}},{key:"_adjustDialog",value:function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px~")}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this._isBodyOverflowing=document.body.clientWidth<e,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var t=parseInt(e(h.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=t+this._scrollbarWidth+"px")}},{key:"_resetScrollbar",value:function(){document.body.style.paddingRight=this._originalBodyPadding}},{key:"_getScrollbarWidth",value:function(){var e=document.createElement("div");e.className=f.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}}],[{key:"_jQueryInterface",value:function(t,n){return this.each(function(){var r=e(this).data(i),s=e.extend({},o.Default,e(this).data(),"object"==typeof t&&t);if(r||(r=new o(this,s),e(this).data(i,r)),"string"==typeof t){if(void 0===r[t])throw new Error('No method named "'+t+'"');r[t](n)}else s.show&&r.show(n)})}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return u}}]),o}();return e(document).on(d.CLICK_DATA_API,h.DATA_TOGGLE,function(t){var n=this,r=void 0,o=Util.getSelectorFromElement(this);o&&(r=e(o)[0]);var s=e(r).data(i)?"toggle":e.extend({},e(r).data(),e(this).data());"A"===this.tagName&&t.preventDefault();var a=e(r).one(d.SHOW,function(t){t.isDefaultPrevented()||a.one(d.HIDDEN,function(){e(n).is(":visible")&&n.focus()})});p._jQueryInterface.call(e(r),s,this)}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=s,p._jQueryInterface},p}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ScrollSpy=function(e){var t="scrollspy",n="4.0.0-alpha",i="bs.scrollspy",r="."+i,o=".data-api",s=e.fn[t],a={offset:10,method:"auto",target:""},l={offset:"number",method:"string",target:"(string|element)"},u={ACTIVATE:"activate"+r,SCROLL:"scroll"+r,LOAD_DATA_API:"load"+r+o},c={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},d={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},f={OFFSET:"offset",POSITION:"position"},h=function(){function o(t,n){_classCallCheck(this,o),this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+d.NAV_LINKS+","+(this._config.target+" "+d.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(u.SCROLL,e.proxy(this._process,this)),this.refresh(),this._process()}return _createClass(o,[{key:"refresh",value:function(){var t=this,n=this._scrollElement!==this._scrollElement.window?f.POSITION:f.OFFSET,i="auto"===this._config.method?n:this._config.method,r=i===f.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=e.makeArray(e(this._selector));o.map(function(t){var n=void 0,o=Util.getSelectorFromElement(t);return o&&(n=e(o)[0]),n&&(n.offsetWidth||n.offsetHeight)?[e(n)[i]().top+r,o]:void 0}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})}},{key:"dispose",value:function(){e.removeData(this._element,i),e(this._scrollElement).off(r),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}},{key:"_getConfig",value:function(n){if(n=e.extend({},a,n),"string"!=typeof n.target){var i=e(n.target).attr("id");i||(i=Util.getUID(t),e(n.target).attr("id",i)),n.target="#"+i}return Util.typeCheckConfig(t,n,l),n}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.scrollY:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_process",value:function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._scrollElement.offsetHeight;if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}if(this._activeTarget&&e<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;){var o=this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1]);o&&this._activate(this._targets[r])}}},{key:"_activate",value:function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map(function(e){return e+'[data-target="'+t+'"],'+(e+'[href="'+t+'"]')});var i=e(n.join(","));i.hasClass(c.DROPDOWN_ITEM)?(i.closest(d.DROPDOWN).find(d.DROPDOWN_TOGGLE).addClass(c.ACTIVE),i.addClass(c.ACTIVE)):i.parents(d.LI).find(d.NAV_LINKS).addClass(c.ACTIVE),e(this._scrollElement).trigger(u.ACTIVATE,{relatedTarget:t})}},{key:"_clear",value:function(){e(this._selector).filter(d.ACTIVE).removeClass(c.ACTIVE)}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this).data(i),r="object"==typeof t&&t||null;if(n||(n=new o(this,r),e(this).data(i,n)),"string"==typeof t){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return a}}]),o}();return e(window).on(u.LOAD_DATA_API,function(){for(var t=e.makeArray(e(d.DATA_SPY)),n=t.length;n--;){var i=e(t[n]);h._jQueryInterface.call(i,i.data())}}),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=s,h._jQueryInterface},h}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Tab=function(e){var t="tab",n="4.0.0-alpha",i="bs.tab",r="."+i,o=".data-api",s=e.fn[t],a=150,l={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK_DATA_API:"click"+r+o},u={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",FADE:"fade",IN:"in"},c={A:"a",LI:"li",DROPDOWN:".dropdown",UL:"ul:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},d=function(){function t(e){_classCallCheck(this,t),this._element=e}return _createClass(t,[{key:"show",value:function(){var t=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!e(this._element).hasClass(u.ACTIVE)){var n=void 0,i=void 0,r=e(this._element).closest(c.UL)[0],o=Util.getSelectorFromElement(this._element);r&&(i=e.makeArray(e(r).find(c.ACTIVE)),i=i[i.length-1]);var s=e.Event(l.HIDE,{relatedTarget:this._element}),a=e.Event(l.SHOW,{relatedTarget:i});if(i&&e(i).trigger(s),e(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(n=e(o)[0]),this._activate(this._element,r);var d=function(){var n=e.Event(l.HIDDEN,{relatedTarget:t._element}),r=e.Event(l.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}}},{key:"dispose",value:function(){e.removeClass(this._element,i),this._element=null}},{key:"_activate",value:function(t,n,i){var r=e(n).find(c.ACTIVE_CHILD)[0],o=i&&Util.supportsTransitionEnd()&&(r&&e(r).hasClass(u.FADE)||Boolean(e(n).find(c.FADE_CHILD)[0])),s=e.proxy(this._transitionComplete,this,t,r,o,i);r&&o?e(r).one(Util.TRANSITION_END,s).emulateTransitionEnd(a):s(),r&&e(r).removeClass(u.IN)}},{key:"_transitionComplete",value:function(t,n,i,r){if(n){e(n).removeClass(u.ACTIVE);var o=e(n).find(c.DROPDOWN_ACTIVE_CHILD)[0];o&&e(o).removeClass(u.ACTIVE),n.setAttribute("aria-expanded",!1)}if(e(t).addClass(u.ACTIVE),t.setAttribute("aria-expanded",!0),i?(Util.reflow(t),e(t).addClass(u.IN)):e(t).removeClass(u.FADE),t.parentNode&&e(t.parentNode).hasClass(u.DROPDOWN_MENU)){var s=e(t).closest(c.DROPDOWN)[0];s&&e(s).find(c.DROPDOWN_TOGGLE).addClass(u.ACTIVE),t.setAttribute("aria-expanded",!0)}r&&r()}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var r=e(this),o=r.data(i);if(o||(o=o=new t(this),r.data(i,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})}},{key:"VERSION",get:function(){return n}}]),t}();return e(document).on(l.CLICK_DATA_API,c.DATA_TOGGLE,function(t){t.preventDefault(),d._jQueryInterface.call(e(this),"show")}),e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=s,d._jQueryInterface},d}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Tooltip=function(e){if(void 0===window.Tether)throw new Error("Bootstrap tooltips require Tether (http://github.hubspot.com/tether/)");var t="tooltip",n="4.0.0-alpha",i="bs.tooltip",r="."+i,o=e.fn[t],s=150,a="bs-tether",l={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[]},u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array"},c={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},d={IN:"in",OUT:"out"},f={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},h={FADE:"fade",IN:"in"},p={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},m={element:!1,enabled:!1},g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},v=function(){function o(e,t){_classCallCheck(this,o),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._tether=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}return _createClass(o,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(t){if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(h.IN))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),this.cleanupTether(),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null}},{key:"show",value:function(){var t=this,n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);var i=e.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var r=this.getTipElement(),s=Util.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(r).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,u=this._getAttachment(l);e(r).data(this.constructor.DATA_KEY,this).appendTo(document.body),e(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:u,element:r,target:this.element,classes:m,classPrefix:a,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),Util.reflow(r),this._tether.position(),e(r).addClass(h.IN);var c=function(){var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===d.OUT&&t._leave(null,t)};if(Util.supportsTransitionEnd()&&e(this.tip).hasClass(h.FADE))return void e(this.tip).one(Util.TRANSITION_END,c).emulateTransitionEnd(o._TRANSITION_DURATION);c()}}},{key:"hide",value:function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==d.IN&&i.parentNode&&i.parentNode.removeChild(i),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),n.cleanupTether(),t&&t()};e(this.element).trigger(r),r.isDefaultPrevented()||(e(i).removeClass(h.IN),Util.supportsTransitionEnd()&&e(this.tip).hasClass(h.FADE)?e(i).one(Util.TRANSITION_END,o).emulateTransitionEnd(s):o(),this._hoverState="")}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){return this.tip=this.tip||e(this.config.template)[0]}},{key:"setContent",value:function(){var t=e(this.getTipElement());this.setElementContent(t.find(p.TOOLTIP_INNER),this.getTitle()),t.removeClass(h.FADE).removeClass(h.IN),this.cleanupTether()}},{key:"setElementContent",value:function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)}},{key:"getTitle",value:function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e}},{key:"cleanupTether",value:function(){this._tether&&this._tether.destroy()}},{key:"_getAttachment",value:function(e){return c[e.toUpperCase()]}},{key:"_setListeners",value:function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,e.proxy(t.toggle,t));else if(n!==g.MANUAL){var i=n===g.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===g.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,e.proxy(t._enter,t)).on(r,t.config.selector,e.proxy(t._leave,t))}}),this.config.selector?this.config=e.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}},{key:"_enter",value:function(t,n){var i=this.constructor.DATA_KEY;return n=n||e(t.currentTarget).data(i),n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?g.FOCUS:g.HOVER]=!0),e(n.getTipElement()).hasClass(h.IN)||n._hoverState===d.IN?void(n._hoverState=d.IN):(clearTimeout(n._timeout),n._hoverState=d.IN,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===d.IN&&n.show()},n.config.delay.show)):void n.show())}},{key:"_leave",value:function(t,n){var i=this.constructor.DATA_KEY;return n=n||e(t.currentTarget).data(i),n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?g.FOCUS:g.HOVER]=!1),n._isWithActiveTrigger()?void 0:(clearTimeout(n._timeout),n._hoverState=d.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===d.OUT&&n.hide()},n.config.delay.hide)):void n.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}},{key:"_getConfig",value:function(n){return n=e.extend({},this.constructor.Default,e(this.element).data(),n),n.delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),Util.typeCheckConfig(t,n,this.constructor.DefaultType),n}},{key:"_getDelegateConfig",value:function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this).data(i),r="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new o(this,r),e(this).data(i,n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return l}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return u}}]),o}();return e.fn[t]=v._jQueryInterface,e.fn[t].Constructor=v,e.fn[t].noConflict=function(){return e.fn[t]=o,v._jQueryInterface},v}(jQuery),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function(e,t,n){for(var i=!0;i;){var r=e,o=t,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return void 0;e=u,t=o,n=s,i=!0,a=u=void 0}},Popover=function(e){var t="popover",n="4.0.0-alpha",i="bs.popover",r="."+i,o=e.fn[t],s=e.extend({},Tooltip.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a=e.extend({},Tooltip.DefaultType,{content:"(string|element|function)"}),l={FADE:"fade",IN:"in"},u={TITLE:".popover-title",
CONTENT:".popover-content",ARROW:".popover-arrow"},c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},d=function(o){function d(){_classCallCheck(this,d),_get(Object.getPrototypeOf(d.prototype),"constructor",this).apply(this,arguments)}return _inherits(d,o),_createClass(d,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"getTipElement",value:function(){return this.tip=this.tip||e(this.config.template)[0]}},{key:"setContent",value:function(){var t=e(this.getTipElement());this.setElementContent(t.find(u.TITLE),this.getTitle()),this.setElementContent(t.find(u.CONTENT),this._getContent()),t.removeClass(l.FADE).removeClass(l.IN),this.cleanupTether()}},{key:"_getContent",value:function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this).data(i),r="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new d(this,r),e(this).data(i,n)),"string"==typeof t)){if(void 0===n[t])throw new Error('No method named "'+t+'"');n[t]()}})}},{key:"VERSION",get:function(){return n}},{key:"Default",get:function(){return s}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return i}},{key:"Event",get:function(){return c}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return a}}]),d}(Tooltip);return e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].noConflict=function(){return e.fn[t]=o,d._jQueryInterface},d}(jQuery);!function(e){var t=function(){"use strict";var e="s",n=2011,i=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},r=function(e,t,n){var i=new Date;return void 0!==e&&i.setFullYear(e),i.setDate(n),i.setMonth(t),i},o=function(e){return i(r(e,0,2))},s=function(e){return i(r(e,5,2))},a=function(e){var t=e.getMonth()>7?s(e.getFullYear()):o(e.getFullYear()),n=i(e);return t-n!==0},l=function(){var t=o(n),i=s(n),r=t-i;return 0>r?t+",1":r>0?i+",1,"+e:t+",0"},u=function(){var e=l();return new t.TimeZone(t.olson.timezones[e])},c=function(e){var t=new Date(2010,6,15,1,0,0,0),n={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,10,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return n[e]};return{determine:u,date_is_dst:a,dst_start_for:c}}();t.TimeZone=function(e){"use strict";var n={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Pacific/Tongatapu":["Pacific/Apia"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},i=e,r=function(){for(var e=n[i],r=e.length,o=0,s=e[0];r>o;o+=1)if(s=e[o],t.date_is_dst(t.dst_start_for(s)))return void(i=s)},o=function(){return"undefined"!=typeof n[i]};return o()&&r(),{name:function(){return i}}},t.olson={},t.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=t:e.jstz=t}(this),function(){$(document).ready(function(){var e,t;return e=10,t=30,$("body").on("mouseover","a.image_preview",function(n){return $("#image_preview").remove(),$("body").append("<p id='image_preview' style='z-index: 9999; line-height: 0;'><img src='"+this.href+"' alt='Image preview' /></p>"),$("#image_preview").css("top",n.pageY-e+"px").css("left",n.pageX+t+"px").fadeIn("fast")}),$("body").on("mouseleave","a.image_preview",function(e){return $("#image_preview").remove()}),$("body").on("mousemove","a.image_preview",function(n){return $("#image_preview").css("top",n.pageY-e+"px").css("left",n.pageX+t+"px")})})}.call(this),function(e,t){"object"==typeof module&&module.exports?module.exports=e.document?t(e):t:e.Highcharts=t(e)}("undefined"!=typeof window?window:this,function(e){function t(t,n){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(n)throw Error(i);e.console&&console.log(i)}function n(e,t,n){this.options=t,this.elem=e,this.prop=n}function i(){var e,t,n=arguments,i={},r=function(e,t){var n,i;"object"!=typeof e&&(e={});for(i in t)t.hasOwnProperty(i)&&(n=t[i],e[i]=ie.isObject(n,!0)&&"renderTo"!==i&&"number"!=typeof n.nodeType?r(e[i]||{},n):t[i]);return e};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),t=n.length,e=0;t>e;e++)i=r(i,n[e]);return i}function r(e,t){return parseInt(e,t||10)}function o(e){return"string"==typeof e}function s(e){return e=Object.prototype.toString.call(e),"[object Array]"===e||"[object Array Iterator]"===e}function a(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==M&&null!==e}function u(e,t,n){var i,r;if(o(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(r=e.getAttribute(t));else if(l(t)&&Qe(t))for(i in t)e.setAttribute(i,t[i]);return r}function c(e){return s(e)?e:[e]}function d(e,t,n){return t?setTimeout(e,t,n):void e.call(0,n)}function f(e,t){ye&&!ke&&t&&t.opacity!==M&&(t.filter="alpha(opacity="+100*t.opacity+")"),Ke(e.style,t)}function h(e,t,n,i,r){return e=re.createElement(e),t&&Ke(e,t),r&&f(e,{padding:0,border:"none",margin:0}),n&&f(e,n),i&&i.appendChild(e),e}function p(e,t){var n=function(){};return n.prototype=new e,Ke(n.prototype,t),n}function m(e,t,n){return Array((t||2)+1-String(e).length).join(n||0)+e}function g(e){return 6e4*(W&&W(e)||j||0)}function v(e,t){for(var n,i,r,o,s,a="{",l=!1,u=[];-1!==(a=e.indexOf(a));){if(n=e.slice(0,a),l){for(i=n.split(":"),r=i.shift().split("."),s=r.length,n=t,o=0;s>o;o++)n=n[r[o]];i.length&&(i=i.join(":"),r=/\.([0-9])/,o=B.lang,s=void 0,/f$/.test(i)?(s=(s=i.match(r))?s[1]:-1,null!==n&&(n=ie.numberFormat(n,s,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:""))):n=F(i,n))}u.push(n),e=e.slice(a+1),a=(l=!l)?"}":"{"}return u.push(e),u.join("")}function y(e){return oe.pow(10,ae(oe.log(e)/oe.LN10))}function b(e,t,n,i,r){var o,s=e,n=Je(n,1);for(o=e/n,t||(t=[1,2,2.5,5,10],i===!1&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n]))),i=0;i<t.length&&(s=t[i],!(r&&s*n>=e||!r&&o<=(t[i]+(t[i+1]||t[i]))/2));i++);return s*=n}function _(e,t){var n,i,r=e.length;for(i=0;r>i;i++)e[i].safeI=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.safeI-i.safeI:n}),i=0;r>i;i++)delete e[i].safeI}function w(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function x(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function C(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){L||(L=h(Oe)),e&&L.appendChild(e),L.innerHTML=""}function T(e,t){return parseFloat(e.toPrecision(t||14))}function S(e,t){t.renderer.globalAnimation=Je(e,t.animation)}function E(e){return Qe(e)?i(e):{duration:e?500:0}}function D(){var t=B.global,n=t.useUTC,i=n?"getUTC":"get",r=n?"setUTC":"set";z=t.Date||e.Date,j=n&&t.timezoneOffset,W=n&&t.getTimezoneOffset,H=function(e,t,i,r,o,s){var a;return n?(a=z.UTC.apply(0,arguments),a+=g(a)):a=new z(e,t,Je(i,1),Je(r,0),Je(o,0),Je(s,0)).getTime(),a},q=i+"Minutes",U=i+"Hours",Y=i+"Day",V=i+"Date",X=i+"Month",G=i+"FullYear",K=r+"Milliseconds",Q=r+"Seconds",Z=r+"Minutes",J=r+"Hours",ee=r+"Date",te=r+"Month",ne=r+"FullYear"}function A(e){return this instanceof A?void this.init(e):new A(e)}function N(){}function P(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function O(e,t,n,i,r){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:Je(t.y,o?4:n?14:-6),x:Je(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}var M,I,R,L,B,F,$,z,H,j,W,q,U,Y,V,X,G,K,Q,Z,J,ee,te,ne,ie,re=e.document,oe=Math,se=oe.round,ae=oe.floor,le=oe.ceil,ue=oe.max,ce=oe.min,de=oe.abs,fe=oe.cos,he=oe.sin,pe=oe.PI,me=2*pe/360,ge=e.navigator&&e.navigator.userAgent||"",ve=e.opera,ye=/(msie|trident|edge)/i.test(ge)&&!ve,be=re&&8===re.documentMode,_e=!ye&&/AppleWebKit/.test(ge),we=/Firefox/.test(ge),xe=/(Mobile|Android|Windows Phone)/.test(ge),Ce="http://www.w3.org/2000/svg",ke=re&&re.createElementNS&&!!re.createElementNS(Ce,"svg").createSVGRect,Te=we&&parseInt(ge.split("Firefox/")[1],10)<4,Se=re&&!ke&&!ye&&!!re.createElement("canvas").getContext,Ee={},De=0,Ae=function(){},Ne=[],Pe=0,Oe="div",Me="M",Ie="L",Re=/[0-9]/g,Le=["plotTop","marginRight","marginBottom","plotLeft"],Be={};ie=e.Highcharts?t(16,!0):{win:e},ie.seriesTypes=Be;var Fe,$e,ze,He,je,We,qe,Ue,Ye,Ve,Xe,Ge=[];n.prototype={dSetter:function(){var e,t=this.paths[0],n=this.paths[1],i=[],r=this.now,o=t.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)e=parseFloat(t[o]),i[o]=isNaN(e)?t[o]:r*parseFloat(n[o]-e)+e;else i=n;this.elem.attr("d",i)},update:function(){var e=this.elem,t=this.prop,n=this.now,i=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n):e.style[t]=n+this.unit,i&&i.call(e,n,this)},run:function(e,t,n){var i,r=this,o=function(e){return o.stopped?!1:r.step(e)};this.startTime=+new z,this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===Ge.push(o)&&(o.timerId=setInterval(function(){for(i=0;i<Ge.length;i++)Ge[i]()||Ge.splice(i--,1);Ge.length||clearInterval(o.timerId)},13))},step:function(e){var t,n=+new z,i=this.options;t=this.elem;var r,o=i.complete,s=i.duration,a=i.curAnim;if(t.attr&&!t.element)t=!1;else if(e||n>=s+this.startTime){this.now=this.end,this.pos=1,this.update(),e=a[this.prop]=!0;for(r in a)a[r]!==!0&&(e=!1);e&&o&&o.call(t),t=!1}else this.pos=i.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(e,t,n){function i(e){for(u=e.length;u--;)(e[u]===Me||e[u]===Ie)&&e.splice(u+1,0,e[u+1],e[u+2],e[u+1],e[u+2])}function r(e,t){for(;e.length<a;){e[0]=t[a-e.length];var n=e.slice(0,p);[].splice.apply(e,[0,0].concat(n)),m&&(n=e.slice(e.length-p),[].splice.apply(e,[e.length,0].concat(n)),u--)}e[0]="M"}function o(e,t){for(var n=(a-e.length)/p;n>0&&n--;)l=e.slice().splice(e.length/g-p,p*g),l[0]=t[a-p-n*p],h&&(l[p-6]=l[p-2],l[p-5]=l[p-1]),[].splice.apply(e,[e.length/g,0].concat(l)),m&&n--}var s,a,l,u,c,t=t||"",d=e.startX,f=e.endX,h=t.indexOf("C")>-1,p=h?7:3,t=t.split(" "),n=n.slice(),m=e.isArea,g=m?2:1;if(h&&(i(t),i(n)),d&&f){for(u=0;u<d.length;u++){if(d[u]===f[0]){s=u;break}if(d[0]===f[f.length-d.length+u]){s=u,c=!0;break}}void 0===s&&(t=[])}return t.length&&ie.isNumber(s)&&(a=n.length+s*g*p,c?(r(t,n),o(n,t)):(r(n,t),o(t,n))),[t,n]}};var Ke=ie.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},Qe=ie.isObject=function(e,t){return e&&"object"==typeof e&&(!t||!s(e))},Ze=ie.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},Je=ie.pick=function(){var e,t,n=arguments,i=n.length;for(e=0;i>e;e++)if(t=n[e],t!==M&&null!==t)return t},et=ie.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}};F=function(e,t,n){if(!l(t)||isNaN(t))return B.lang.invalidDate||"";var i,e=Je(e,"%Y-%m-%d %H:%M:%S"),r=new z(t-g(t)),o=r[U](),s=r[Y](),a=r[V](),u=r[X](),c=r[G](),d=B.lang,f=d.weekdays,h=d.shortWeekdays,r=Ke({a:h?h[s]:f[s].substr(0,3),A:f[s],d:m(a),e:m(a,2," "),w:s,b:d.shortMonths[u],B:d.months[u],m:m(u+1),y:c.toString().substr(2,2),Y:c,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(r[q]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:m(r.getSeconds()),L:m(se(t%1e3),3)},ie.dateFormats);for(i in r)for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof r[i]?r[i](t):r[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},$={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ie.numberFormat=function(e,t,n,i){var o,s,e=+e||0,t=+t,a=B.lang,l=(e.toString().split(".")[1]||"").length,u=Math.abs(e);return-1===t?t=Math.min(l,20):Ze(t)||(t=2),o=String(r(u.toFixed(t))),s=o.length>3?o.length%3:0,n=Je(n,a.decimalPoint),i=Je(i,a.thousandsSep),e=0>e?"-":"",e+=s?o.substr(0,s)+i:"",e+=o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+i),t&&(i=Math.abs(u-o+Math.pow(10,-Math.max(t,l)-1)),e+=n+i.toFixed(t).slice(2)),e},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},Fe=function(t,n){var i;return"width"===n?Math.min(t.offsetWidth,t.scrollWidth)-Fe(t,"padding-left")-Fe(t,"padding-right"):"height"===n?Math.min(t.offsetHeight,t.scrollHeight)-Fe(t,"padding-top")-Fe(t,"padding-bottom"):(i=e.getComputedStyle(t,void 0))&&r(i.getPropertyValue(n))},$e=function(e,t){return t.indexOf?t.indexOf(e):[].indexOf.call(t,e)},He=function(e,t){return[].filter.call(e,t)},We=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)n[i]=t.call(e[i],e[i],i,e);return n},je=function(t){var n=re.documentElement,t=t.getBoundingClientRect();return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},Xe=function(e){for(var t=Ge.length;t--;)Ge[t].elem===e&&(Ge[t].stopped=!0)},ze=function(e,t){return Array.prototype.forEach.call(e,t)},qe=function(t,n,i){function r(n){n.target=n.srcElement||e,i.call(t,n)}var o=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[i.toString()]=r,t.attachEvent("on"+n,r)),o[n]||(o[n]=[]),o[n].push(i)},Ue=function(e,t,n){function i(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function r(){var n,r,o;if(e.nodeName)for(o in t?(n={},n[t]=!0):n=a,n)if(a[o])for(r=a[o].length;r--;)i(o,a[o][r])}var o,s,a=e.hcEvents;a&&(t?(o=a[t]||[],n?(s=$e(n,o),s>-1&&(o.splice(s,1),a[t]=o),i(t,n)):(r(),a[t]=[])):(r(),e.hcEvents={}))},Ye=function(e,t,n,i){var r;r=e.hcEvents;var o,s,n=n||{};if(re.createEvent&&(e.dispatchEvent||e.fireEvent))r=re.createEvent("Events"),r.initEvent(t,!0,!0),r.target=e,Ke(r,n),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent(t,r);else if(r)for(r=r[t]||[],o=r.length,n.preventDefault||(n.preventDefault=function(){n.defaultPrevented=!0}),n.target=e,n.type||(n.type=t),t=0;o>t;t++)(s=r[t])&&s.call(e,n)===!1&&n.preventDefault();i&&!n.defaultPrevented&&i(n)},Ve=function(e,t,r){var o,s,a,l,u="";Qe(r)||(o=arguments,r={duration:o[2],easing:o[3],complete:o[4]}),Ze(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=i(t);for(l in t)a=new n(e,r,l),s=null,"d"===l?(a.paths=a.initPath(e,e.d,t.d),a.toD=t.d,o=0,s=1):e.attr?o=e.attr(l):(o=parseFloat(Fe(e,l))||0,"opacity"!==l&&(u="px")),s||(s=t[l]),s.match&&s.match("px")&&(s=s.replace(/px/g,"")),a.run(o,s,u)},e.jQuery&&(e.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);return this[0]?e[0]?(new(ie[o(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):Ne[u(this[0],"data-highcharts-chart")]:void 0}),re&&!re.defaultView&&(Fe=function(e,t){var n;return n={width:"clientWidth",height:"clientHeight"}[t],e.style[t]?r(e.style[t]):("opacity"===t&&(t="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*Fe(e,"padding"),0)):(n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===t&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===n?1:r(n)))}),Array.prototype.forEach||(ze=function(e,t){for(var n=0,i=e.length;i>n;n++)if(t.call(e[n],e[n],n,e)===!1)return n}),Array.prototype.indexOf||($e=function(e,t){var n,i=0;if(t)for(n=t.length;n>i;i++)if(t[i]===e)return i;return-1}),Array.prototype.filter||(He=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)t(e[i],i)&&n.push(e[i]);return n}),ie.Fx=n,ie.inArray=$e,ie.each=ze,ie.grep=He,ie.offset=je,ie.map=We,ie.addEvent=qe,ie.removeEvent=Ue,ie.fireEvent=Ye,ie.animate=Ve,ie.animObject=E,ie.stop=Xe,B={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ie.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ke,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:xe?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var tt=B.plotOptions,nt=tt.line;D(),A.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),parseFloat(e[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[r(e[1],16),r(e[2],16),r(e[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[r(e[1]),r(e[2]),r(e[3]),1]}}],init:function(e){var t,n,i,r;if((this.input=e)&&e.stops)this.stops=We(e.stops,function(e){return new A(e[1])});else for(i=this.parsers.length;i--&&!n;)r=this.parsers[i],(t=r.regex.exec(e))&&(n=r.parse(t));this.rgba=n||[]},get:function(e){var t,n=this.input,r=this.rgba;return this.stops?(t=i(n),t.stops=[].concat(t.stops),ze(this.stops,function(n,i){t.stops[i]=[t.stops[i][0],n.get(e)]})):t=r&&Ze(r[0])?"rgb"===e||!e&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===e?r[3]:"rgba("+r.join(",")+")":n,t},brighten:function(e){var t,n=this.rgba;if(this.stops)ze(this.stops,function(t){t.brighten(e)});else if(Ze(e)&&0!==e)for(t=0;3>t;t++)n[t]+=r(255*e),n[t]<0&&(n[t]=0),n[t]>255&&(n[t]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this}},N.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(e,t){this.element="span"===t?h(t):re.createElementNS(Ce,t),this.renderer=e},animate:function(e,t,n){return t=Je(t,this.renderer.globalAnimation,!0),Xe(this),t?(n&&(t.complete=n),Ve(this,e,t)):this.attr(e,null,n),this},colorGradient:function(e,t,n){var r,o,a,u,c,d,f,h,p,m,g,v,y=this.renderer,b=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){a=e[o],c=y.gradients,f=e.stops,m=n.radialReference,s(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!l(a.gradientUnits)&&(u=a,a=i(a,y.getRadialAttr(m,u),{gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&b.push(g,a[g]);for(g in f)b.push(f[g]);b=b.join(","),c[b]?m=c[b].attr("id"):(a.id=m="highcharts-"+De++,c[b]=d=y.createElement(o).attr(a).add(y.defs),d.radAttr=u,d.stops=[],ze(f,function(e){0===e[1].indexOf("rgba")?(r=A(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(d),d.stops.push(e)})),v="url("+y.url+"#"+m+")",n.setAttribute(t,v),n.gradient=b,e.toString=function(){return v}}},applyTextShadow:function(e){var t,n=this.element,i=-1!==e.indexOf("contrast"),o={},s=this.renderer.forExport,a=s||n.style.textShadow!==M&&!ye;i&&(o.textShadow=e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(_e||s)&&(o.textRendering="geometricPrecision"),a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,t=[].slice.call(n.getElementsByTagName("tspan")),ze(e.split(/\s?,\s?/g),function(e){var i,o,s=n.firstChild,e=e.split(" ");i=e[e.length-1],(o=e[e.length-2])&&ze(t,function(e,t){var a;0===t&&(e.setAttribute("x",n.getAttribute("x")),t=n.getAttribute("y"),e.setAttribute("y",t||0),null===t&&n.setAttribute("y",0)),a=e.cloneNode(1),u(a,{"class":"highcharts-text-shadow",fill:i,stroke:i,"stroke-opacity":1/ue(r(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(a,s)})}))},attr:function(e,t,n){var i,r,o,s=this.element,a=this;if("string"==typeof e&&t!==M&&(i=e,e={},e[i]=t),"string"==typeof e)a=(this[e+"Getter"]||this._defaultGetter).call(this,e,s);else{for(i in e)t=e[i],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(r||(this.symbolAttr(e),r=!0),o=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),o||(o=this[i+"Setter"]||this._defaultSetter,o.call(this,t,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,t,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),a},updateShadows:function(e,t,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===e?Math.max(t-(i[r].cutHeight||0),0):"d"===e?this.d:t,e,i[r])},addClass:function(e){var t=this.element,n=u(t,"class")||"";return-1===n.indexOf(e)&&u(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;ze("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=Je(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e){var t,n,i={},r=this.strokeWidth||0;n=se(r)%2/2,e.x=ae(e.x||this.x||0)+n,e.y=ae(e.y||this.y||0)+n,e.width=ae((e.width||this.width||0)-2*n),e.height=ae((e.height||this.height||0)-2*n),e.strokeWidth=r;for(t in e)this[t]!==e[t]&&(this[t]=i[t]=e[t]);return i},css:function(e){var t,n,i=this.styles,o={},s=this.element,a="";if(t=!i,e&&e.color&&(e.fill=e.color),i)for(n in e)e[n]!==i[n]&&(o[n]=e[n],t=!0);if(t){if(t=this.textWidth=e&&e.width&&"text"===s.nodeName.toLowerCase()&&r(e.width)||this.textWidth,i&&(e=Ke(i,o)),this.styles=e,t&&(Se||!ke&&this.renderer.forExport)&&delete e.width,ye&&!ke)f(this.element,e);else{i=function(e,t){return"-"+t.toLowerCase()};for(n in e)a+=n.replace(/([A-Z])/g,i)+":"+e[n]+";";u(s,"style",a)}t&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,i=n.element;return R&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=z.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(-1===ge.indexOf("Android")||z.now()-(n.touchEventFired||0)>1100)&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(l(n)||l(i))&&e.push("scale("+Je(n,1)+" "+Je(i,1)+")"),e.length&&s.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,r,s,l,u={};return r=this.renderer,s=r.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||o(n))&&(this.alignTo=i=n||"renderer",a(s,this),s.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo),n=Je(n,r[i],r),i=e.align,r=e.verticalAlign,s=(n.x||0)+(e.x||0),l=(n.y||0)+(e.y||0),("right"===i||"center"===i)&&(s+=(n.width-(e.width||0))/{right:1,center:2}[i]),u[t?"translateX":"x"]=se(s),("bottom"===r||"middle"===r)&&(l+=(n.height-(e.height||0))/({bottom:1,middle:2}[r]||1)),u[t?"translateY":"y"]=se(l),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(e,t){var n,i,r,o,s=this.renderer,a=this.element,l=this.styles;i=this.textStr;var u,c,d,f=a.style,h=s.cache,p=s.cacheKeys;if(r=Je(t,this.rotation),o=r*me,i!==M&&(d=i.toString().replace(Re,"0")+["",r||0,l&&l.fontSize,a.style.width].join(",")),d&&!e&&(n=h[d]),!n){if(a.namespaceURI===Ce||s.forExport){try{c=this.fakeTS&&function(e){ze(a.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},we&&f.textShadow?(u=f.textShadow,f.textShadow=""):c&&c("none"),n=a.getBBox?Ke({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},u?f.textShadow=u:c&&c("")}catch(m){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(s.isSVG&&(s=n.width,i=n.height,ye&&l&&"11px"===l.fontSize&&"16.9"===i.toPrecision(3)&&(n.height=i=14),r&&(n.width=de(i*he(o))+de(s*fe(o)),n.height=de(i*fe(o))+de(s*he(o)))),d&&n.height>0){for(;p.length>250;)delete h[p.shift()];h[d]||p.push(d),h[d]=n}}return n},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},r=n.shadows,o=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,Xe(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&ze(r,function(e){n.safeRemoveChild(e)});o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=i;n.alignTo&&a(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var i,r,o,s,a,l,c=[],d=this.element;if(e){for(s=Je(e.width,3),a=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+Je(e.offsetX,1)+", "+Je(e.offsetY,1)+")",i=1;s>=i;i++)r=d.cloneNode(0),o=2*s+1-2*i,u(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:"none"
}),n&&(u(r,"height",ue(u(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=Je(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=r(e[t])*n;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=re.createElementNS(Ce,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(re.createTextNode(String(Je(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):n.setAttribute(t,e)},zIndexSetter:function(e,t){var n,i,o,s=this.renderer,a=this.parentGroup,s=(a||s).element||s.box,u=this.element;n=this.added;var c;if(l(e)&&(u.zIndex=e,e=+e,this[t]===e&&(n=!1),this[t]=e),n){for((e=this.zIndex)&&a&&(a.handleZ=!0),a=s.childNodes,c=0;c<a.length&&!o;c++)n=a[c],i=n.zIndex,n!==u&&(r(i)>e||!l(e)&&l(i))&&(s.insertBefore(u,n),o=!0);o||s.appendChild(u)}return o},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},N.prototype.yGetter=N.prototype.xGetter,N.prototype.translateXSetter=N.prototype.translateYSetter=N.prototype.rotationSetter=N.prototype.verticalAlignSetter=N.prototype.scaleXSetter=N.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},N.prototype.opacitySetter=N.prototype.displaySetter=function(e,t,n){this[t]=e,n.setAttribute(t,e)},N.prototype["stroke-widthSetter"]=N.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],N.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var it=function(){this.init.apply(this,arguments)};it.prototype={Element:N,init:function(t,n,i,r,o,s){var a,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));a=r.element,t.appendChild(a),-1===t.innerHTML.indexOf("xmlns")&&u(a,"xmlns",Ce),this.isSVG=!0,this.box=a,this.boxWrapper=r,this.alignedObjects=[],this.url=(we||_e)&&re.getElementsByTagName("base").length?e.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(re.createTextNode("Created with Highcharts 4.2.7")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(n,i,!1);var l;we&&t.getBoundingClientRect&&(this.subPixelFix=n=function(){f(t,{left:0,top:0}),l=t.getBoundingClientRect(),f(t,{left:le(l.left)-l.left+"px",top:le(l.top)-l.top+"px"})},n(),qe(e,"resize",n))},getStyle:function(e){return this.style=Ke({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&Ue(e,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},buildText:function(e){for(var t,n,i,o=e.element,s=this,a=s.forExport,l=Je(e.textStr,"").toString(),c=-1!==l.indexOf("<"),d=o.childNodes,h=u(o,"x"),p=e.styles,m=e.textWidth,g=p&&p.lineHeight,v=p&&p.textShadow,y=p&&"ellipsis"===p.textOverflow,b=d.length,_=m&&!e.added&&this.box,w=function(e){return g?r(g):s.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||s.style.fontSize||12,e).h},x=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};b--;)o.removeChild(d[b]);c||v||y||m||-1!==l.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,_&&_.appendChild(o),l=c?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=He(l,function(e){return""!==e}),ze(l,function(r,l){var c,d=0,r=r.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");c=r.split("|||"),ze(c,function(r){if(""!==r||1===c.length){var g,v={},b=re.createElementNS(Ce,"tspan");if(t.test(r)&&(g=r.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(b,"style",g)),n.test(r)&&!a&&(u(b,"onclick",'location.href="'+r.match(n)[1]+'"'),f(b,{cursor:"pointer"})),r=x(r.replace(/<(.|\n)*?>/g,"")||" ")," "!==r){if(b.appendChild(re.createTextNode(r)),d?v.dx=0:l&&null!==h&&(v.x=h),u(b,v),o.appendChild(b),!d&&l&&(!ke&&a&&f(b,{display:"block"}),u(b,"dy",w(b))),m){for(var _,C,v=r.replace(/([^\^])-/g,"$1- ").split(" "),k="nowrap"===p.whiteSpace,T=c.length>1||l||v.length>1&&!k,S=[],E=w(b),D=1,A=e.rotation,N=r,P=N.length;(T||y)&&(v.length||S.length);)e.rotation=0,_=e.getBBox(!0),C=_.width,!ke&&s.forExport&&(C=s.measureSpanWidth(b.firstChild.data,e.styles)),_=C>m,void 0===i&&(i=_),y&&i?(P/=2,""===N||!_&&.5>P?v=[]:(N=r.substring(0,N.length+(_?-1:1)*le(P)),v=[N+(m>3?"\u2026":"")],b.removeChild(b.firstChild))):_&&1!==v.length?(b.removeChild(b.firstChild),S.unshift(v.pop())):(v=S,S=[],v.length&&!k&&(D++,b=re.createElementNS(Ce,"tspan"),u(b,{dy:E,x:h}),g&&u(b,"style",g),o.appendChild(b)),C>m&&(m=C)),v.length&&b.appendChild(re.createTextNode(v.join(" ").replace(/- /g,"-")));e.rotation=A}d++}}})}),i&&e.attr("title",e.textStr),_&&_.removeChild(o),v&&e.applyTextShadow&&e.applyTextShadow(v)):o.appendChild(re.createTextNode(x(l)))},getContrast:function(e){return e=A(e).rgba,e[0]+e[1]+e[2]>384?"#000000":"#FFFFFF"},button:function(e,t,n,r,o,s,a,l,u){var c,d,f,h,p,m,g=this.label(e,t,n,u,null,null,null,null,"button"),v=0,e={x1:0,y1:0,x2:0,y2:1},o=i({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:e,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return f=o.style,delete o.style,s=i(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),h=s.style,delete s.style,a=i(o,{stroke:"#68A",fill:{linearGradient:e,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),p=a.style,delete a.style,l=i(o,{style:{color:"#CCC"}},l),m=l.style,delete l.style,qe(g.element,ye?"mouseover":"mouseenter",function(){3!==v&&g.attr(s).css(h)}),qe(g.element,ye?"mouseout":"mouseleave",function(){3!==v&&(c=[o,s,a][v],d=[f,h,p][v],g.attr(c).css(d))}),g.setState=function(e){(g.state=v=e)?2===e?g.attr(a).css(p):3===e&&g.attr(l).css(m):g.attr(o).css(f)},g.on("click",function(e){3!==v&&r.call(g,e)}).attr(o).css(Ke({cursor:"default"},f))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=se(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=se(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return s(e)?t.d=e:Qe(e)&&Ke(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=Qe(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,n,i,r,o){return Qe(e)&&(t=e.y,n=e.r,i=e.innerR,r=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0}),e.r=n,e},rect:function(e,t,n,i,r,o){var r=Qe(e)?e.r:r,s=this.createElement("rect"),e=Qe(e)?e:e===M?{}:{x:e,y:t,width:ue(n,0),height:ue(i,0)};return o!==M&&(s.strokeWidth=o,e=s.crisp(e)),r&&(e.r=r),s.rSetter=function(e,t,n){u(n,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper[Je(n,!0)?"animate":"attr"]({width:e,height:t});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,n,i,r){var o={preserveAspectRatio:"none"};return arguments.length>1&&Ke(o,{x:t,y:n,width:i,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,i,r,o){var s,a,l,u=this,c=this.symbols[e],c=c&&c(se(t),se(n),i,r,o),d=/^url\((.*?)\)$/;return c?(s=this.path(c),Ke(s,{symbolName:e,x:t,y:n,width:i,height:r}),o&&Ke(s,o)):d.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(se((i-t[0])/2),se((r-t[1])/2)))},a=e.match(d)[1],e=Ee[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:t,y:n}),s.isImg=!0,e?l(s,e):(s.attr({width:0,height:0}),h("img",{onload:function(){var e=Ne[u.chartIndex];0===this.width&&(f(this,{position:"absolute",top:"-999em"}),re.body.appendChild(this)),l(s,Ee[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,!u.imgCount&&e&&e.onload&&e.onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(e,t,n,i){var r=.166*n;return[Me,e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return[Me,e,t,Ie,e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return[Me,e+n/2,t,Ie,e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return[Me,e,t,Ie,e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return[Me,e+n/2,t,Ie,e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var o=r.start,n=r.r||n||i,s=r.end-.001,i=r.innerR,a=r.open,l=fe(o),u=he(o),c=fe(s),s=he(s),r=r.end-o<pe?0:1;return[Me,e+n*l,t+n*u,"A",n,n,0,r,1,e+n*c,t+n*s,a?Me:Ie,e+i*c,t+i*s,"A",i,i,0,r,0,e+i*l,t+i*u,a?"":"Z"]},callout:function(e,t,n,i,r){var o,s=ce(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX,r=r&&r.anchorY;return o=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+i-s,"C",e+n,t+i,e+n,t+i,e+n-s,t+i,"L",e+s,t+i,"C",e,t+i,e,t+i,e,t+i-s,"L",e,t+s,"C",e,t,e,t,e+s,t],l&&l>n&&r>t+a&&t+i-a>r?o.splice(13,3,"L",e+n,r-6,e+n+6,r,e+n,r+6,e+n,t+i-s):l&&0>l&&r>t+a&&t+i-a>r?o.splice(33,3,"L",e,r+6,e-6,r,e,r-6,e,t+s):r&&r>i&&l>e+a&&e+n-a>l?o.splice(23,3,"L",l+6,t+i,l,t+i+6,l-6,t+i,e+s,t+i):r&&0>r&&l>e+a&&e+n-a>l&&o.splice(3,3,"L",l-6,t,l,t-6,l+6,t,n-s,t),o}},clipRect:function(e,t,n,i){var r="highcharts-"+De++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),e=this.rect(e,t,n,i,0).add(o);return e.id=r,e.clipPath=o,e.count=0,e},text:function(e,t,n,i){var r=Se||!ke&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(t||0),n&&(o.y=Math.round(n)),(e||0===e)&&(o.text=e),e=this.createElement("text").attr(o),r&&e.css({position:"absolute"}),i||(e.xSetter=function(e,t,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(t);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(t,n){var i,o,t=t||this.style.fontSize;return!t&&n&&e.getComputedStyle&&(n=n.element||n,t=(i=e.getComputedStyle(n,""))&&i.fontSize),t=/px/.test(t)?r(t):/em/.test(t)?12*parseFloat(t):12,i=24>t?t+3:se(1.2*t),o=se(.8*i),{h:i,b:o,f:t}},rotCorr:function(e,t,n){var i=e;return t&&n&&(i=ue(i*fe(t*me),4)),{x:-e/3*he(t*me),y:i}},label:function(e,t,n,r,o,s,a,u,c){var d,f,h,p,m,g,v,y,b,_,w=this,x=w.g(c),C=w.text("",0,0,a).attr({zIndex:1}),k=0,T=3,S=0,E=0,D={},A=/^url\((.*?)\)$/.test(r),P=A;y=function(){var e,t;e=C.element.style,f=(void 0===h||void 0===p||x.styles.textAlign)&&l(C.textStr)&&C.getBBox(),x.width=(h||f.width||0)+2*T+S,x.height=(p||f.height||0)+2*T,v=T+w.fontMetrics(e&&e.fontSize,C).b,P&&(d||(e=E,t=(u?-v:0)+E,x.box=d=w.symbols[r]||A?w.symbol(r,e,t,x.width,x.height,D):w.rect(e,t,x.width,x.height,0,D["stroke-width"]),d.isImg||d.attr("fill","none"),d.add(x)),d.isImg||d.attr(Ke({width:se(x.width),height:se(x.height)},D)),D=null)},b=function(){var e,t=x.styles,t=t&&t.textAlign,n=S+T;e=u?0:v,l(h)&&f&&("center"===t||"right"===t)&&(n+={center:.5,right:1}[t]*(h-f.width)),(n!==C.x||e!==C.y)&&(C.attr("x",n),e!==M&&C.attr("y",e)),C.x=n,C.y=e},_=function(e,t){d?d.attr(e,t):D[e]=t},x.onAdd=function(){C.add(x),x.attr({text:e||0===e?e:"",x:t,y:n}),d&&l(o)&&x.attr({anchorX:o,anchorY:s})},x.widthSetter=function(e){h=e},x.heightSetter=function(e){p=e},x.paddingSetter=function(e){l(e)&&e!==T&&(T=x.padding=e,b())},x.paddingLeftSetter=function(e){l(e)&&e!==S&&(S=e,b())},x.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==k&&(k=e,f&&x.attr({x:m}))},x.textSetter=function(e){e!==M&&C.textSetter(e),y(),b()},x["stroke-widthSetter"]=function(e,t){e&&(P=!0),E=e%2/2,_(t,e)},x.strokeSetter=x.fillSetter=x.rSetter=function(e,t){"fill"===t&&e&&(P=!0),_(t,e)},x.anchorXSetter=function(e,t){o=e,_(t,se(e)-E-m)},x.anchorYSetter=function(e,t){s=e,_(t,e-g)},x.xSetter=function(e){x.x=e,k&&(e-=k*((h||f.width)+2*T)),m=se(e),x.attr("translateX",m)},x.ySetter=function(e){g=x.y=se(e),x.attr("translateY",g)};var O=x.css;return Ke(x,{css:function(e){if(e){var t={},e=i(e);ze(x.textProps,function(n){e[n]!==M&&(t[n]=e[n],delete e[n])}),C.css(t)}return O.call(x,e)},getBBox:function(){return{width:f.width+2*T,height:f.height+2*T,x:f.x-T,y:f.y-T}},shadow:function(e){return d&&d.shadow(e),x},destroy:function(){Ue(x.element,"mouseenter"),Ue(x.element,"mouseleave"),C&&(C=C.destroy()),d&&(d=d.destroy()),N.prototype.destroy.call(x),x=w=y=b=_=null}})}},I=it,Ke(N.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=Ke(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,i=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",u={left:0,center:.5,right:1}[a],c=this.shadows,d=this.styles;if(f(t,{marginLeft:n,marginTop:i}),c&&ze(c,function(e){f(e,{marginLeft:n+1,marginTop:i+1})}),this.inverted&&ze(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var c=this.rotation,h=r(this.textWidth),p=d&&d.whiteSpace,m=[c,a,t.innerHTML,this.textWidth,this.textAlign].join(",");m!==this.cTT&&(d=e.fontMetrics(t.style.fontSize).b,l(c)&&this.setSpanRotation(c,u,d),f(t,{width:"",whiteSpace:p||"nowrap"}),t.offsetWidth>h&&/[ \-]/.test(t.textContent||t.innerText)&&f(t,{width:h+"px",display:"block",whiteSpace:p||"normal"}),this.getSpanCorrection(t.offsetWidth,d,u,c,a)),f(t,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),_e&&(d=t.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},r=ye?"-ms-transform":_e?"-webkit-transform":we?"MozTransform":ve?"-o-transform":"";i[r]=i.transform="rotate("+e+"deg)",i[r+(we?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px",f(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Ke(it.prototype,{html:function(e,t,n){var i=this.createElement("span"),r=i.element,o=i.renderer,s=o.isSVG,a=function(e,t){ze(["display","opacity","visibility"],function(n){et(e,n+"Setter",function(e,n,i,r){e.call(this,n,i,r),t[i]=n})})};return i.textSetter=function(e){e!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=e,i.htmlUpdateTransform()},s&&a(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),i[t]=e,i.htmlUpdateTransform()},i.attr({text:e,x:se(t),y:se(n)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,s&&(i.add=function(e){var t,n=o.box.parentNode,s=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)s.push(e),e=e.parentGroup;ze(s.reverse(),function(e){var i,r=u(e.element,"class");r&&(r={className:r}),t=e.div=e.div||h(Oe,r,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},t||n),i=t.style,Ke(e,{translateXSetter:function(t,n){i.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){i.top=t+"px",e[n]=t,e.doTransform=!0}}),a(e,i)})}}else t=n;return t.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var rt;if(!ke&&!Se){rt={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=t===Oe;("shape"===t||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=h(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box,r=e&&e.inverted,i=e?e.element||e:i;return e&&(this.parentGroup=e),r&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:N.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=fe(e*me),n=he(e*me);f(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(e,t,n,i,r){var o,s=i?fe(i*me):1,a=i?he(i*me):0,l=Je(this.elemHeight,this.element.offsetHeight);this.xCorr=0>s&&-e,this.yCorr=0>a&&-l,o=0>s*a,this.xCorr+=a*t*(o?1-n:n),this.yCorr-=s*t*(i?o?n:1-n:1),r&&"left"!==r&&(this.xCorr-=e*n*(0>s?-1:1),i&&(this.yCorr-=l*n*(0>a?-1:1)),f(this.element,{textAlign:r}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)Ze(e[t])?n[t]=se(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e?(t=e.members,a(t,n),t.push(n),n.destroyClip=function(){a(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:be?"inherit":"rect(auto)"}),n.css(e)},css:N.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&k(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),N.prototype.destroy.apply(this)},on:function(t,n){return this.element["on"+t]=function(){var t=e.event;t.target=t.srcElement,n(t)},this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);return n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=r(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var i,o,s,a,l,u,c,d=[],f=this.element,p=this.renderer,m=f.style,g=f.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,e){for(u=Je(e.width,3),c=(e.opacity||.15)/u,i=1;3>=i;i++)a=2*u+1-2*i,n&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',f.style.cssText,'" />'],o=h(p.prepVML(s),null,{left:r(m.left)+Je(e.offsetX,1),top:r(m.top)+Je(e.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',e.color||"black",'" opacity="',c*i,'"/>'],h(p.prepVML(s),null,null,o),t?t.element.appendChild(o):f.parentNode.insertBefore(o,f),d.push(o);this.shadows=d}return this},updateShadows:Ae,setAttr:function(e,t){be?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||h(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var i=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(e,i[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled="none"!==e,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},"fill-opacitySetter":function(e,t,n){h(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',e,'"/>']),null,null,n)},opacitySetter:Ae,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-se(he(e*me)+1)+"px",n.top=se(fe(e*me))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t,this))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,Ze(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible"),this.shadows&&ze(this.shadows,function(n){n.style[t]=e}),"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,be||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},displaySetter:function(e,t,n){n.style[t]=e},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},rt["stroke-opacitySetter"]=rt["fill-opacitySetter"],ie.VMLElement=rt=p(N,rt),rt.prototype.ySetter=rt.prototype.widthSetter=rt.prototype.heightSetter=rt.prototype.xSetter;var ot={Element:rt,isIE8:ge.indexOf("MSIE 8.0")>-1,init:function(e,t,n,i){var r;if(this.alignedObjects=[],i=this.createElement(Oe).css(Ke(this.getStyle(i),{position:"relative"})),r=i.element,e.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),!re.namespaces.hcv){re.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{re.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){re.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var r=this.createElement(),o=Qe(e);return Ke(r,{members:[],count:0,left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,e=e.inverted,i=this.top-("shape"===n?t.offsetTop:0),r=this.left,t=r+this.width,o=i+this.height,i={clip:"rect("+se(e?r:i)+"px,"+se(e?o:t)+"px,"+se(e?t:o)+"px,"+se(e?i:r)+"px)"};return!e&&be&&"DIV"===n&&Ke(i,{width:t+"px",height:o+"px"}),i},updateClipping:function(){ze(r.members,function(e){e.element&&e.css(r.getCSS(e))})}})},color:function(e,t,n,i){var r,o,s,a=this,l=/^rgba/,u="none";if(e&&e.linearGradient?s="gradient":e&&e.radialGradient&&(s="pattern"),s){var c,d,f,p,m,g,v,y,b=e.linearGradient||e.radialGradient,_="",e=e.stops,w=[],x=function(){o=['<fill colors="'+w.join(",")+'" opacity="',m,'" o:opacity2="',p,'" type="',s,'" ',_,'focus="100%" method="any" />'],h(a.prepVML(o),null,null,t)};if(f=e[0],y=e[e.length-1],f[0]>0&&e.unshift([0,f[1]]),y[0]<1&&e.push([1,y[1]]),ze(e,function(e,t){l.test(e[1])?(r=A(e[1]),c=r.get("rgb"),d=r.get("a")):(c=e[1],d=1),w.push(100*e[0]+"% "+c),t?(m=d,g=c):(p=d,v=c)}),"fill"===n)if("gradient"===s)n=b.x1||b[0]||0,e=b.y1||b[1]||0,f=b.x2||b[2]||0,b=b.y2||b[3]||0,_='angle="'+(90-180*oe.atan((b-e)/(f-n))/pe)+'"',x();else{var C,u=b.r,k=2*u,T=2*u,S=b.cx,E=b.cy,D=t.radialReference,u=function(){D&&(C=i.getBBox(),S+=(D[0]-C.x)/C.width-.5,E+=(D[1]-C.y)/C.height-.5,k*=D[2]/C.width,T*=D[2]/C.height),_='src="'+B.global.VMLRadialGradientURL+'" size="'+k+","+T+'" origin="0.5,0.5" position="'+S+","+E+'" color2="'+v+'" ',x()};i.added?u():i.onAdd=u,u=g}else u=c}else l.test(e)&&"IMG"!==t.tagName?(r=A(e),i[n+"-opacitySetter"](r.get("a"),n,t),u=r.get("rgb")):(u=t.getElementsByTagName(n),u.length&&(u[0].opacity=1,u[0].type="solid"),u=e);return u},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:it.prototype.html,path:function(e){var t={coordsize:"10 10"};return s(e)?t.d=e:Qe(e)&&Ke(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return Qe(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Oe).attr(t)},image:function(e,t,n,i,r){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:i,height:r}),o},createElement:function(e){return"rect"===e?this.symbol(e):it.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,i=t.style,o="IMG"===e.tagName&&e.style;f(e,{flip:"x",left:r(i.width)-(o?r(o.top):1),top:r(i.height)-(o?r(o.left):1),rotation:-90}),ze(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,i,r){var o=r.start,s=r.end,a=r.r||n||i,n=r.innerR,i=fe(o),l=he(o),u=fe(s),c=he(s);return s-o===0?["x"]:(o=["wa",e-a,t-a,e+a,t+a,e+a*i,t+a*l,e+a*u,t+a*c],r.open&&!n&&o.push("e",Me,e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*u,t+n*c,e+n*i,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){return it.prototype.symbols[l(r)&&r.r?"callout":"square"].call(0,e,t,n,i,r)}}};ie.VMLRenderer=rt=function(){this.init.apply(this,arguments)},rt.prototype=i(it.prototype,ot),I=rt}it.prototype.measureSpanWidth=function(e,t){var n,i=re.createElement("span");return n=re.createTextNode(e),i.appendChild(n),f(i,t),this.box.appendChild(i),n=i.offsetWidth,k(i),n};var st;Se&&(ie.CanVGRenderer=rt=function(){Ce="http://www.w3.org/1999/xhtml"},rt.prototype.symbols={},st=function(){function e(){var e,n=t.length;for(e=0;n>e;e++)t[e]();t=[]}var t=[];return{push:function(n,i){if(0===t.length){var r=re.getElementsByTagName("head")[0],o=re.createElement("script");o.type="text/javascript",o.src=i,o.onload=e,r.appendChild(o)}t.push(n)}}}(),I=rt),P.prototype={addLabel:function(){var e,t=this.axis,n=t.options,r=t.chart,o=t.categories,s=t.names,a=this.pos,u=n.labels,c=t.tickPositions,d=a===c[0],f=a===c[c.length-1],s=o?Je(o[a],s[a],a):a,o=this.label,c=c.info;t.isDatetimeAxis&&c&&(e=n.dateTimeLabelFormats[c.higherRanks[a]||c.unitName]),this.isFirst=d,this.isLast=f,n=t.labelFormatter.call({axis:t,chart:r,isFirst:d,isLast:f,dateTimeLabelFormat:e,value:t.isLog?T(t.lin2log(s)):s}),l(o)?o&&o.attr({text:n}):(this.labelLength=(this.label=o=l(n)&&u.enabled?r.renderer.text(n,0,0,u.useHTML).css(i(u.style)).add(t.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,i=e.x,r=n.chart.chartWidth,o=n.chart.spacing,s=Je(n.labelLeft,ce(n.pos,o[3])),o=Je(n.labelRight,ue(n.pos+n.len,r-o[1])),a=this.label,l=this.rotation,u={left:0,center:.5,right:1}[n.labelAlign],c=a.getBBox().width,d=n.getSlotWidth(),f=d,h=1,p={};l?0>l&&s>i-u*c?t=se(i/fe(l*me)-s):l>0&&i+u*c>o&&(t=se((r-i)/fe(l*me))):(r=i+(1-u)*c,s>i-u*c?f=e.x+f*(1-u)-s:r>o&&(f=o-e.x+f*u,h=-1),f=ce(d,f),d>f&&"center"===n.labelAlign&&(e.x+=h*(d-f-u*(d-ce(c,f)))),(c>f||n.autoRotation&&a.styles.width)&&(t=f)),t&&(p.width=t,n.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),a.css(p))},getPosition:function(e,t,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,n,i,r,o,s,a){var u=this.axis,c=u.transA,d=u.reversed,f=u.staggerLines,h=u.tickRotCorr||{x:0,y:0},p=r.y;return l(p)||(p=0===u.side?n.rotation?-8:-n.getBBox().height:2===u.side?h.y+8:fe(n.rotation*me)*(h.y-n.getBBox(!1,0).height/2)),e=e+r.x+h.x-(o&&i?o*c*(d?-1:1):0),t=t+p-(o&&!i?o*c*(d?1:-1):0),f&&(n=s/(a||1)%f,u.opposite&&(n=f-n-1),t+=n*(u.labelOffset/f)),{x:e,y:se(t)}},getMarkPath:function(e,t,n,i,r,o){return o.crispLine([Me,e,t,Ie,e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=i.horiz,a=this.type,l=this.label,u=this.pos,c=r.labels,d=this.gridLine,f=a?a+"Grid":"grid",h=a?a+"Tick":"tick",p=r[f+"LineWidth"],m=r[f+"LineColor"],g=r[f+"LineDashStyle"],f=i.tickSize(h),h=r[h+"Color"],v=this.mark,y=c.step,b=!0,_=i.tickmarkOffset,w=this.getPosition(s,u,_,t),x=w.x,w=w.y,C=s&&x===i.pos+i.len||!s&&w===i.pos?-1:1,n=Je(n,1);this.isActive=!0,p&&(u=i.getPlotLinePath(u+_,p*C,t,!0),d===M&&(d={stroke:m,"stroke-width":p},g&&(d.dashstyle=g),a||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=p?o.path(u).attr(d).add(i.gridGroup):null),!t&&d&&u&&d[this.isNew?"attr":"animate"]({d:u,opacity:n})),f&&(i.opposite&&(f[0]=-f[0]),a=this.getMarkPath(x,w,f[0],f[1]*C,s,o),v?v.animate({d:a,opacity:n}):this.mark=o.path(a).attr({stroke:h,"stroke-width":f[1],opacity:n}).add(i.axisGroup)),l&&Ze(x)&&(l.xy=w=this.getLabelPosition(x,w,l,s,c,_,e,y),this.isFirst&&!this.isLast&&!Je(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Je(r.showLastLabel,1)?b=!1:s&&!i.isRadial&&!c.step&&!c.rotation&&!t&&0!==n&&this.handleOverflow(w),y&&e%y&&(b=!1),b&&Ze(w.y)?(w.opacity=n,l[this.isNew?"attr":"animate"](w)):(Xe(l),l.attr("y",-9999)),this.isNew=!1)},destroy:function(){C(this,this.axis)}},ie.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},ie.PlotLineOrBand.prototype={render:function(){var e,t=this,n=t.axis,r=n.horiz,o=t.options,s=o.label,a=t.label,u=o.width,c=o.to,d=o.from,f=l(d)&&l(c),h=o.value,p=o.dashStyle,m=t.svgElem,g=[],v=o.color,y=Je(o.zIndex,0),b=o.events,_={},w=n.chart.renderer,g=n.log2lin;if(n.isLog&&(d=g(d),c=g(c),h=g(h)),u)g=n.getPlotLinePath(h,u),_={stroke:v,"stroke-width":u},p&&(_.dashstyle=p);else{if(!f)return;g=n.getPlotBandPath(d,c,o),v&&(_.fill=v),o.borderWidth&&(_.stroke=o.borderColor,_["stroke-width"]=o.borderWidth)}if(_.zIndex=y,m)g?(m.show(),m.animate({d:g})):(m.hide(),a&&(t.label=a=a.destroy()));else if(g&&g.length&&(t.svgElem=m=w.path(g).attr(_).add(),b))for(e in o=function(e){m.on(e,function(n){b[e].apply(t,[n])})},b)o(e);return s&&l(s.text)&&g&&g.length&&n.width>0&&n.height>0&&!g.flat?(s=i({align:r&&f&&"center",x:r?!f&&4:10,verticalAlign:!r&&f&&"middle",y:r?f?16:10:f?6:-4,rotation:r&&!f&&90},s),this.renderLabel(s,g,f,y)):a&&a.hide(),t},renderLabel:function(e,t,n,i){var r=this.label,o=this.axis.chart.renderer;r||(r={align:e.textAlign||e.align,rotation:e.rotation},r.zIndex=i,this.label=r=o.text(e.text,0,0,e.useHTML).attr(r).css(e.style).add()),i=[t[1],t[4],n?t[6]:t[1]],t=[t[2],t[5],n?t[7]:t[2]],n=w(i),o=w(t),r.align(e,!1,{x:n,y:o,width:x(i)-n,height:x(t)-o}),r.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}};var at=ie.Axis=function(){this.init.apply(this,arguments)};at.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ie.numberFormat(this.total,-1)},style:i(tt.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],
x:0},title:{rotation:0}},init:function(e,t){var n=t.isX;this.chart=e,this.horiz=e.inverted?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.reversed=i.reversed,this.visible=i.visible!==!1,this.zoomEnabled=i.zoomEnabled!==!1,this.hasNames="category"===r||i.categories===!0,this.categories=i.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=l(i.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Je(i.crosshair,c(e.options.tooltip.crosshairs)[n?0:1],!1);var o,i=this.options.events;-1===$e(this,e.axes)&&(n?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===M&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)qe(this,o,i[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(e){this.options=i(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],i(B[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,r=this.dateTimeLabelFormat,o=B.lang.numericSymbols,s=o&&o.length,a=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(a)e=v(a,this);else if(i)e=n;else if(r)e=F(r,n);else if(s&&t>=1e3)for(;s--&&e===M;)i=Math.pow(1e3,s+1),t>=i&&10*n%i===0&&null!==o[s]&&0!==n&&(e=ie.numberFormat(n/i,-1)+o[s]);return e===M&&(e=de(n)>=1e4?ie.numberFormat(n,-1):ie.numberFormat(n,-1,M,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),ze(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,r=n.options,o=r.threshold;e.hasVisibleSeries=!0,e.isLog&&0>=o&&(o=null),e.isXAxis?(r=n.xData,r.length&&(n=w(r),!Ze(n)&&!(n instanceof z)&&(r=He(r,function(e){return Ze(e)}),n=w(r)),e.dataMin=ce(Je(e.dataMin,r[0]),n),e.dataMax=ue(Je(e.dataMax,r[0]),x(r)))):(n.getExtremes(),i=n.dataMax,n=n.dataMin,l(n)&&l(i)&&(e.dataMin=ce(Je(e.dataMin,n),n),e.dataMax=ue(Je(e.dataMax,i),i)),l(o)&&(e.threshold=o),(!r.softThreshold||e.isLog)&&(e.softThreshold=!1))}})},translate:function(e,t,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,u=i?s.oldTransA:s.transA,i=i?s.oldMin:s.min,c=s.minPixelPadding,r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val;return u||(u=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),t?(e=e*a+l,e-=c,e=e/u+i,r&&(e=s.lin2val(e))):(r&&(e=s.val2lin(e)),"between"===o&&(o=.5),e=a*(e-i)*u+l+a*c+(Ze(o)?u*o*s.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,r){var o,s,a,l=this.chart,u=this.left,c=this.top,d=n&&l.oldChartHeight||l.chartHeight,f=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var h=function(e,t,n){return(t>e||e>n)&&(i?e=ce(ue(t,e),n):a=!0),e},r=Je(r,this.translate(e,null,null,n)),e=n=se(r+o);return o=s=se(d-r-o),Ze(r)?this.horiz?(o=c,s=d-this.bottom,e=n=h(e,u,u+this.width)):(e=u,n=f-this.right,o=s=h(o,c,c+this.height)):a=!0,a&&!i?null:l.renderer.crispLine([Me,e,o,Ie,n,s],t||1)},getLinearTickPositions:function(e,t,n){var i,r=T(ae(t/e)*e),o=T(le(n/e)*e),s=[];if(t===n&&Ze(t))return[t];for(t=r;o>=t&&(s.push(t),t=T(t+e),t!==i);)i=t;return s},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[],o=this.pointRangePadding||0;e=this.min-o;var o=this.max+o,s=o-e;if(s&&s/i<this.len/3)if(this.isLog)for(o=n.length,e=1;o>e;e++)r=r.concat(this.getLogTickPositions(i,n[e-1],n[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),e,o,t.startOfWeek));else for(n=e+(n[0]-e)%i;o>=n;n+=i)r.push(n);return 0!==r.length&&this.trimTicks(r,t.startOnTick,t.endOnTick),r},adjustForMinRange:function(){var e,t,n,i,r,o,s,a=this.options,u=this.min,c=this.max,d=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===M&&!this.isLog&&(l(a.min)||l(a.max)?this.minRange=null:(ze(this.series,function(e){for(r=e.xData,n=o=e.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(t===M||t>i)&&(t=i)}),this.minRange=ce(5*t,this.dataMax-this.dataMin))),c-u<this.minRange&&(s=this.minRange,e=(s-c+u)/2,e=[u-e,Je(a.min,u-e)],d&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=x(e),c=[u+s,Je(a.max,u+s)],d&&(c[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),c=w(c),s>c-u&&(e[0]=c-s,e[1]=Je(a.min,c-s),u=x(e))),this.min=u,this.max=c},getClosest:function(){var e;return this.categories?e=1:ze(this.series,function(t){var n=t.closestPointRange;!t.noSharedTooltip&&l(n)&&(e=l(e)?ce(e,n):n)}),e},nameToX:function(e){var t,n=s(this.categories),i=n?this.categories:this.names,r=e.options.x;return e.series.requireSorting=!1,l(r)||(r=this.options.nameToX===!1?e.series.autoIncrement():$e(e.name,i)),-1===r?n||(t=i.length):t=r,this.names[t]=e.name,t},updateNames:function(){var e=this;this.names.length>0&&(this.names.length=0,this.minRange=void 0,ze(this.series||[],function(t){t.processedXData||(t.processData(),t.generatePoints()),ze(t.points,function(n,i){var r;n.options&&void 0===n.options.x&&(r=e.nameToX(n),r!==n.x)&&(n.x=r,t.xData[i]=r)})}))},setAxisTranslation:function(e){var t,n=this,i=n.max-n.min,r=n.axisPointRange||0,s=0,a=0,l=n.linkedParent,u=!!n.categories,c=n.transA,d=n.isXAxis;(d||u||r)&&(l?(s=l.minPointOffset,a=l.pointRangePadding):(t=n.getClosest(),ze(n.series,function(e){var i=u?1:d?Je(e.options.pointRange,t,0):n.axisPointRange||0,e=e.options.pointPlacement;r=ue(r,i),n.single||(s=ue(s,o(e)?0:i/2),a=ue(a,"on"===e?0:i))})),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=s*=l,n.pointRangePadding=a*=l,n.pointRange=ce(r,i),d&&(n.closestPointRange=t)),e&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.len/(i+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,s=this,a=s.chart,u=s.options,c=s.isLog,d=s.log2lin,f=s.isDatetimeAxis,h=s.isXAxis,p=s.isLinked,m=u.maxPadding,g=u.minPadding,v=u.tickInterval,_=u.tickPixelInterval,w=s.categories,x=s.threshold,C=s.softThreshold;!f&&!w&&!p&&this.getTickAmount(),r=Je(s.userMin,u.min),o=Je(s.userMax,u.max),p?(s.linkedParent=a[s.coll][u.linkedTo],a=s.linkedParent.getExtremes(),s.min=Je(a.min,a.dataMin),s.max=Je(a.max,a.dataMax),u.type!==s.linkedParent.options.type&&t(11,1)):(!C&&l(x)&&(s.dataMin>=x?(n=x,g=0):s.dataMax<=x&&(i=x,m=0)),s.min=Je(r,n,s.dataMin),s.max=Je(o,i,s.dataMax)),c&&(!e&&ce(s.min,Je(s.dataMin,s.min))<=0&&t(10,1),s.min=T(d(s.min),15),s.max=T(d(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=ue(s.min,s.minFromRange()),s.userMax=o=s.max,s.range=null),Ye(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),w||s.axisPointRange||s.usePercentage||p||!l(s.min)||!l(s.max)||!(d=s.max-s.min)||(!l(r)&&g&&(s.min-=d*g),!l(o)&&m&&(s.max+=d*m)),Ze(u.floor)&&(s.min=ue(s.min,u.floor)),Ze(u.ceiling)&&(s.max=ce(s.max,u.ceiling)),C&&l(s.dataMin)&&(x=x||0,!l(r)&&s.min<x&&s.dataMin>=x?s.min=x:!l(o)&&s.max>x&&s.dataMax<=x&&(s.max=x)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:p&&!v&&_===s.linkedParent.options.tickPixelInterval?v=s.linkedParent.tickInterval:Je(v,this.tickAmount?(s.max-s.min)/ue(this.tickAmount-1,1):void 0,w?1:(s.max-s.min)*_/ue(s.len,_)),h&&!e&&ze(s.series,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!v&&(s.tickInterval=ue(s.pointRange,s.tickInterval)),e=Je(u.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!v&&s.tickInterval<e&&(s.tickInterval=e),f||c||v||(s.tickInterval=b(s.tickInterval,null,y(s.tickInterval),Je(u.allowDecimals,!(s.tickInterval>.5&&s.tickInterval<5&&s.max>1e3&&s.max<9999)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=e=i&&i.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.isLinked||(this.trimTicks(e,o,s),this.min===this.max&&l(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!i&&!r&&this.adjustTickAmount())},trimTicks:function(e,t,n){var i=e[0],r=e[e.length-1],o=this.minPointOffset||0;if(t)this.min=i;else for(;this.min-o>e[0];)e.shift();if(n)this.max=r;else for(;this.max+o<e[e.length-1];)e.pop();0===e.length&&l(i)&&e.push((r+i)/2)},alignToOthers:function(){var e,t={},n=this.options;return this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&ze(this.chart[this.coll],function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join(",");n.series.length&&(t[i]?e=!0:t[i]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!l(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=le(this.len/n)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=t&&t.length;if(n>r){for(;t.length<n;)t.push(T(t[t.length-1]+e));this.transA*=(r-1)/(n-1),this.max=t[t.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(e=n=t.length;e--;)(3===i&&e%2===1||2>=i&&e>0&&n-1>e)&&t.splice(e,1);this.finalTickAmt=M}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,ze(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,i,r){var o=this,s=o.chart,n=Je(n,!0);ze(o.series,function(e){delete e.kdTree}),r=Ke(r,{min:e,max:t}),Ye(o,"setExtremes",r,function(){o.userMin=e,o.userMax=t,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,r=this.options,o=ce(n,Je(r.min,n)),r=ue(i,Je(r.max,i));return this.allowZoomOutside||(l(n)&&o>=e&&(e=o),l(i)&&t>=r&&(t=r)),this.displayBtn=e!==M||t!==M,this.setExtremes(e,t,!1,M,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,i=this.horiz,r=Je(t.width,e.plotWidth-n+(t.offsetRight||0)),o=Je(t.height,e.plotHeight),s=Je(t.top,e.plotTop),t=Je(t.left,e.plotLeft+n),n=/%$/;n.test(o)&&(o=Math.round(parseFloat(o)/100*e.plotHeight)),n.test(s)&&(s=Math.round(parseFloat(s)/100*e.plotHeight+e.plotTop)),this.left=t,this.top=s,this.width=r,this.height=o,this.bottom=e.chartHeight-o-s,this.right=e.chartWidth-r-t,this.len=ue(i?r:o,0),this.pos=i?t:s},getExtremes:function(){var e=this.isLog,t=this.lin2log;return{min:e?T(t(this.min)):this.min,max:e?T(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=this.lin2log,i=t?n(this.min):this.min,t=t?n(this.max):this.max;return null===e?e=i:i>e?e=i:e>t&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(Je(e,0)-90*this.side+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},tickSize:function(e){var t=this.options,n=t[e+"Length"],i=Je(t[e+"Width"],"tick"===e&&this.isXAxis?1:0);return i&&n?("inside"===t[e+"Position"]&&(n=-n),[n,i]):void 0},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var e,t,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),u=i.rotation,c=this.labelMetrics(),d=Number.MAX_VALUE,f=function(e){return e/=a||1,e=e>1?le(e):1,e*o};return r?(n=!i.staggerLines&&!i.step&&(l(u)?[u]:a<Je(i.autoRotationLimit,80)&&i.autoRotation))&&ze(n,function(n){var i;(n===u||n&&n>=-90&&90>=n)&&(t=f(de(c.h/he(me*n))),i=t+de(n/360),d>i&&(d=i,e=n,s=t))}):i.step||(s=f(c.h)),this.autoRotation=n,this.labelRotation=Je(e,u),s},getSlotWidth:function(){var e=this.chart,t=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];return t&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*e.plotWidth/i||!t&&(r&&r-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var e,t,n,r=this.chart,s=r.renderer,a=this.tickPositions,l=this.ticks,u=this.options.labels,c=this.horiz,d=this.getSlotWidth(),f=ue(1,se(d-2*(u.padding||5))),h={},p=this.labelMetrics(),m=u.style.textOverflow,g=0;if(o(u.rotation)||(h.rotation=u.rotation||0),ze(a,function(e){(e=l[e])&&e.labelLength>g&&(g=e.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>f&&g>p.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(e={width:f+"px"},!m))for(e.textOverflow="clip",t=a.length;!c&&t--;)n=a[t],(f=l[n].label)&&("ellipsis"===f.styles.textOverflow?f.css({textOverflow:"clip"}):l[n].labelLength>d&&f.css({width:d+"px"}),f.getBBox().height>this.len/a.length-(p.h-p.f)&&(f.specCss={textOverflow:"ellipsis"}));h.rotation&&(e={width:(g>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},!m)&&(e.textOverflow="ellipsis"),(this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),ze(a,function(t){var n=(t=l[t])&&t.label;n&&(n.attr(h),e&&n.css(i(e,n.specCss)),delete n.specCss,t.rotation=h.rotation)}),this.tickRotCorr=s.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},getOffset:function(){var e,t,n,i,r=this,o=r.chart,s=o.renderer,a=r.options,u=r.tickPositions,c=r.ticks,d=r.horiz,f=r.side,h=o.inverted?[1,0,3,2][f]:f,p=0,m=0,g=a.title,v=a.labels,y=0,b=r.opposite,_=o.axisOffset,o=o.clipOffset,w=[-1,1,1,-1][f],x=r.axisParent,C=this.tickSize("tick");if(e=r.hasData(),r.showAxis=t=e||Je(a.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(x),r.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(x),r.labelGroup=s.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels").add(x)),e||r.isLinked)ze(u,function(e){c[e]?c[e].addLabel():c[e]=new P(r,e)}),r.renderUnsquish(),v.reserveSpace!==!1&&(0===f||2===f||{1:"left",3:"right"}[f]===r.labelAlign||"center"===r.labelAlign)&&ze(u,function(e){y=ue(c[e].getLabelSize(),y)}),r.staggerLines&&(y*=r.staggerLines,r.labelOffset=y*(r.opposite?-1:1));else for(i in c)c[i].destroy(),delete c[i];g&&g.text&&g.enabled!==!1&&(r.axisTitle||((i=g.textAlign)||(i=(d?{low:"left",middle:"center",high:"right"}:{low:b?"right":"left",middle:"center",high:b?"left":"right"})[g.align]),r.axisTitle=s.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:i}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),t&&(p=r.axisTitle.getBBox()[d?"height":"width"],n=g.offset,m=l(n)?0:Je(g.margin,d?5:10)),r.axisTitle[t?"show":"hide"](!0)),r.offset=w*Je(a.offset,_[f]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},s=0===f?-r.labelMetrics().h:2===f?r.tickRotCorr.y:0,m=Math.abs(y)+m,y&&(m-=s,m+=w*(d?Je(v.y,r.tickRotCorr.y+8*w):v.x)),r.axisTitleMargin=Je(n,m),_[f]=ue(_[f],r.axisTitleMargin+p+w*r.offset,m,e&&u.length&&C?C[0]:0),a=a.offset?0:2*ae(a.lineWidth/2),o[h]=ue(o[h],a)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine([Me,r?this.left:o,r?i:this.top,Ie,r?t.chartWidth-this.right:o,r?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,r=this.options.title,o=e?t:n,s=this.opposite,a=this.offset,l=r.x||0,u=r.y||0,c=this.chart.renderer.fontMetrics(r.style.fontSize).f,i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[r.align],t=(e?n+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?i+l:t+(s?this.width:0)+a+l,y:e?t+u-(s?this.height:0)+a:i+u}},render:function(){var e,t,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.isLog,l=i.lin2log,u=i.isLinked,c=i.tickPositions,f=i.axisTitle,h=i.ticks,p=i.minorTicks,m=i.alternateBands,g=s.stackLabels,v=s.alternateGridColor,y=i.tickmarkOffset,b=s.lineWidth,_=r.hasRendered&&Ze(i.oldMin),w=i.showAxis,x=E(o.globalAnimation);i.labelEdge.length=0,i.overlap=!1,ze([h,p,m],function(e){for(var t in e)e[t].isActive=!1}),(i.hasData()||u)&&(i.minorTickInterval&&!i.categories&&ze(i.getMinorTickPositions(),function(e){p[e]||(p[e]=new P(i,e,"minor")),_&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),c.length&&(ze(c,function(e,t){(!u||e>=i.min&&e<=i.max)&&(h[e]||(h[e]=new P(i,e)),_&&h[e].isNew&&h[e].render(t,!0,.1),h[e].render(t))}),y&&(0===i.min||i.single))&&(h[-1]||(h[-1]=new P(i,-1,null,!0)),h[-1].render(-1)),v&&ze(c,function(e,o){n=c[o+1]!==M?c[o+1]+y:i.max-y,o%2===0&&e<i.max&&n<=i.max+(r.polar?-y:y)&&(m[e]||(m[e]=new ie.PlotLineOrBand(i)),t=e+y,m[e].options={from:a?l(t):t,to:a?l(n):n,color:v},m[e].render(),m[e].isActive=!0)}),i._addedPlotLB||(ze((s.plotLines||[]).concat(s.plotBands||[]),function(e){i.addPlotBandOrLine(e)}),i._addedPlotLB=!0)),ze([h,p,m],function(e){var t,n,i=[],o=x.duration;for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));d(function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])},e!==m&&r.hasRendered&&o?o:0)}),b&&(e=i.getLinePath(b),i.axisLine?i.axisLine.animate({d:e}):i.axisLine=o.path(e).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(i.axisGroup),i.axisLine[w?"show":"hide"](!0)),f&&w&&(f[f.isNew?"attr":"animate"](i.getTitlePosition()),f.isNew=!1),g&&g.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),ze(this.plotLinesAndBands,function(e){e.render()})),ze(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,n=this,i=n.stacks,r=n.plotLinesAndBands;e||Ue(n);for(t in i)C(i[t]),i[t]=null;for(ze([n.ticks,n.minorTicks,n.alternateBands],function(e){C(e)}),e=r.length;e--;)r[e].destroy();ze("stackTotalGroup,axisLine,axisTitle,axisGroup,gridGroup,labelGroup,cross".split(","),function(e){n[e]&&(n[e]=n[e].destroy())}),this._addedPlotLB=this.chart._labelPanes=this.ordinalSlope=void 0},drawCrosshair:function(e,t){var n,i,r,o=this.crosshair;e||(e=this.cross&&this.cross.e),this.crosshair&&(l(t)||!Je(o.snap,!0))!==!1?(Je(o.snap,!0)?l(t)&&(n=this.isXAxis?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:Je(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===n?this.hideCrosshair():(i=this.categories&&!this.isRadial,r=Je(o.width,i?this.transA:1),this.cross?this.cross.attr({d:n,visibility:"visible","stroke-width":r}):(i={"pointer-events":"none","stroke-width":r,stroke:o.color||(i?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Je(o.zIndex,2)},o.dashStyle&&(i.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add()),this.cross.e=e)):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},Ke(at.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),i=this.getPlotLinePath(e,null,null,!0);return i&&n?(i.flat=i.toString()===n.toString(),i.push(n[4],n[5],n[1],n[2])):i=null,i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new ie.PlotLineOrBand(this,e).render(),i=this.userOptions;return n&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();ze([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&a(t,t[r])})}}),at.prototype.getTimeTicks=function(e,t,n,i){var r,o=[],s={},a=B.global.useUTC,u=new z(t-g(t)),c=e.unitRange,d=e.count;if(l(t)){u[K](c>=$.second?0:d*ae(u.getMilliseconds()/d)),c>=$.second&&u[Q](c>=$.minute?0:d*ae(u.getSeconds()/d)),c>=$.minute&&u[Z](c>=$.hour?0:d*ae(u[q]()/d)),c>=$.hour&&u[J](c>=$.day?0:d*ae(u[U]()/d)),c>=$.day&&u[ee](c>=$.month?1:d*ae(u[V]()/d)),c>=$.month&&(u[te](c>=$.year?0:d*ae(u[X]()/d)),r=u[G]()),c>=$.year&&(r-=r%d,u[ne](r)),c===$.week&&u[ee](u[V]()-u[Y]()+Je(i,1)),t=1,(j||W)&&(u=u.getTime(),u=new z(u+g(u))),r=u[G]();for(var i=u.getTime(),f=u[X](),h=u[V](),p=!a||!!W,m=($.day+(a?g(u):6e4*u.getTimezoneOffset()))%$.day;n>i;)o.push(i),c===$.year?i=H(r+t*d,0):c===$.month?i=H(r,f+t*d):!p||c!==$.day&&c!==$.week?i+=c*d:i=H(r,f,h+t*d*(c===$.day?1:7)),t++;o.push(i),ze(He(o,function(e){return c<=$.hour&&e%$.day===m}),function(e){s[e]="day"})}return o.info=Ke(e,{higherRanks:s,totalRange:c*d}),o},at.prototype.normalizeTimeTickInterval=function(e,t){var n,i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=i[i.length-1],o=$[r[0]],s=r[1];for(n=0;n<i.length&&(r=i[n],o=$[r[0]],s=r[1],!(i[n+1]&&e<=(o*s[s.length-1]+$[i[n+1][0]])/2));n++);return o===$.year&&5*o>e&&(s=[1,2,5]),i=b(e/o,s,"year"===r[0]?ue(y(e/o),1):1),{unitRange:o,count:i,unitName:r[0]}},at.prototype.getLogTickPositions=function(e,t,n,i){var r=this.options,o=this.len,s=this.lin2log,a=this.log2lin,l=[];if(i||(this._minorAutoInterval=null),e>=.5)e=se(e),l=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var u,c,d,f,h,o=ae(t),r=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>o&&!h;o++)for(c=r.length,u=0;c>u&&!h;u++)d=a(s(o)*r[u]),d>t&&(!i||n>=f)&&f!==M&&l.push(f),f>n&&(h=!0),f=d;else t=s(t),n=s(n),e=r[i?"minorTickInterval":"tickInterval"],e=Je("auto"===e?null:e,this._minorAutoInterval,(n-t)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),e=b(e,null,y(e)),l=We(this.getLinearTickPositions(e,t,n),a),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),l},at.prototype.log2lin=function(e){return oe.log(e)/oe.LN10},at.prototype.lin2log=function(e){return oe.pow(10,e)};var lt=ie.Tooltip=function(){this.init.apply(this,arguments)};lt.prototype={init:function(e,t){var n=t.borderWidth,i=t.style,o=r(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8,display:"none"}).css(i).css({padding:0}).add(),Se||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,i){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(de(e-o.x)>1||de(t-o.y)>1),a=r.followPointer||r.len>1;Ke(o,{x:s?(2*o.x+e)/3:e,y:s?(o.y+t)/2:t,anchorX:a?M:s?(2*o.anchorX+n)/3:n,anchorY:a?M:s?(o.anchorY+i)/2:i}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(e,t,n,i)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=Je(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){t.label[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,u=0,d=0,e=c(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===M&&(t=o.pointer.normalize(t)),n=[t.chartX-o.plotLeft,t.chartY-a]),n||(ze(e,function(e){i=e.series.yAxis,r=e.series.xAxis,u+=e.plotX+(!s&&r?r.left-l:0),d+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!s&&i?i.top-a:0)}),u/=e.length,d/=e.length,n=[s?o.plotWidth-d:u,this.shared&&!s&&e.length>1&&t?t.chartY-a:s?o.plotHeight-u:d]),We(n,se)},getPosition:function(e,t,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,l=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],c=!this.followPointer&&Je(n.ttBelow,!r.inverted==!!n.negative),d=function(e,t,n,i,r,l){var u=i-o>n,d=t>i+o+n,f=i-o-n;if(i+=o,c&&d)s[e]=i;else if(!c&&u)s[e]=f;else if(u)s[e]=ce(l-n,0>f-a?f:f-a);else{if(!d)return!1;s[e]=ue(r,i+a+n>t?i:i+a)}},f=function(e,t,n,i){var r;return o>i||i>t-o?r=!1:s[e]=n/2>i?1:i>t-n/2?t-n-2:i-n/2,r},h=function(e){var t=l;l=u,u=t,i=e},p=function(){d.apply(0,l)!==!1?f.apply(0,u)===!1&&!i&&(h(!0),p()):i?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(e){var t,n=this.points||c(this);return t=[e.tooltipFooterHeaderFormatter(n[0])],t=t.concat(e.bodyFormatter(n)),t.push(e.tooltipFooterHeaderFormatter(n[0],!0)),t.join("")},refresh:function(e,t){var n,i,r,o,s=this.chart,a=this.label,l=this.options,u={},d=[];o=l.formatter||this.defaultFormatter;var f,u=s.hoverPoints,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(e)[0].series.tooltipOptions.followPointer,r=this.getAnchor(e,t),n=r[0],i=r[1],!h||e.series&&e.series.noSharedTooltip?u=e.getLabelConfig():(s.hoverPoints=e,u&&ze(u,function(e){e.setState()}),ze(e,function(e){e.setState("hover"),d.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=d,this.len=d.length,e=e[0]),o=o.call(u,this),u=e.series,this.distance=Je(u.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(Xe(a),a.attr({opacity:1,display:"block"}).show()),a.attr({text:o}),f=l.borderColor||e.color||u.color||"#606060",a.attr({stroke:f}),this.updatePosition({plotX:n,plotY:i,negative:e.negative,ttBelow:e.ttBelow,h:r[2]||0}),this.isHidden=!1),Ye(s,"tooltipRefresh",{text:o,x:n+s.plotLeft,y:i+s.plotTop,borderColor:f})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(se(n.x),se(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,n){var i,r,o,t=t.dateTimeLabelFormats,s=n&&n.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(s){o=F("%m-%d %H:%M:%S.%L",e.x);for(r in $){if(s===$.week&&+F("%w",e.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if($[r]>s){r=l;break}if(a[r]&&o.substr(a[r])!=="01-01 00:00:00.000".substr(a[r]))break;"week"!==r&&(l=r)}r&&(i=t[r])}else i=t.day;return i||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header",i=e.series,r=i.tooltipOptions,o=r.xDateFormat,s=i.xAxis,a=s&&"datetime"===s.options.type&&Ze(e.key),n=r[n+"Format"];return a&&!o&&(o=this.getXDateFormat(e,r,s)),a&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),v(n,{point:e,series:i})},bodyFormatter:function(e){return We(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var ut;R=re&&re.documentElement.ontouchstart!==M;var ct=ie.Pointer=function(e,t){this.init(e,t)};if(ct.prototype={init:function(e,t){var n,i=t.chart,r=i.events,o=Se?"":i.zoomType,i=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=n&&!i||o&&i,this.zoomVert=o&&!i||n&&i,this.hasZoom=n||o,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},ie.Tooltip&&t.tooltip.enabled&&(e.tooltip=new lt(e,t.tooltip),this.followTouchMove=Je(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,n){var i,r,t=t||e.event;return t.target||(t.target=t.srcElement),r=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=je(this.chart.container)),r.pageX===M?(i=ue(t.x,t.clientX-n.left),r=t.y):(i=r.pageX-n.left,r=r.pageY-n.top),Ke(t,{chartX:se(i),chartY:se(r)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return ze(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,n,i,r,o=this.chart,s=o.series,a=o.tooltip,l=a?a.shared:!1,u=!0,c=o.hoverPoint,d=o.hoverSeries,f=[];if(!l&&!d)for(t=0;t<s.length;t++)(s[t].directTouch||!s[t].options.stickyTracking)&&(s=[]);if(d&&(l?d.noSharedTooltip:d.directTouch)&&c?f=[c]:(!l&&d&&!d.options.stickyTracking&&(s=[d]),ze(s,function(t){n=t.noSharedTooltip&&l,i=!l&&t.directTouch,t.visible&&!n&&!i&&Je(t.options.enableMouseTracking,!0)&&(r=t.searchPoint(e,!n&&1===t.kdDimensions))&&r.series&&f.push(r)}),f.sort(function(e,t){var n=e.distX-t.distX,i=e.dist-t.dist,r=e.series.group.zIndex>t.series.group.zIndex?-1:1;return 0!==n?n:0!==i?i:r})),l)for(t=f.length;t--;)(f[t].clientX!==f[0].clientX||f[t].series.noSharedTooltip)&&f.splice(t,1);if(f[0]&&(f[0]!==this.hoverPoint||a&&a.isHidden)){if(l&&!f[0].series.noSharedTooltip){for(t=0;t>=0;t--)f[t].onMouseOver(e,f[t]!==(d&&d.directTouch&&c||f[0]));d&&d.directTouch&&c&&c!==f[0]&&c.onMouseOver(e,!1),f.length&&a&&a.refresh(f.sort(function(e,t){return e.series.index-t.series.index}),e)}else a&&a.refresh(f[0],e),d&&d.directTouch||f[0].onMouseOver(e);this.prevKDPoint=f[0],u=!1}u&&(s=d&&d.tooltipOptions.followPointer,a&&s&&!a.isHidden&&(s=a.getAnchor([{}],e),a.updatePosition({plotX:s[0],plotY:s[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(e){Ne[ut]&&Ne[ut].pointer.onDocumentMouseMove(e)},qe(re,"mousemove",this._onDocumentMouseMove)),ze(l?f:[Je(c,f[0])],function(t){ze(o.axes,function(n){(!t||t.series&&t.series[n.coll]===n)&&n.drawCrosshair(e,t)})})},reset:function(e,t){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:r;e&&a&&ze(c(a),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),ze(n.axes,function(e){e.crosshair&&e.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&ze(o,function(e){e.setState()}),i&&i.onMouseOut(),s&&s.hide(t),this._onDocumentMouseMove&&(Ue(re,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),ze(n.axes,function(e){e.hideCrosshair()}),this.hoverX=this.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,i=this.chart;ze(i.series,function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(t||i.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,r=e.chartX,o=e.chartY,s=this.zoomHor,a=this.zoomVert,l=n.plotLeft,u=n.plotTop,c=n.plotWidth,d=n.plotHeight,f=this.selectionMarker,h=this.mouseDownX,p=this.mouseDownY,m=i.panKey&&e[i.panKey+"Key"];f&&f.touch||(l>r?r=l:r>l+c&&(r=l+c),u>o?o=u:o>u+d&&(o=u+d),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-o,2)),this.hasDragged>10&&(t=n.isInsidePlot(h-l,p-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!m&&!f&&(this.selectionMarker=f=n.renderer.rect(l,u,s?1:c,a?1:d,0).attr({
fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),f&&s&&(r-=h,f.attr({width:de(r),x:(r>0?0:r)+h})),f&&a&&(r=o-p,f.attr({height:de(r),y:(r>0?0:r)+p})),t&&!f&&i.panning&&n.pan(e,i.panning)))},drop:function(e){var t=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:e,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,d=s.attr?s.attr("height"):s.height;(this.hasDragged||i)&&(ze(n.axes,function(n){if(n.zoomEnabled&&l(n.min)&&(i||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,f="touchend"===e.type?n.minPixelPadding:0,h=n.toValue((s?a:u)+f),s=n.toValue((s?a+c:u+d)-f);o[n.coll].push({axis:n,min:ce(h,s),max:ue(h,s)}),r=!0}}),r&&Ye(n,"selection",o,function(e){n.zoom(Ke(e,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(f(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Ne[ut]&&Ne[ut].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,e=this.normalize(e,n);n&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(e){var t=Ne[ut];t&&(e.relatedTarget||e.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;l(ut)&&Ne[ut]&&Ne[ut].mouseIsDown||(ut=t.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=u(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,e=e.relatedTarget||e.toElement;!t||!e||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,i=t.plotLeft,r=t.plotTop,e=this.normalize(e);t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(Ye(n.series,"click",Ke(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Ke(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-r)&&Ye(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},qe(t,"mouseleave",e.onContainerMouseLeave),1===Pe&&qe(re,"mouseup",e.onDocumentMouseUp),R&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Pe&&qe(re,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Ue(this.chart.container,"mouseleave",this.onContainerMouseLeave),Pe||(Ue(re,"mouseup",this.onDocumentMouseUp),Ue(re,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Ke(ie.Pointer.prototype,{pinchTranslate:function(e,t,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,i,r,o)},pinchTranslateDirection:function(e,t,n,i,r,o,s,a){var l,u,c,d=this.chart,f=e?"x":"y",h=e?"X":"Y",p="chart"+h,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[e?"h":"v"],_=1===t.length,w=t[0][p],x=n[0][p],C=!_&&t[1][p],k=!_&&n[1][p],n=function(){!_&&de(w-C)>20&&(v=a||de(x-k)/de(w-C)),u=(g-x)/v+w,l=d["plot"+(e?"Width":"Height")]/v};n(),t=u,t<b.min?(t=b.min,c=!0):t+l>b.max&&(t=b.max-l,c=!0),c?(x-=.8*(x-s[f][0]),_||(k-=.8*(k-s[f][1])),n()):s[f]=[x,k],y||(o[f]=u-g,o[m]=l),o=y?1/v:v,r[m]=l,r[f]=t,i[y?e?"scaleY":"scaleX":"scale"+h]=v,i["translate"+h]=o*g+(x-o*w)},pinch:function(e){var t=this,n=t.chart,i=t.pinchDown,r=e.touches,o=r.length,s=t.lastValidTouch,a=t.hasZoom,l=t.selectionMarker,u={},c=1===o&&(t.inClass(e.target,"highcharts-tracker")&&n.runTrackerClick||t.runChartClick),d={};o>1&&(t.initiated=!0),a&&t.initiated&&!c&&e.preventDefault(),We(r,function(e){return t.normalize(e)}),"touchstart"===e.type?(ze(r,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],ze(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],i=e.minPixelPadding,r=e.toPixels(Je(e.options.min,e.dataMin)),o=e.toPixels(Je(e.options.max,e.dataMax)),s=ce(r,o),r=ue(r,o);t.min=ce(e.pos,s-i),t.max=ue(e.pos+e.len,r+i)}}),t.res=!0):i.length&&(l||(t.selectionMarker=l=Ke({destroy:Ae,touch:!0},n.plotBox)),t.pinchTranslate(i,r,u,l,d,s),t.hasPinched=a,t.scaleGroups(u,d),!a&&t.followTouchMove&&1===o?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,t){var n,i=this.chart;ut=i.index,1===e.touches.length?(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,n=i[0]?Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))>=4:!1),Je(n,!0)&&this.pinch(e)):t&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){Ne[ut]&&Ne[ut].pointer.drop(e)}}),e.PointerEvent||e.MSPointerEvent){var dt={},ft=!!e.PointerEvent,ht=function(){var e,t=[];t.item=function(e){return this[e]};for(e in dt)dt.hasOwnProperty(e)&&t.push({pageX:dt[e].pageX,pageY:dt[e].pageY,target:dt[e].target});return t},pt=function(e,t,n,i){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Ne[ut]||(i(e),i=Ne[ut].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:Ae,touches:ht()}))};Ke(ct.prototype,{onContainerPointerDown:function(e){pt(e,"onContainerTouchStart","touchstart",function(e){dt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){pt(e,"onContainerTouchMove","touchmove",function(e){dt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},dt[e.pointerId].target||(dt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){pt(e,"onDocumentTouchEnd","touchend",function(e){delete dt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,ft?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,ft?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(re,ft?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),et(ct.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&f(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),et(ct.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(qe)}),et(ct.prototype,"destroy",function(e){this.batchMSEvents(Ue),e.call(this)})}var mt=ie.Legend=function(e,t){this.init(e,t)};mt.prototype={init:function(e,t){var n=this,r=t.itemStyle,o=t.itemMarginTop||0;this.options=t,t.enabled&&(n.itemStyle=r,n.itemHiddenStyle=i(r,t.itemHiddenStyle),n.itemMarginTop=o,n.padding=r=Je(t.padding,8),n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.symbolWidth=Je(t.symbolWidth,16),n.pages=[],n.render(),qe(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i=this.options,r=e.legendItem,o=e.legendLine,s=e.legendSymbol,a=this.itemHiddenStyle.color,i=t?i.itemStyle.color:a,l=t?e.legendColor||e.color||"#CCC":a,a=e.options&&e.options.marker,u={fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(n in u.stroke=l,a=e.convertAttribs(a))r=a[n],r!==M&&(u[n]=r);s.attr(u)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,r=i[0],i=i[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(e){var t=e.checkbox;ze(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;n&&(t=n.translateY,ze(this.allItems,function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(e||0)+3,f(a,{left:n.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:s>t-6&&t+i-6>s?"":"none"}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?v(t.labelFormat,e):t.labelFormatter.call(e)})},renderItem:function(e){var t=this.chart,n=t.renderer,r=this.options,o="horizontal"===r.layout,s=this.symbolWidth,a=r.symbolPadding,l=this.itemStyle,u=this.itemHiddenStyle,c=this.padding,d=o?Je(r.itemDistance,20):0,f=!r.rtl,h=r.width,p=r.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,v=e.legendItem,y=e.series&&e.series.drawLegendSymbol?e.series:e,b=y.options,b=this.createCheckboxForItem&&b&&b.showCheckbox,_=r.useHTML;v||(e.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=n.text("",f?s+a:-a,this.baseline||0,_).css(i(e.visible?l:u)).attr({align:f?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,_,l,u),b&&this.createCheckboxForItem(e)),this.colorizeItem(e,e.visible),this.setText(e),n=v.getBBox(),s=e.checkboxOffset=r.itemWidth||e.legendItemWidth||s+a+n.width+d+(b?20:0),this.itemHeight=a=se(e.legendItemHeight||n.height),o&&this.itemX-g+s>(h||t.chartWidth-2*c-g-r.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+p,this.lastLineHeight=0),this.maxItemWidth=ue(this.maxItemWidth,s),this.lastItemY=m+this.itemY+p,this.lastLineHeight=ue(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=s:(this.itemY+=m+a+p,this.lastLineHeight=a),this.offsetWidth=h||ue((o?this.itemX-g-d:s)+c,this.offsetWidth)},getAllItems:function(){var e=[];return ze(this.chart.series,function(t){var n=t.options;Je(n.showInLegend,l(n.linkedTo)?!1:M,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||ze([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!l(e[s])&&(n[Le[s]]=ue(n[Le[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+Je(i.margin,12)+t[s]))})},render:function(){var e,t,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,u=r.options,c=r.padding,d=u.borderWidth,f=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),e=r.getAllItems(),_(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),u.reversed&&e.reverse(),r.allItems=e,r.display=t=!!e.length,r.lastLineHeight=0,ze(e,function(e){r.renderItem(e)}),n=(u.width||r.offsetWidth)+c,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=c,(d||f)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=s.rect(0,0,n,i,u.borderRadius,d||0).attr({stroke:u.borderColor,"stroke-width":d||0,fill:f||"none"}).add(a).shadow(u.shadow),l.isNew=!0),l[t?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,ze(e,function(e){r.positionItem(e)}),t&&a.align(Ke({width:n,height:i},u),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,a=r.spacingBox.height+("top"===s.verticalAlign?-a:a)-this.padding,l=s.maxHeight,u=this.clipRect,c=s.navigation,d=Je(c.animation,!0),f=c.arrowSize||12,h=this.nav,p=this.pages,m=this.padding,g=this.allItems,v=function(e){u.attr({height:e}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+m+"px,9999px,"+(m+e)+"px,0)")};return"horizontal"===s.layout&&(a/=2),l&&(a=ce(a,l)),p.length=0,e>a&&c.enabled!==!1?(this.clipHeight=t=ue(a-20-this.titleHeight-m,0),this.currentPage=Je(this.currentPage,1),this.fullHeight=e,ze(g,function(e,i){var r=e._legendItemPos[1],o=se(e.legendItem.getBBox().height),s=p.length;(!s||r-p[s-1]>t&&(n||r)!==p[s-1])&&(p.push(n||r),s++),i===g.length-1&&r+o-p[s-1]>t&&p.push(r),r!==n&&(n=r)}),u||(u=i.clipRect=o.clipRect(0,m,9999,0),i.contentGroup.clip(u)),v(t),h||(this.nav=h=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,d)}).add(h),this.pager=o.text("",15,10).css(c.style).add(h),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,d)}).add(h)),i.scroll(0),e=a):h&&(v(r.chartHeight),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,i=n.length,r=this.currentPage+e,o=this.clipHeight,s=this.options.navigation,a=s.activeColor,s=s.inactiveColor,l=this.pager,u=this.padding;r>i&&(r=i),r>0&&(t!==M&&S(t,this.chart),this.nav.attr({translateX:u,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===r?s:a}).css({cursor:1===r?"default":"pointer"}),l.attr({text:r+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===i?s:a}).css({cursor:r===i?"default":"pointer"}),n=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=r,this.positionCheckboxes(n))}},rt=ie.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-n+1,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,i=n.marker,r=e.symbolWidth,o=this.chart.renderer,s=this.legendGroup,e=e.baseline-se(.3*e.fontMetrics.b);n.lineWidth&&(t={"stroke-width":n.lineWidth},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=o.path([Me,0,e,Ie,r,e]).attr(t).add(s)),i&&i.enabled!==!1&&(n=i.radius,this.legendSymbol=i=o.symbol(this.symbol,r/2-n,e-n,2*n,2*n,i).add(s),i.isMarker=!0)}},(/Trident\/7\.0/.test(ge)||we)&&et(mt.prototype,"positionItem",function(e,t){var n=this,i=function(){t._legendItemPos&&e.call(n,t)};i(),setTimeout(i)});var gt=ie.Chart=function(){this.getArgs.apply(this,arguments)};ie.chart=function(e,t,n){return new gt(e,t,n)},gt.prototype={callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(o(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(e,t){var n,r=e.series;e.series=null,n=i(B,e),n.series=e.series=r,this.userOptions=e,r=n.chart,this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var o=r.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var s,a=this;if(a.index=Ne.length,Ne.push(a),Pe++,r.reflow!==!1&&qe(a,"load",function(){a.initReflow()}),o)for(s in o)qe(a,s,o[s]);a.xAxis=[],a.yAxis=[],a.animation=Se?!1:Je(r.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(e){var n=this.options.chart;return(n=Be[e.type||n.type||n.defaultSeriesType])||t(17,!0),n=new n,n.init(this,e),n},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return i>=0&&i<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,n,i=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,u=this.isDirtyBox,c=r.length,d=c,f=this.renderer,h=f.isHidden(),p=[];for(S(e,this),h&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=r[d],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(d=c;d--;)e=r[d],e.options.stacking&&(e.isDirty=!0);ze(r,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),a=!0),e.isDirtyData&&Ye(e,"updatedData")}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,ze(i,function(e){e.updateNames(),e.setScale()})),this.getMargins(),l&&(ze(i,function(e){e.isDirty&&(u=!0)}),ze(i,function(e){var n=e.min+","+e.max;e.extKey!==n&&(e.extKey=n,p.push(function(){Ye(e,"afterSetExtremes",Ke(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(u||t)&&e.redraw()})),u&&this.drawChartBox(),ze(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset(!0),f.draw(),Ye(this,"redraw"),h&&this.cloneRenderTo(!0),ze(p,function(e){e.call()})},get:function(e){var t,n,i=this.axes,r=this.series;for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(n=r[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=c(t.xAxis||{}),t=t.yAxis=c(t.yAxis||{});ze(n,function(e,t){e.index=t,e.isX=!0}),ze(t,function(e,t){e.index=t}),n=n.concat(t),ze(n,function(t){new at(e,t)})},getSelectedPoints:function(){var e=[];return ze(this.series,function(t){e=e.concat(He(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return He(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var r,o,s=this,a=s.options;o=a.title=i(a.title,e),r=a.subtitle=i(a.subtitle,t),a=r,ze([["title",e,o],["subtitle",t,a]],function(e){var t=e[0],n=s[t],i=e[1],e=e[2];n&&i&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,r=r.subtitle,s=this.renderer,a=this.spacingBox;!n||(n.css({width:(o.width||a.width+o.widthAdjust)+"px"}).align(Ke({y:s.fontMetrics(o.style.fontSize,n).b-3},o),!1,a),o.floating||o.verticalAlign)||(t=n.getBBox().height),i&&(i.css({width:(r.width||a.width+r.widthAdjust)+"px"}).align(Ke({y:t+(o.margin-13)+s.fontMetrics(r.style.fontSize,n).b},r),!1,a),!r.floating&&!r.verticalAlign&&(t=le(t+i.getBBox().height))),n=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&n&&(this.isDirtyBox=n,this.hasRendered&&Je(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=Fe(n,"width")),l(e)||(this.containerHeight=Fe(n,"height")),this.chartWidth=ue(0,t||this.containerWidth||600),this.chartHeight=ue(0,Je(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;if(e){if(t){for(;t.childNodes.length;)this.renderTo.appendChild(t.firstChild);k(t),delete this.renderToClone}}else n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),re.body.appendChild(t),n&&t.appendChild(n)},getContainer:function(){var e,n,i,s=this.options,a=s.chart;e=this.renderTo;var l="highcharts-"+De++;e||(this.renderTo=e=a.renderTo),o(e)&&(this.renderTo=e=re.getElementById(e)),e||t(13,!0),n=r(u(e,"data-highcharts-chart")),Ze(n)&&Ne[n]&&Ne[n].hasRendered&&Ne[n].destroy(),u(e,"data-highcharts-chart",this.index),e.innerHTML="",!a.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,this.container=e=h(Oe,{className:"highcharts-container"+(a.className?" "+a.className:""),id:l},Ke({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(ie[a.renderer]||I)(e,n,i,a.style,a.forExport,s.exporting&&s.exporting.allowHTML),Se&&this.renderer.create(this,e,n,i),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!l(n[0])&&(this.plotTop=ue(this.plotTop,i+this.options.title.margin+t[0])),this.legend.display&&this.legend.adjustMargins(n,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&ze(e.axes,function(e){e.visible&&e.getOffset()}),ze(Le,function(i,r){l(n[r])||(e[i]+=t[r])}),e.setChartSize()},reflow:function(t){var n=this,i=n.options.chart,r=n.renderTo,o=l(i.width),s=i.width||Fe(r,"width"),i=i.height||Fe(r,"height"),r=t?t.target:e;o||n.isPrinting||!s||!i||r!==e&&r!==re||((s!==n.containerWidth||i!==n.containerHeight)&&(clearTimeout(n.reflowTimeout),n.reflowTimeout=d(function(){n.container&&n.setSize(void 0,void 0,!1)},t?100:0)),n.containerWidth=s,n.containerHeight=i)},initReflow:function(){var t=this,n=function(e){t.reflow(e)};qe(e,"resize",n),qe(t,"destroy",function(){Ue(e,"resize",n)})},setSize:function(e,t,n){var i=this,r=i.renderer;i.isResizing+=1,S(n,i),i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,void 0!==e&&(i.options.chart.width=e),void 0!==t&&(i.options.chart.height=t),i.getChartSize(),e=r.globalAnimation,(e?Ve:f)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},e),i.setChartSize(!0),r.setSize(i.chartWidth,i.chartHeight,n),i.maxTicks=null,ze(i.axes,function(e){e.isDirty=!0,e.setScale()}),ze(i.series,function(e){e.isDirty=!0}),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.redraw(n),i.oldChartHeight=null,Ye(i,"resize"),d(function(){i&&Ye(i,"endResize",null,function(){i.isResizing-=1})},E(e).duration)},setChartSize:function(e){var t,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=t=se(this.plotLeft),this.plotTop=n=se(this.plotTop),this.plotWidth=i=ue(0,se(a-t-this.marginRight)),this.plotHeight=r=ue(0,se(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:t,y:n,width:i,height:r},a=2*ae(this.plotBorderWidth/2),o=le(ue(a,d[3])/2),s=le(ue(a,d[0])/2),this.clipBox={x:o,y:s,width:ae(this.plotSizeX-ue(a,d[1])/2-o),height:ue(0,ae(this.plotSizeY-ue(a,d[2])/2-s))},e||ze(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;ze(Le,function(t,n){e[t]=Je(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,u=t.borderWidth||0,c=t.backgroundColor,d=t.plotBackgroundColor,f=t.plotBackgroundImage,h=t.plotBorderWidth||0,p=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,_=this.clipBox;e=u+(t.shadow?8:0),(u||c)&&(o?o.animate(o.crisp({width:i-e,height:r-e})):(o={fill:c||"none"},u&&(o.stroke=t.borderColor,o["stroke-width"]=u),this.chartBackground=n.rect(e/2,e/2,i-e,r-e,t.borderRadius,u).attr(o).addClass("highcharts-background").add().shadow(t.shadow))),d&&(s?s.animate(y):this.plotBackground=n.rect(p,m,g,v,0).attr({fill:d}).add().shadow(t.plotShadow)),f&&(l?l.animate(y):this.plotBGImage=n.image(f,p,m,g,v).add()),b?b.animate({width:_.width,height:_.height}):this.clipRect=n.clipRect(_),h&&(a?(a.strokeWidth=-h,a.animate(a.crisp({x:p,y:m,width:g,height:v}))):this.plotBorder=n.rect(p,m,g,v,0,-h).attr({stroke:t.plotBorderColor,"stroke-width":h,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,r=i.options.chart,o=i.options.series;ze(["inverted","angular","polar"],function(s){for(e=Be[r.type||r.defaultSeriesType],n=i[s]||r[s]||e&&e.prototype[s],t=o&&o.length;!n&&t--;)(e=Be[o[t].type])&&e.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var e=this,t=e.series;ze(t,function(e){e.linkedSeries.length=0}),ze(t,function(t){var n=t.options.linkedTo;o(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=Je(t.options.visible,n.options.visible,t.visible))})},renderSeries:function(){ze(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&ze(t.items,function(n){var i=Ke(t.style,n.style),o=r(i.left)+e.plotLeft,s=r(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(n.html,o,s).attr({zIndex:2}).css(i).add()})},render:function(){var e,t,n,i,r=this.axes,o=this.renderer,s=this.options;this.setTitle(),this.legend=new mt(this,s.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=21,ze(r,function(e){e.setScale()}),this.getAxisMargins(),n=e/this.plotWidth>1.1,i=t/this.plotHeight>1.05,(n||i)&&(this.maxTicks=null,ze(r,function(e){(e.horiz&&n||!e.horiz&&i)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&ze(r,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(s.credits),this.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(e.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var e,t=this,n=t.axes,i=t.series,r=t.container,o=r&&r.parentNode;for(Ye(t,"destroy"),Ne[t.index]=M,Pe--,t.renderTo.removeAttribute("data-highcharts-chart"),Ue(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();ze("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),r&&(r.innerHTML="",Ue(r),o&&k(r));for(e in t)delete t[e]},isReadyToRender:function(){var t=this;return!ke&&e==e.top&&"complete"!==re.readyState||Se&&!e.canvg?(Se?st.push(function(){t.firstRender()},t.options.global.canvasToolsURL):re.attachEvent("onreadystatechange",function(){re.detachEvent("onreadystatechange",t.firstRender),"complete"===re.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options;e.isReadyToRender()&&(e.getContainer(),Ye(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),ze(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Ye(e,"beforeRender"),ie.Pointer&&(e.pointer=new ct(e,t)),e.render(),e.renderer.draw(),!e.renderer.imgCount&&e.onload&&e.onload(),e.cloneRenderTo(!0))},onload:function(){var e=this;ze([this.callback].concat(this.callbacks),function(t){t&&void 0!==e.index&&t.apply(e,[e])}),Ye(e,"load"),this.onload=null},splashArray:function(e,t){var n=t[e],n=Qe(n)?n:[n,n,n,n];return[Je(t[e+"Top"],n[0]),Je(t[e+"Right"],n[1]),Je(t[e+"Bottom"],n[2]),Je(t[e+"Left"],n[3])]}};var ot=ie.CenteredSeriesMixin={getCenter:function(){var e,t,n=this.options,i=this.chart,r=2*(n.slicedOffset||0),o=i.plotWidth-2*r,i=i.plotHeight-2*r,s=n.center,s=[Je(s[0],"50%"),Je(s[1],"50%"),n.size||"100%",n.innerSize||0],a=ce(o,i);for(e=0;4>e;++e)t=s[e],n=2>e||2===e&&/%$/.test(t),s[e]=(/%$/.test(t)?[o,i,a,s[2]][e]*parseFloat(t)/100:parseFloat(t))+(n?r:0);return s[3]>s[2]&&(s[3]=s[2]),s}},vt=function(){};vt.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var n=this.series,i=n.options.pointValKey||n.pointValKey,e=vt.prototype.optionsToObject.call(this,e);return Ke(this,e),this.options=this.options?Ke(this.options,e):e,e.group&&delete this.group,i&&(this.y=this[i]),this.isNull=Je(this.isValid&&!this.isValid(),null===this.x||!Ze(this.y,!0)),"name"in this&&void 0===t&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===t?n.autoIncrement(this):t),this},optionsToObject:function(e){var t={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],o=r.length,a=0,l=0;if(Ze(e)||null===e)t[r[0]]=e;else if(s(e))for(!i&&e.length>o&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),a++);o>l;)i&&void 0===e[a]||(t[r[l]]=e[a]),a++,l++;else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),a(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Ue(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=Je(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return ze(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),v(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Ye(this,e,t,n)},visible:!0};var yt=ie.Series=function(){};yt.prototype={isCartesian:!0,type:"line",pointClass:vt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n,i,r=this,o=e.series,s=function(e,t){return Je(e.options.index,e._i)-Je(t.options.index,t._i)};r.chart=e,r.options=t=r.setOptions(t),r.linkedSeries=[],r.bindAxes(),Ke(r,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),Se&&(t.animation=!1),i=t.events;for(n in i)qe(r,n,i[n]);(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),r.getColor(),r.getSymbol(),ze(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(t.data,!1),r.isCartesian&&(e.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,_(o,s),this.yAxis&&_(this.yAxis.series,s),ze(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;ze(n.axisTypes||[],function(o){ze(r[o],function(t){e=t.options,(i[o]===e.index||i[o]!==M&&i[o]===e.id||i[o]===M&&0===e.index)&&(t.series.push(n),n[o]=t,t.isDirty=!0)}),!n[o]&&n.optionalAxis!==o&&t(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,i=arguments,r=Ze(t)?function(i){var r="y"===i&&n.toYData?n.toYData(e):e[i];n[i+"Data"][t]=r}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(i,2))};ze(n.parallelArrays,r)},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,i=t.pointIntervalUnit,n=Je(n,t.pointStart,0);return this.pointInterval=e=Je(this.pointInterval,t.pointInterval,1),i&&(t=new z(n),"day"===i?t=+t[ee](t[V]()+e):"month"===i?t=+t[te](t[X]()+e):"year"===i&&(t=+t[ne](t[G]()+e)),e=t-n),this.xIncrement=n+e,n},setOptions:function(e){var t=this.chart,n=t.options.plotOptions,t=t.userOptions||{},r=t.plotOptions||{},o=n[this.type];return this.userOptions=e,
n=i(o,n.series,e),this.tooltipOptions=i(B.tooltip,B.plotOptions[this.type].tooltip,t.tooltip,r.series&&r.series.tooltip,r[this.type]&&r[this.type].tooltip,e.tooltip),null===o.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,e=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||e.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),e.length&&l(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,n){var i=this.userOptions,r="_"+e+"Index",o=e+"Counter";t||(l(i[r])?t=i[r]:(i[r]=t=this.chart[o]%n.length,this.chart[o]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||tt[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:rt.drawLineMarker,setData:function(e,n,i,r){var a,l=this,u=l.points,c=u&&u.length||0,d=l.options,f=l.chart,h=null,p=l.xAxis,m=d.turboThreshold,g=this.xData,v=this.yData,y=(a=l.pointArrayMap)&&a.length,e=e||[];if(a=e.length,n=Je(n,!0),r!==!1&&a&&c===a&&!l.cropped&&!l.hasGroupedData&&l.visible)ze(e,function(e,t){u[t].update&&e!==d.data[t]&&u[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,ze(this.parallelArrays,function(e){l[e+"Data"].length=0}),m&&a>m){for(i=0;null===h&&a>i;)h=e[i],i++;if(Ze(h))for(i=0;a>i;i++)g[i]=this.autoIncrement(),v[i]=e[i];else if(s(h))if(y)for(i=0;a>i;i++)h=e[i],g[i]=h[0],v[i]=h.slice(1,y+1);else for(i=0;a>i;i++)h=e[i],g[i]=h[0],v[i]=h[1];else t(12)}else for(i=0;a>i;i++)e[i]!==M&&(h={series:l},l.pointClass.prototype.applyOptions.apply(h,[e[i]]),l.updateParallelArrays(h,i));for(o(v[0])&&t(14,!0),l.data=[],l.options.data=l.userOptions.data=e,i=c;i--;)u[i]&&u[i].destroy&&u[i].destroy();p&&(p.minRange=p.userMinRange),l.isDirty=l.isDirtyData=f.isDirtyBox=!0,i=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),n&&f.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,u=this.xAxis,c=this.options;l=c.cropThreshold;var d,f,h=this.getExtremesFromAll||c.getExtremesFromAll,p=this.isCartesian,c=u&&u.val2lin,m=u&&u.isLog;if(p&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),d=e.min,f=e.max),p&&this.sorted&&!h&&(!l||o>l||this.forceCrop)&&(i[o-1]<d||i[0]>f?(i=[],r=[]):(i[0]<d||i[o-1]>f)&&(n=this.cropData(this.xData,this.yData,d,f),i=n.xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)o=m?c(i[l])-c(i[l-1]):i[l]-i[l-1],o>0&&(a===M||a>o)?a=o:0>o&&this.requireSorting&&t(15);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(e,t,n,i){var r,o=e.length,s=0,a=o,l=Je(this.cropShoulder,1);for(r=0;o>r;r++)if(e[r]>=n){s=ue(0,r-l);break}for(n=r;o>n;n++)if(e[n]>i){a=n+l;break}return{xData:e.slice(s,a),yData:t.slice(s,a),start:s,end:a}},generatePoints:function(){var e,t,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,u=s.length,d=this.cropStart||0,f=this.hasGroupedData,h=[];for(o||f||(o=[],o.length=r.length,o=this.data=o),i=0;u>i;i++)t=d+i,f?(h[i]=(new l).init(this,[s[i]].concat(c(a[i]))),h[i].dataGroup=this.groupMap[i]):(o[t]?n=o[t]:r[t]!==M&&(o[t]=n=(new l).init(this,r[t],s[i])),h[i]=n),h[i].index=t;if(o&&(u!==(e=o.length)||f))for(i=0;e>i;i++)i===d&&!f&&(i+=u),o[i]&&(o[i].destroyElements(),o[i].plotX=M);this.data=o,this.points=h},getExtremes:function(e){var t,n=this.yAxis,i=this.processedXData,r=[],o=0;t=this.xAxis.getExtremes();var a,l,u,c,d=t.min,f=t.max,e=e||this.stackedYData||this.processedYData||[];for(t=e.length,c=0;t>c;c++)if(l=i[c],u=e[c],a=(Ze(u,!0)||s(u))&&(!n.isLog||u.length||u>0),l=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(i[c+1]||l)>=d&&(i[c-1]||l)<=f,a&&l)if(a=u.length)for(;a--;)null!==u[a]&&(r[o++]=u[a]);else r[o++]=u;this.dataMin=w(r),this.dataMax=x(r)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,n,i,r=this.options,o=r.stacking,s=this.xAxis,a=s.categories,u=this.yAxis,c=this.points,d=c.length,f=!!this.modifyValue,h=r.pointPlacement,p="between"===h||Ze(h),m=r.threshold,g=r.startFromThreshold?m:0,v=Number.MAX_VALUE,r=0;d>r;r++){var y=c[r],b=y.x,_=y.y;t=y.low;var w,x=o&&u.stacks[(this.negStacks&&(g?0:m)>_?"-":"")+this.stackKey];u.isLog&&null!==_&&0>=_&&(y.isNull=!0),y.plotX=e=T(ce(ue(-1e5,s.translate(b,0,0,0,1,h,"flags"===this.type)),1e5)),o&&this.visible&&!y.isNull&&x&&x[b]&&(i=this.getStackIndicator(i,b,this.index),w=x[b],_=w.points[i.key],t=_[0],_=_[1],t===g&&i.key===x[b].base&&(t=Je(m,u.min)),u.isLog&&0>=t&&(t=null),y.total=y.stackTotal=w.total,y.percentage=w.total&&y.y/w.total*100,y.stackY=_,w.setOffset(this.pointXOffset||0,this.barW||0)),y.yBottom=l(t)?u.translate(t,0,1,0,1):null,f&&(_=this.modifyValue(_,y)),y.plotY=t="number"==typeof _&&_!==1/0?ce(ue(-1e5,u.translate(_,0,1,0,1)),1e5):M,y.isInside=t!==M&&t>=0&&t<=u.len&&e>=0&&e<=s.len,y.clientX=p?T(s.translate(b,0,0,0,1,h)):e,y.negative=y.y<(m||0),y.category=a&&a[y.x]!==M?a[y.x]:y.x,y.isNull||(void 0!==n&&(v=ce(v,de(e-n))),n=e)}this.closestPointRangePx=v},getValidPoints:function(e,t){var n=this.chart;return He(e||this.points||[],function(e){return t&&!n.isInsidePlot(e.plotX,e.plotY,n.inverted)?!1:!e.isNull})},setClip:function(e){var t=this.chart,n=this.options,i=t.renderer,r=t.inverted,o=this.clipBox,s=o||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,s.height,n.xAxis,n.yAxis].join(","),l=t[a],u=t[a+"m"];l||(e&&(s.width=0,t[a+"m"]=u=i.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[a]=l=i.clipRect(s),l.count={length:0}),e&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),n.clip!==!1&&(this.group.clip(e||o?l:t.clipRect),this.markerGroup.clip(u),this.sharedClipKey=a),e||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&a&&t[a]&&(o||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,n=this.chart,i=E(this.options.animation);e?this.setClip(i):(t=this.sharedClipKey,(e=n[t])&&e.animate({width:n.plotSizeX},i),n[t+"m"]&&n[t+"m"].animate({width:n.plotSizeX+99},i),this.animate=null)},afterAnimate:function(){this.setClip(),Ye(this,"afterAnimate")},drawPoints:function(){var e,t,n,i,r,o,s,a,l,u,c,d,f=this.points,h=this.chart,p=this.options.marker,m=this.pointAttr[""],g=this.markerGroup,v=Je(p.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*p.radius);if(p.enabled!==!1||this._hasPointMarkers)for(i=f.length;i--;)r=f[i],t=ae(r.plotX),n=r.plotY,l=r.graphic,u=r.marker||{},c=!!r.marker,e=v&&u.enabled===M||u.enabled,d=r.isInside,e&&Ze(n)&&null!==r.y?(e=r.pointAttr[r.selected?"select":""]||m,o=e.r,s=Je(u.symbol,this.symbol),a=0===s.indexOf("url"),l?l[d?"show":"hide"](!0).attr(e).animate(Ke({x:t-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||a)&&(r.graphic=h.renderer.symbol(s,t-o,n-o,2*o,2*o,c?u:p).attr(e).add(g))):l&&(r.graphic=l.destroy())},convertAttribs:function(e,t,n,i){var r,o,s=this.pointAttrToOptions,a={},e=e||{},t=t||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=Je(e[o],t[r],n[r],i[r]);return a},getAttribs:function(){var e,t,n,i=this,r=i.options,o=tt[i.type].marker?r.marker:r,s=o.states,a=s.hover,u=i.color,c=i.options.negativeColor,d={stroke:u,fill:u},f=i.points||[],h=[],p=i.pointAttrToOptions;e=i.hasPointSpecificOptions;var m=o.lineColor,g=o.fillColor;t=r.turboThreshold;var v,y,b=i.zones,_=i.zoneAxis||"y";if(r.marker?(a.radius=+a.radius||+o.radius+ +a.radiusPlus,a.lineWidth=a.lineWidth||o.lineWidth+a.lineWidthPlus):(a.color=a.color||A(a.color||u).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||A(a.negativeColor||c).brighten(a.brightness).get()),h[""]=i.convertAttribs(o,d),ze(["hover","select"],function(e){h[e]=i.convertAttribs(s[e],h[""])}),i.pointAttr=h,u=f.length,!t||t>u||e)for(;u--;){if(t=f[u],(o=t.options&&t.options.marker||t.options)&&o.enabled===!1&&(o.radius=0),d=null,b.length){for(e=0,d=b[e];t[_]>=d.value;)d=b[++e];t.color=t.fillColor=d=Je(d.color,i.color)}if(e=r.colorByPoint||t.color,t.options)for(y in p)l(o[p[y]])&&(e=!0);e?(o=o||{},n=[],s=o.states||{},e=s.hover=s.hover||{},(!r.marker||t.negative&&!e.fillColor&&!a.fillColor)&&(e[i.pointAttrToOptions.fill]=e.color||!t.options.color&&a[t.negative&&c?"negativeColor":"color"]||A(t.color).brighten(e.brightness||a.brightness).get()),v={color:t.color},g||(v.fillColor=t.color),m||(v.lineColor=t.color),o.hasOwnProperty("color")&&!o.color&&delete o.color,d&&!a.fillColor&&(e.fillColor=d),n[""]=i.convertAttribs(Ke(v,o),h[""]),n.hover=i.convertAttribs(s.hover,h.hover,n[""]),n.select=i.convertAttribs(s.select,h.select,n[""])):n=h,t.pointAttr=n}},destroy:function(){var e,t,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(ge),l=r.data||[];for(Ye(r,"destroy"),Ue(r),ze(r.axisTypes||[],function(e){(i=r[e])&&(a(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=l.length;e--;)(t=l[e])&&t.destroy&&t.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof N&&!r[n].survive&&(e=s&&"group"===n?"hide":"destroy",r[n][e]());o.hoverSeries===r&&(o.hoverSeries=null),a(o.series,r);for(n in r)delete r[n]},getGraphPath:function(e,t,n){var i,r,o=this,s=o.options,a=s.step,u=[],c=[],e=e||o.points;return(i=e.reversed)&&e.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),s.connectNulls&&!t&&!n&&(e=this.getValidPoints(e)),ze(e,function(i,d){var f=i.plotX,h=i.plotY,p=e[d-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!l(t)&&d>0?r=!s.connectNulls:i.isNull&&!t?r=!0:(0===d||r?p=[Me,i.plotX,i.plotY]:o.getPointSpline?p=o.getPointSpline(e,i,d):a?(p=1===a?[Ie,p.plotX,h]:2===a?[Ie,(p.plotX+f)/2,p.plotY,Ie,(p.plotX+f)/2,h]:[Ie,f,p.plotY],p.push(Ie,f,h)):p=[Ie,f,h],c.push(i.x),a&&c.push(i.x),u.push.apply(u,p),r=!1)}),u.xMap=c,o.graphPath=u},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color,t.dashStyle]],i=t.lineWidth,r="square"!==t.linecap,o=(this.gappedPath||this.getGraphPath).call(this);ze(this.zones,function(i,r){n.push(["zoneGraph"+r,i.color||e.color,i.dashStyle||t.dashStyle])}),ze(n,function(n,s){var a=n[0],l=e[a];l?(l.endX=o.xMap,l.animate({d:o})):i&&o.length&&(l={stroke:n[1],"stroke-width":i,fill:"none",zIndex:1},n[2]?l.dashstyle=n[2]:r&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),l=e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(2>s&&t.shadow)),l&&(l.startX=o.xMap,l.isArea=o.isArea)})},applyZones:function(){var e,t,n,i,r,o,s,a,l,u=this,c=this.chart,d=c.renderer,f=this.zones,h=this.clips||[],p=this.graph,m=this.area,g=ue(c.chartWidth,c.chartHeight),v=this[(this.zoneAxis||"y")+"Axis"],y=c.inverted,b=!1;f.length&&(p||m)&&v&&v.min!==M&&(r=v.reversed,o=v.horiz,p&&p.hide(),m&&m.hide(),i=v.getExtremes(),ze(f,function(f,_){e=r?o?c.plotWidth:0:o?0:v.toPixels(i.min),e=ce(ue(Je(t,e),0),g),t=ce(ue(se(v.toPixels(Je(f.value,i.max),!0)),0),g),b&&(e=t=v.toPixels(i.max)),s=Math.abs(e-t),a=ce(e,t),l=ue(e,t),v.isXAxis?(n={x:y?l:a,y:0,width:s,height:g},o||(n.x=c.plotHeight-n.x)):(n={x:0,y:y?l:a,width:g,height:s},o&&(n.y=c.plotWidth-n.y)),y&&d.isVML&&(n=v.isXAxis?{x:0,y:r?a:l,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),h[_]?h[_].animate(n):(h[_]=d.clipRect(n),p&&u["zoneGraph"+_].clip(h[_]),m&&u["zoneArea"+_].clip(h[_])),b=f.value>i.max}),this.clips=h)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};ze(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(qe(n,"resize",e),qe(t,"destroy",function(){Ue(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,i,r){var o=this[e],s=!o;return s&&(this[e]=o=this.chart.renderer.g(t).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,i=t.options,r=!!t.animate&&n.renderer.isSVG&&E(i.animation).duration,o=t.visible?"inherit":"hidden",s=i.zIndex,a=t.hasRendered,l=n.seriesGroup;e=t.plotGroup("group","series",o,s,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,s,l),r&&t.animate(!0),t.getAttribs(),e.inverted=t.isCartesian?n.inverted:!1,t.drawGraph&&(t.drawGraph(),t.applyZones()),ze(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),n.inverted&&t.invertGroups(),i.clip!==!1&&!t.sharedClipKey&&!a&&e.clip(n.clipRect),r&&t.animate(),a||(t.animationTimeout=d(function(){t.afterAnimate()},r)),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:Je(i&&i.left,e.plotLeft),translateY:Je(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?i.len-e.chartX+i.pos:e.chartY-i.pos},t)},buildKDTree:function(){function e(n,i,r){var o,s;return(s=n&&n.length)?(o=t.kdAxisArray[i%r],n.sort(function(e,t){return e[o]-t[o]}),s=Math.floor(s/2),{point:n[s],left:e(n.slice(0,s),i+1,r),right:e(n.slice(s+1),i+1,r)}):void 0}var t=this,n=t.kdDimensions;delete t.kdTree,d(function(){t.kdTree=e(t.getValidPoints(null,!t.directTouch),n,n)},t.options.kdNow?0:1)},searchKDTree:function(e,t){function n(e,t,a,u){var c,d,f=t.point,h=i.kdAxisArray[a%u],p=f;return d=l(e[r])&&l(f[r])?Math.pow(e[r]-f[r],2):null,c=l(e[o])&&l(f[o])?Math.pow(e[o]-f[o],2):null,c=(d||0)+(c||0),f.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,f.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,h=e[h]-f[h],c=0>h?"left":"right",d=0>h?"right":"left",t[c]&&(c=n(e,t[c],a+1,u),p=c[s]<p[s]?c:f),t[d]&&Math.sqrt(h*h)<p[s]&&(e=n(e,t[d],a+1,u),p=e[s]<p[s]?e:p),p}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=t?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?n(e,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},O.prototype={destroy:function(){C(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?v(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,i=n.chart,r=i.inverted,o=n.reversed,o=this.isNegative&&!o||!this.isNegative&&o,s=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=de(s-n),a=i.xAxis[0].translate(this.x)+e,l=i.plotHeight,o={x:r?o?s:s-n:a,y:r?l-a-t:o?l-s-n:l-s,width:r?n:t,height:r?t:n};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r[this.options.crop===!1||i.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},gt.prototype.getStacks=function(){var e=this;ze(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),ze(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+Je(t.options.stack,""))})},at.prototype.buildStacks=function(){var e,t,n=this.series,i=Je(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,t=r;t--;)n[i?t:r-t-1].setStackedPoints();for(t=r;t--;)e=n[i?t:r-t-1],e.setStackCliffs&&e.setStackCliffs();if(this.usePercentage)for(t=0;r>t;t++)n[t].setPercentStacks()}},at.prototype.renderStackTotals=function(){var e,t,n=this.chart,i=n.renderer,r=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(n.plotLeft,n.plotTop);for(e in r)for(t in n=r[e])n[t].render(o)},at.prototype.resetStacks=function(){var e,t,n=this.stacks;if(!this.isXAxis)for(e in n)for(t in n[e])n[e][t].touched<this.stacksTouched?(n[e][t].destroy(),delete n[e][t]):(n[e][t].total=null,n[e][t].cum=0)},at.prototype.cleanStacks=function(){var e,t,n;if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}},yt.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,n,i,r,o,s,a=this.processedXData,u=this.processedYData,c=[],d=u.length,f=this.options,h=f.threshold,p=f.startFromThreshold?h:0,m=f.stack,f=f.stacking,g=this.stackKey,v="-"+g,y=this.negStacks,b=this.yAxis,_=b.stacks,w=b.oldStacks;for(b.stacksTouched+=1,r=0;d>r;r++)o=a[r],s=u[r],e=this.getStackIndicator(e,o,this.index),i=e.key,n=(t=y&&(p?0:h)>s)?v:g,_[n]||(_[n]={}),_[n][o]||(w[n]&&w[n][o]?(_[n][o]=w[n][o],_[n][o].total=null):_[n][o]=new O(b,b.options.stackLabels,t,o,m)),n=_[n][o],null!==s&&(n.points[i]=n.points[this.index]=[Je(n.cum,p)],l(n.cum)||(n.base=i),n.touched=b.stacksTouched,e.index>0&&this.singleStacks===!1&&(n.points[i][0]=n.points[this.index+","+o+",0"][0])),"percent"===f?(t=t?g:v,y&&_[t]&&_[t][o]?(t=_[t][o],n.total=t.total=ue(t.total,n.total)+de(s)||0):n.total=T(n.total+(de(s)||0))):n.total=T(n.total+(s||0)),n.cum=Je(n.cum,p)+(s||0),null!==s&&(n.points[i].push(n.cum),c[r]=n.cum);"percent"===f&&(b.usePercentage=!0),this.stackedYData=c,b.oldStacks={}}},yt.prototype.setPercentStacks=function(){var e,t=this,n=t.stackKey,i=t.yAxis.stacks,r=t.processedXData;ze([n,"-"+n],function(n){for(var o,s,a,l=r.length;l--;)s=r[l],e=t.getStackIndicator(e,s,t.index),o=(a=i[n]&&i[n][s])&&a.points[e.key],(s=o)&&(a=a.total?100/a.total:0,s[0]=T(s[0]*a),s[1]=T(s[1]*a),t.stackedYData[l]=s[1])})},yt.prototype.getStackIndicator=function(e,t,n){return l(e)&&e.x===t?e.index++:e={x:t,index:0},e.key=[n,t,e.index].join(","),e},Ke(gt.prototype,{addSeries:function(e,t,n){var i,r=this;return e&&(t=Je(t,!0),Ye(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(n)})),i},addAxis:function(e,t,n,r){var o=t?"xAxis":"yAxis",s=this.options,e=i(e,{index:this[o].length,isX:t});new at(this,e),s[o]=c(s[o]||{}),s[o].push(e),Je(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,i=t.loadingDiv,r=n.loading,o=function(){i&&f(i,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};i||(t.loadingDiv=i=h(Oe,{className:"highcharts-loading"},Ke(r.style,{zIndex:10,display:"none"}),t.container),t.loadingSpan=h("span",null,r.labelStyle,i),qe(t,"redraw",o)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(f(i,{opacity:0,display:""}),Ve(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Ve(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:"none"})}}),this.loadingShown=!1}}),Ke(vt.prototype,{update:function(e,t,n,i){function r(){s.applyOptions(e),null===s.y&&l&&(s.graphic=l.destroy()),Qe(e,!0)&&(s.redraw=function(){l&&l.element&&e&&e.marker&&e.marker.symbol&&(s.graphic=l.destroy()),e&&e.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.redraw=null}),o=s.index,a.updateParallelArrays(s,o),c.data[o]=Qe(c.data[o],!0)?s.options:e,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),t&&u.redraw(n)}var o,s=this,a=s.series,l=s.graphic,u=a.chart,c=a.options,t=Je(t,!0);i===!1?r():s.firePointEvent("update",{options:e},r)},remove:function(e,t){this.series.removePoint($e(this,this.series.data),e,t)}}),Ke(yt.prototype,{addPoint:function(e,t,n,i){var r,o,s,a,l=this.options,u=this.data,c=this.chart,d=this.xAxis&&this.xAxis.names,f=l.data,h=this.xData,t=Je(t,!0);if(r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e]),a=r.x,s=h.length,this.requireSorting&&a<h[s-1])for(o=!0;s&&h[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),f.splice(s,0,e),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),f.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),c.redraw(i))},removePoint:function(e,t,n){var i=this,r=i.data,o=r[e],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(e,1),r.splice(e,1),i.options.data.splice(e,1),i.updateParallelArrays(o||{series:i},"splice",e,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,t&&a.redraw()};S(n,a),t=Je(t,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(e,t,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),Je(e,!0)&&o.redraw(t)}var r=this,o=r.chart;n!==!1?Ye(r,"remove",null,i):i()},update:function(e,t){var n,r=this,o=this.chart,s=this.userOptions,a=this.type,l=Be[a].prototype,u=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(u.length=0),ze(u,function(e){u[e]=r[e],delete r[e]}),e=i(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1,null,!1);for(n in l)this[n]=M;Ke(this,Be[e.type||a].prototype),ze(u,function(e){r[e]=u[e]}),this.init(o,e),o.linkSeries(),Je(t,!0)&&o.redraw(!1)}}),Ke(at.prototype,{update:function(e,t){var n=this.chart,e=n.options[this.coll][this.options.index]=i(this.userOptions,e);this.destroy(!0),this.init(n,Ke(e,{events:M})),n.isDirtyBox=!0,Je(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);a(t.axes,this),a(t[n],this),t.options[n].splice(this.options.index,1),ze(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Je(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var bt=p(yt);Be.line=bt,tt.area=i(nt,{softThreshold:!1,threshold:0});var _t=p(yt,{type:"area",singleStacks:!1,getStackPoints:function(){var e,t,n,i=[],r=[],o=this.xAxis,s=this.yAxis,a=s.stacks[this.stackKey],l={},u=this.points,c=this.index,d=s.series,f=d.length,h=Je(s.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(t=0;t<u.length;t++)l[u[t].x]=u[t];for(n in a)null!==a[n].total&&r.push(n);r.sort(function(e,t){return e-t}),e=We(d,function(){return this.visible}),ze(r,function(n,u){var d,p,m=0;if(l[n]&&!l[n].isNull)i.push(l[n]),ze([-1,1],function(i){var o=1===i?"rightNull":"leftNull",s=0,m=a[r[u+i]];if(m)for(t=c;t>=0&&f>t;)d=m.points[t],d||(t===c?l[n][o]=!0:e[t]&&(p=a[n].points[t])&&(s-=p[1]-p[0])),t+=h;l[n][1===i?"rightCliff":"leftCliff"]=s});else{for(t=c;t>=0&&f>t;){if(d=a[n].points[t]){m=d[1];break}t+=h}m=s.toPixels(m,!0),i.push({isNull:!0,plotX:o.toPixels(n,!0),plotY:m,yBottom:m})}})}return i},getGraphPath:function(e){var t,n,i,r,o=yt.prototype.getGraphPath,s=this.options,a=s.stacking,l=this.yAxis,u=[],c=[],d=this.index,f=l.stacks[this.stackKey],h=s.threshold,p=l.getThreshold(s.threshold),s=s.connectNulls||"percent"===a,m=function(t,n,r){var o,s,m=e[t],t=a&&f[m.x].points[d],g=m[r+"Null"]||0,r=m[r+"Cliff"]||0,m=!0;r||g?(o=(g?t[0]:t[1])+r,s=t[0]+r,m=!!g):!a&&e[n]&&e[n].isNull&&(o=s=h),void 0!==o&&(c.push({plotX:i,plotY:null===o?p:l.getThreshold(o),isNull:m}),u.push({plotX:i,plotY:null===s?p:l.getThreshold(s),doCurve:!1}))},e=e||this.points;for(a&&(e=this.getStackPoints()),t=0;t<e.length;t++)n=e[t].isNull,i=Je(e[t].rectPlotX,e[t].plotX),r=Je(e[t].yBottom,p),(!n||s)&&(s||m(t,t-1,"left"),n&&!a&&s||(c.push(e[t]),u.push({x:t,plotX:i,plotY:r})),s||m(t,t+1,"right"));return t=o.call(this,c,!0,!0),u.reversed=!0,n=o.call(this,u,!0,!0),n.length&&(n[0]=Ie),n=t.concat(n),o=o.call(this,c,!1,s),n.xMap=t.xMap,this.areaPath=n,o},drawGraph:function(){this.areaPath=[],yt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=[["area",this.color,n.fillColor]];ze(this.zones,function(t,r){i.push(["zoneArea"+r,t.color||e.color,t.fillColor||n.fillColor])}),ze(i,function(i){var r=i[0],o=e[r];o?(o.endX=t.xMap,o.animate({d:t})):(o={fill:i[2]||i[1],zIndex:0},i[2]||(o["fill-opacity"]=Je(n.fillOpacity,.75)),o=e[r]=e.chart.renderer.path(t).attr(o).add(e.group),o.isArea=!0),o.startX=t.xMap,o.shiftUnit=n.step?2:1})},drawLegendSymbol:rt.drawRectangle});return Be.area=_t,tt.spline=i(nt),bt=p(yt,{type:"spline",getPointSpline:function(e,t,n){var i,r,o,s,a=t.plotX,l=t.plotY,u=e[n-1],n=e[n+1];if(u&&!u.isNull&&u.doCurve!==!1&&n&&!n.isNull&&n.doCurve!==!1){e=u.plotY,o=n.plotX;var n=n.plotY,c=0;i=(1.5*a+u.plotX)/2.5,r=(1.5*l+e)/2.5,o=(1.5*a+o)/2.5,s=(1.5*l+n)/2.5,o!==i&&(c=(s-r)*(o-a)/(o-i)+l-s),r+=c,s+=c,r>e&&r>l?(r=ue(e,l),s=2*l-r):e>r&&l>r&&(r=ce(e,l),s=2*l-r),s>n&&s>l?(s=ue(n,l),r=2*l-s):n>s&&l>s&&(s=ce(n,l),r=2*l-s),t.rightContX=o,t.rightContY=s}return t=["C",Je(u.rightContX,u.plotX),Je(u.rightContY,u.plotY),Je(i,a),Je(r,l),a,l],u.rightContX=u.rightContY=null,t}}),Be.spline=bt,tt.areaspline=i(tt.area),_t=_t.prototype,bt=p(bt,{type:"areaspline",getStackPoints:_t.getStackPoints,getGraphPath:_t.getGraphPath,setStackCliffs:_t.setStackCliffs,drawGraph:_t.drawGraph,drawLegendSymbol:rt.drawRectangle}),Be.areaspline=bt,tt.column=i(nt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),bt=p(yt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){yt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&ze(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,n=t.options,i=t.xAxis,r=t.yAxis,o=i.reversed,s={},a=0;n.grouping===!1?a=1:ze(t.chart.series,function(n){var i,o=n.options,l=n.yAxis;n.type===t.type&&n.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(e=n.stackKey,s[e]===M&&(s[e]=a++),i=s[e]):o.grouping!==!1&&(i=a++),n.columnIndex=i)});var l=ce(de(i.transA)*(i.ordinalSlope||n.pointRange||i.closestPointRange||i.tickInterval||1),i.len),u=l*n.groupPadding,c=(l-2*u)/a,n=ce(n.maxPointWidth||i.len,Je(n.pointWidth,c*(1-2*n.pointPadding)));return t.columnMetrics={width:n,offset:(c-n)/2+(u+((t.columnIndex||0)+(o?1:0))*c-l/2)*(o?-1:1)},t.columnMetrics},crispCol:function(e,t,n,i){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),n=Math.round(e+n)+s,e=Math.round(e)+s,n-=e,i=Math.round(t+i)+o,s=de(t)<=.5&&i>.5,t=Math.round(t)+o,i-=t,s&&i&&(t-=1,i+=1),{x:e,y:t,width:n,height:i}},translate:function(){var e=this,t=e.chart,n=e.options,i=e.borderWidth=Je(n.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),r=e.yAxis,o=e.translatedThreshold=r.getThreshold(n.threshold),s=Je(n.minPointLength,5),a=e.getColumnMetrics(),l=a.width,u=e.barW=ue(l,1+2*i),c=e.pointXOffset=a.offset;t.inverted&&(o-=.5),n.pointPadding&&(u=le(u)),yt.prototype.translate.apply(e),ze(e.points,function(n){var i,a=ce(Je(n.yBottom,o),9e4),d=999+de(a),d=ce(ue(-d,n.plotY),r.len+d),f=n.plotX+c,h=u,p=ce(d,a),m=ue(d,a)-p;de(m)<s&&s&&(m=s,i=!r.reversed&&!n.negative||r.reversed&&n.negative,p=de(p-o)>s?a-s:o-(i?s:0)),n.barX=f,n.pointWidth=l,n.tooltipPos=t.inverted?[r.len+r.pos-t.plotLeft-d,e.xAxis.len-f-h/2,m]:[f+h/2,d+r.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs=e.crispCol.apply(e,n.isNull?[n.plotX,r.len/2,0,0]:[f,p,h,m])})},getSymbol:Ae,drawLegendSymbol:rt.drawRectangle,drawGraph:Ae,drawPoints:function(){var e,t,n=this,r=this.chart,o=n.options,s=r.renderer,a=o.animationLimit||250;ze(n.points,function(u){var c,d=u.graphic;Ze(u.plotY)&&null!==u.y?(e=u.shapeArgs,c=l(n.borderWidth)?{"stroke-width":n.borderWidth}:{},t=u.pointAttr[u.selected?"select":""]||n.pointAttr[""],d?(Xe(d),d.attr(c).attr(t)[r.pointCount<a?"animate":"attr"](i(e))):u.graphic=s[u.shapeType](e).attr(c).attr(t).add(u.group||n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):d&&(u.graphic=d.destroy())})},animate:function(e){var t=this,n=this.yAxis,i=t.options,r=this.chart.inverted,o={};ke&&(e?(o.scaleY=.001,e=ce(n.pos+n.len,ue(n.pos,n.toPixels(i.threshold))),r?o.translateX=e-n.len:o.translateY=e,t.group.attr(o)):(o[r?"translateX":"translateY"]=n.pos,t.group.animate(o,Ke(E(t.options.animation),{step:function(e,n){t.group.attr({scaleY:ue(.001,n.pos)})}})),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&ze(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),yt.prototype.remove.apply(e,arguments)}}),Be.column=bt,tt.bar=i(tt.column),_t=p(bt,{type:"bar",inverted:!0}),Be.bar=_t,tt.scatter=i(nt,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),_t=p(yt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&yt.prototype.drawGraph.call(this)}}),Be.scatter=_t,tt.pie=i(nt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),nt={type:"pie",isCartesian:!1,pointClass:p(vt,{init:function(){vt.prototype.init.apply(this,arguments);var e,t=this;return t.name=Je(t.name,"Slice"),e=function(e){t.slice("select"===e.type)},qe(t,"select",e),qe(t,"unselect",e),t},setVisible:function(e,t){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint,t=Je(t,o);e!==n.visible&&(n.visible=n.options.visible=e=e===M?!n.visible:e,i.options.data[$e(n,i.data)]=n.options,ze(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,e),!e&&"hover"===n.state&&n.setState(""),o&&(i.isDirty=!0),t&&r.redraw())},slice:function(e,t,n){var i=this.series;S(n,i.chart),Je(t,!0),this.sliced=this.options.sliced=e=l(e)?e:!this.sliced,i.options.data[$e(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||(ze(n,function(e){var n=e.graphic,r=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(e=0;r>e;e++)t=i[e],t.y<0&&(t.y=null),n+=o&&!t.visible?0:t.y;for(this.total=n,e=0;r>e;e++)t=i[e],t.percentage=n>0&&(t.visible||!o)?t.y/n*100:0,t.total=n},generatePoints:function(){yt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,i,r,o,s=0,a=this.options,l=a.slicedOffset,u=l+a.borderWidth,c=a.startAngle||0,d=this.startAngleRad=pe/180*(c-90),c=(this.endAngleRad=pe/180*(Je(a.endAngle,c+360)-90))-d,f=this.points,h=a.dataLabels.distance,a=a.ignoreHiddenPoint,p=f.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return i=oe.asin(ce((t-e[1])/(e[2]/2+h),1)),e[0]+(n?-1:1)*fe(i)*(e[2]/2+h)},r=0;p>r;r++)o=f[r],t=d+s*c,(!a||o.visible)&&(s+=o.percentage/100),n=d+s*c,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:se(1e3*t)/1e3,end:se(1e3*n)/1e3},i=(n+t)/2,i>1.5*pe?i-=2*pe:-pe/2>i&&(i+=2*pe),o.slicedTranslation={translateX:se(fe(i)*l),translateY:se(he(i)*l)},t=fe(i)*e[2]/2,n=he(i)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],
o.half=-pe/2>i||i>pe/2?1:0,o.angle=i,u=ce(u,h/2),o.labelPos=[e[0]+t+fe(i)*h,e[1]+n+he(i)*h,e[0]+t+fe(i)*u,e[1]+n+he(i)*u,e[0]+t,e[1]+n,0>h?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var e,t,n,i,r,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),ze(s.points,function(u){null!==u.y&&(t=u.graphic,r=u.shapeArgs,n=u.shadowGroup,i=u.pointAttr[u.selected?"select":""],i.stroke||(i.stroke=i.fill),l&&!n&&(n=u.shadowGroup=a.g("shadow").add(s.shadowGroup)),e=u.sliced?u.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),t?t.setRadialReference(s.center).attr(i).animate(Ke(r,e)):(o={"stroke-linejoin":"round"},u.visible||(o.visibility="hidden"),u.graphic=t=a[u.shapeType](r).setRadialReference(s.center).attr(i).attr(o).attr(e).add(s.group).shadow(l,n)))})},searchPoint:Ae,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:rt.drawRectangle,getCenter:ot.getCenter,getSymbol:Ae},nt=p(yt,nt),Be.pie=nt,yt.prototype.drawDataLabels=function(){var e,t,n,r,o=this,s=o.options,a=s.cursor,u=s.dataLabels,c=o.points,d=o.hasRendered||0,f=Je(u.defer,!0),h=o.chart.renderer;(u.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(u),r=o.plotGroup("dataLabelsGroup","data-labels",f&&!d?"hidden":"visible",u.zIndex||6),f&&(r.attr({opacity:+d}),d||qe(o,"afterAnimate",function(){o.visible&&r.show(!0),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=u,ze(c,function(c){var d,f,p,m,g=c.dataLabel,y=c.connector,b=!0,_={};if(e=c.dlOptions||c.options&&c.options.dataLabels,d=Je(e&&e.enabled,t.enabled)&&null!==c.y,g&&!d)c.dataLabel=g.destroy();else if(d){if(u=i(t,e),m=u.style,d=u.rotation,f=c.getLabelConfig(),n=u.format?v(u.format,f):u.formatter.call(f,u),m.color=Je(u.color,m.color,o.color,"black"),g)l(n)?(g.attr({text:n}),b=!1):(c.dataLabel=g=g.destroy(),y&&(c.connector=y.destroy()));else if(l(n)){g={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:d,padding:u.padding,zIndex:1},"contrast"===m.color&&(_.color=u.inside||u.distance<0||s.stacking?h.getContrast(c.color||o.color):"#000000"),a&&(_.cursor=a);for(p in g)g[p]===M&&delete g[p];g=c.dataLabel=h[d?"text":"label"](n,0,-9999,u.shape,null,null,u.useHTML).attr(g).css(Ke(m,_)).add(r).shadow(u.shadow)}g&&o.alignDataLabel(c,g,u,null,b)}}))},yt.prototype.alignDataLabel=function(e,t,n,i,r){var o=this.chart,s=o.inverted,a=Je(e.plotX,-9999),l=Je(e.plotY,-9999),u=t.getBBox(),c=o.renderer.fontMetrics(n.style.fontSize).b,d=n.rotation,f=n.align,h=this.visible&&(e.series.forceDL||o.isInsidePlot(a,se(l),s)||i&&o.isInsidePlot(a,s?i.x+1:i.y+i.height-1,s)),p="justify"===Je(n.overflow,"justify");h&&(i=Ke({x:s?o.plotWidth-l:a,y:se(s?o.plotHeight-a:l),width:0,height:0},i),Ke(n,{width:u.width,height:u.height}),d?(p=!1,s=o.renderer.rotCorr(c,d),s={x:i.x+n.x+i.width/2+s.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},t[r?"attr":"animate"](s).attr({align:f}),a=(d+720)%360,a=a>180&&360>a,"left"===f?s.y-=a?u.height:0:"center"===f?(s.x-=u.width/2,s.y-=u.height/2):"right"===f&&(s.x-=u.width,s.y-=a?0:u.height)):(t.align(n,null,i),s=t.alignAttr),p?this.justifyDataLabel(t,n,s,u,i,r):Je(n.crop,!0)&&(h=o.isInsidePlot(s.x,s.y)&&o.isInsidePlot(s.x+u.width,s.y+u.height)),n.shape&&!d&&t.attr({anchorX:e.plotX,anchorY:e.plotY})),h||(Xe(t),t.attr({y:-9999}),t.placed=!1)},yt.prototype.justifyDataLabel=function(e,t,n,i,r,o){var s,a,l=this.chart,u=t.align,c=t.verticalAlign,d=e.box?0:e.padding||0;s=n.x+d,0>s&&("right"===u?t.align="left":t.x=-s,a=!0),s=n.x+i.width-d,s>l.plotWidth&&("left"===u?t.align="right":t.x=l.plotWidth-s,a=!0),s=n.y+d,0>s&&("bottom"===c?t.verticalAlign="top":t.y=-s,a=!0),s=n.y+i.height-d,s>l.plotHeight&&("top"===c?t.verticalAlign="bottom":t.y=l.plotHeight-s,a=!0),a&&(e.placed=!o,e.align(t,null,r))},Be.pie&&(Be.pie.prototype.drawDataLabels=function(){var e,t,n,i,r,o,s,a,l,u,c,d=this,f=d.data,h=d.chart,p=d.options.dataLabels,m=Je(p.connectorPadding,10),g=Je(p.connectorWidth,1),v=h.plotWidth,y=h.plotHeight,b=Je(p.softConnector,!0),_=p.distance,w=d.center,C=w[2]/2,k=w[1],T=_>0,S=[[],[]],E=[0,0,0,0],D=function(e,t){return t.y-e.y};if(d.visible&&(p.enabled||d._hasPointLabels)){for(yt.prototype.drawDataLabels.apply(d),ze(f,function(e){e.dataLabel&&e.visible&&(S[e.half].push(e),e.dataLabel._pos=null)}),u=2;u--;){var A,N=[],P=[],O=S[u],M=O.length;if(M){for(d.sortByAngle(O,u-.5),c=f=0;!f&&O[c];)f=O[c]&&O[c].dataLabel&&(O[c].dataLabel.getBBox().height||21),c++;if(_>0){for(r=ce(k+C+_,h.plotHeight),c=ue(0,k-C-_);r>=c;c+=f)N.push(c);if(r=N.length,M>r){for(e=[].concat(O),e.sort(D),c=M;c--;)e[c].rank=c;for(c=M;c--;)O[c].rank>=r&&O.splice(c,1);M=O.length}for(c=0;M>c;c++){e=O[c],o=e.labelPos,e=9999;var I,R;for(R=0;r>R;R++)I=de(N[R]-o[1]),e>I&&(e=I,A=R);if(c>A&&null!==N[c])A=c;else for(M-c+A>r&&null!==N[c]&&(A=r-M+c);null===N[A];)A++;P.push({i:A,y:N[A]}),N[A]=null}P.sort(D)}for(c=0;M>c;c++)e=O[c],o=e.labelPos,i=e.dataLabel,l=e.visible===!1?"hidden":"inherit",e=o[1],_>0?(r=P.pop(),A=r.i,a=r.y,(e>a&&null!==N[A+1]||a>e&&null!==N[A-1])&&(a=ce(ue(0,e),h.plotHeight))):a=e,s=p.justify?w[0]+(u?-1:1)*(C+_):d.getX(a===k-C-_||a===k+C+_?e:a,u),i._attr={visibility:l,align:o[6]},i._pos={x:s+p.x+({left:m,right:-m}[o[6]]||0),y:a+p.y-10},i.connX=s,i.connY=a,null===this.options.size&&(r=i.width,m>s-r?E[3]=ue(se(r-s+m),E[3]):s+r>v-m&&(E[1]=ue(se(s+r-v+m),E[1])),0>a-f/2?E[0]=ue(se(-a+f/2),E[0]):a+f/2>y&&(E[2]=ue(se(a+f/2-y),E[2])))}}(0===x(E)||this.verifyDataLabelOverflow(E))&&(this.placeDataLabels(),T&&g&&ze(this.points,function(e){t=e.connector,o=e.labelPos,(i=e.dataLabel)&&i._pos&&e.visible?(l=i._attr.visibility,s=i.connX,a=i.connY,n=b?[Me,s+("left"===o[6]?5:-5),a,"C",s,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Ie,o[4],o[5]]:[Me,s+("left"===o[6]?5:-5),a,Ie,o[2],o[3],Ie,o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",l)):e.connector=t=d.chart.renderer.path(n).attr({"stroke-width":g,stroke:p.connectorColor||e.color||"#606060",visibility:l}).add(d.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},Be.pie.prototype.placeDataLabels=function(){ze(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))})},Be.pie.prototype.alignDataLabel=Ae,Be.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=o;return null!==r[0]?s=ue(n[2]-ue(e[1],e[3]),o):(s=ue(n[2]-e[1]-e[3],o),n[0]+=(e[3]-e[1])/2),null!==r[1]?s=ue(ce(s,n[2]-ue(e[0],e[2])),o):(s=ue(ce(s,n[2]-e[0]-e[2]),o),n[1]+=(e[0]-e[2])/2),s<n[2]?(n[2]=s,n[3]=Math.min(/%$/.test(i.innerSize||0)?s*parseFloat(i.innerSize||0)/100:parseFloat(i.innerSize||0),s),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),Be.column&&(Be.column.prototype.alignDataLabel=function(e,t,n,r,o){var s=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,u=Je(e.below,e.plotY>Je(this.translatedThreshold,a.yAxis.len)),c=Je(n.inside,!!this.options.stacking);l&&(r=i(l),r.y<0&&(r.height+=r.y,r.y=0),l=r.y+r.height-a.yAxis.len,l>0&&(r.height-=l),s&&(r={x:a.yAxis.len-r.y-r.height,y:a.xAxis.len-r.x-r.width,width:r.height,height:r.width}),c||(s?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),n.align=Je(n.align,!s||c?"center":u?"right":"left"),n.verticalAlign=Je(n.verticalAlign,s||c?"middle":u?"top":"bottom"),yt.prototype.alignDataLabel.call(this,e,t,n,r,o)}),function(e){var t=e.Chart,n=e.each,i=e.pick,r=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.series,function(e){var r=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(r.enabled||e._hasPointLabels)&&!r.allowOverlap&&e.visible&&n(o,function(r){n(e.points,function(e){e[r]&&(e[r].labelrank=i(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[r]))})})}),e.hideOverlappingLabels(t)}t(),r(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,i,r,o,s,a,l,u,c,d=e.length;for(i=0;d>i;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),i=0;d>i;i++)for(r=e[i],t=i+1;d>t;++t)o=e[t],r&&o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,u=o.parentGroup,c=2*(r.box?0:r.padding),s=!(a.x+u.translateX>s.x+l.translateX+(r.width-c)||a.x+u.translateX+(o.width-c)<s.x+l.translateX||a.y+u.translateY>s.y+l.translateY+(r.height-c)||a.y+u.translateY+(o.height-c)<s.y+l.translateY))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(ie),nt=ie.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,i=e.options.cursor,r=i&&{cursor:i},o=function(e){for(var n,i=e.target;i&&!n;)n=i.point,i=i.parentNode;n!==M&&n!==t.hoverPoint&&n.onMouseOver(e)};ze(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(ze(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(r),R)&&e[t].on("touchstart",o)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,i=[].concat(n?e.areaPath:e.graphPath),r=i.length,o=e.chart,s=o.pointer,a=o.renderer,l=o.options.tooltip.snap,u=e.tracker,c=t.cursor,d=c&&{cursor:c},f=function(){o.hoverSeries!==e&&e.onMouseOver()},h="rgba(192,192,192,"+(ke?1e-4:.002)+")";if(r&&!n)for(c=r+1;c--;)i[c]===Me&&i.splice(c+1,0,i[c+1]-l,i[c+2],Ie),(c&&i[c]===Me||c===r)&&i.splice(c,0,Ie,i[c-2]+l,i[c-1]);u?u.attr({d:i}):(e.tracker=a.path(i).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:h,fill:n?h:"none","stroke-width":t.lineWidth+(n?0:2*l),zIndex:2}).add(e.group),ze([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(d),R&&e.on("touchstart",f)}))}},Be.column&&(bt.prototype.drawTracker=nt.drawTrackerPoint),Be.pie&&(Be.pie.prototype.drawTracker=nt.drawTrackerPoint),Be.scatter&&(_t.prototype.drawTracker=nt.drawTrackerPoint),Ke(mt.prototype,{setItemEvents:function(e,t,n,i,r){var o=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?i:r),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Ye(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=h("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),qe(e.checkbox,"click",function(t){Ye(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),B.legend.itemStyle.cursor="pointer",Ke(gt.prototype,{showResetZoom:function(){var e=this,t=B.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;Ye(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,i=this.pointer,r=!1;!e||e.resetSelection?ze(this.axes,function(e){t=e.zoom()}):ze(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,o=n.isXAxis;(i[o?"zoomX":"zoomY"]||i[o?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&Qe(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(Je(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n,i=this,r=i.hoverPoints;r&&ze(r,function(e){e.setState()}),ze("xy"===t?[1,0]:[1],function(t){var t=i[t?"xAxis":"yAxis"][0],r=t.horiz,o=e[r?"chartX":"chartY"],r=r?"mouseDownX":"mouseDownY",s=i[r],a=(t.pointRange||0)/2,l=t.getExtremes(),u=t.toValue(s-o,!0)+a,a=t.toValue(s+t.len-o,!0)-a,s=s>o;t.series.length&&(s||u>ce(l.dataMin,l.min))&&(!s||a<ue(l.dataMax,l.max))&&(t.setExtremes(u,a,!1,!1,{trigger:"pan"}),n=!0),i[r]=o}),n&&i.redraw(!1),f(i.container,{cursor:"move"})}}),Ke(vt.prototype,{select:function(e,t){var n=this,i=n.series,r=i.chart,e=Je(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[$e(n,i.data)]=n.options,n.setState(e&&"select"),t||ze(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[$e(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e,t){var n=this.series,i=n.chart,r=i.tooltip,o=i.hoverPoint;i.hoverSeries!==n&&n.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),r&&(!r.shared||n.noSharedTooltip)&&r.refresh(this,e),this.setState("hover"),!t)&&(i.hoverPoint=this)},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==$e(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,t=i(this.series.options.point,this.options).events;this.events=t;for(e in t)qe(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e,t){var n,r=ae(this.plotX),o=this.plotY,s=this.series,a=s.options.states,l=tt[s.type].marker&&s.options.marker,u=l&&!l.enabled,c=l&&l.states[e],d=c&&c.enabled===!1,f=s.stateMarkerGraphic,h=this.marker||{},p=s.chart,m=s.halo,e=e||"";n=this.pointAttr[e]||s.pointAttr[e],e===this.state&&!t||this.selected&&"select"!==e||a[e]&&a[e].enabled===!1||e&&(d||u&&c.enabled===!1)||e&&h.states&&h.states[e]&&h.states[e].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(i(n,l?{x:r-l,y:o-l,width:2*l,height:2*l}:{})),f&&f.hide()):(e&&c&&(l=c.radius,h=h.symbol||s.symbol,f&&f.currentSymbol!==h&&(f=f.destroy()),f?f[t?"animate":"attr"]({x:r-l,y:o-l}):h&&(s.stateMarkerGraphic=f=p.renderer.symbol(h,r-l,o-l,2*l,2*l).attr(n).add(s.markerGroup),f.currentSymbol=h)),f&&(f[e&&p.isInsidePlot(r,o,p.inverted)?"show":"hide"](),f.element.point=this)),(r=a[e]&&a[e].halo)&&r.size?(m||(s.halo=m=p.renderer.path().add(p.seriesGroup)),m.attr(Ke({fill:this.color||s.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))[t?"animate":"attr"]({d:this.haloPath(r.size)})):m&&m.attr({d:[]}),this.state=e)},haloPath:function(e){var t=this.series,n=t.chart,i=t.getPlotBox(),r=n.inverted,o=Math.floor(this.plotX);return n.renderer.symbols.circle(i.translateX+(r?t.yAxis.len-this.plotY:o)-e,i.translateY+(r?t.xAxis.len-o:this.plotY)-e,2*e,2*e)}}),Ke(yt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Ye(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&Ye(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState()},setState:function(e){var t=this.options,n=this.graph,i=t.states,r=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(i[e]&&i[e].enabled===!1)&&(e&&(r=i[e].lineWidth||r+(i[e].lineWidthPlus||0)),n&&!n.dashstyle)))for(e={"stroke-width":r},n.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!a:e)?"show":"hide",ze(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][n]()}),(r.hoverSeries===i||(r.hoverPoint&&r.hoverPoint.series)===i)&&i.onMouseOut(),o&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&ze(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),ze(i.linkedSeries,function(t){t.setVisible(e,!1)}),s&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Ye(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===M?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Ye(this,e?"select":"unselect")},drawTracker:nt.drawTrackerGraph}),Ke(ie,{Color:A,Point:vt,Tick:P,Renderer:I,SVGElement:N,SVGRenderer:it,arrayMin:w,arrayMax:x,charts:Ne,correctFloat:T,dateFormat:F,error:t,format:v,pathAnim:void 0,getOptions:function(){return B},hasBidiBug:Te,isTouchDevice:xe,setOptions:function(e){return B=i(!0,B,e),D(),B},addEvent:qe,removeEvent:Ue,createElement:h,discardElement:k,css:f,each:ze,map:We,merge:i,splat:c,stableSort:_,extendClass:p,pInt:r,svg:ke,canvas:Se,vml:!ke&&!Se,product:"Highcharts",version:"4.2.7"}),ie}),$(function(){function e(){r.toggleClass(u),i.toggleClass(l),o.toggleClass(c),s.toggleClass(d)}function t(){r.addClass(u),i.animate({left:"0px"},h),o.animate({left:p},h),s.animate({left:p},h)}function n(){r.removeClass(u),i.animate({left:"-"+p},h),o.animate({left:"0px"},h),s.animate({left:"0px"},h)}var i=$(".pushy"),r=$("body"),o=$(".main-content-container"),s=$(".push"),a=$(".site-overlay"),l="pushy-left pushy-open",u="pushy-active",c="container-push",d="push-push",f=$(".menu-btn, .pushy a.pushy-collapse"),h=200,p=i.width()+"px";if(cssTransforms3d=function(){var e=document.createElement("p"),t=!1,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var i in n)void 0!==e.style[i]&&(e.style[i]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(n[i]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t}(),cssTransforms3d)f.click(function(){e()}),a.click(function(){e()});else{i.css({left:"-"+p}),o.css({"overflow-x":"hidden"});var m=!0;f.click(function(){m?(t(),m=!1):(n(),m=!0)}),a.click(function(){m?(t(),m=!1):(n(),m=!0)})}}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Vn.apply(null,arguments)}function t(e){Vn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Ae(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(NaN);return null!=e?s(u(t),e):u(t).userInvalidated=!0,t}function f(e){return void 0===e}function h(e,t){var n,i,r;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=u(t)),f(t._locale)||(e._locale=t._locale),Gn.length>0)for(n in Gn)i=Gn[n],r=t[i],f(r)||(e[i]=r);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Kn===!1&&(Kn=!0,e.updateOffset(this),Kn=!1)}function m(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&s++;return s+o}function b(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,r,o=0;o<e.length;){for(r=_(e[o]).split("-"),t=r.length,n=_(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=x(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}o++}return null}function x(e){var t=null;if(!Qn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Xn._abbr,require("./locale/"+e),C(t)}catch(n){}return Qn[e]}function C(e,t){var n;return e&&(n=f(t)?T(e):k(e,t),n&&(Xn=n)),Xn._abbr}function k(e,t){return null!==t?(t.abbr=e,Qn[e]=Qn[e]||new b,Qn[e].set(t),C(e),Qn[e]):(delete Qn[e],null)}function T(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xn;if(!n(e)){if(t=x(e))return t;e=[e]}return w(e)}function S(e,t){var n=e.toLowerCase();Zn[n]=Zn[n+"s"]=Zn[t]=e}function E(e){return"string"==typeof e?Zn[e]||Zn[e.toLowerCase()]:void 0}function D(e){var t,n,i={};for(n in e)o(e,n)&&(t=E(n),t&&(i[t]=e[n]));return i}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(t,n){return function(i){return null!=i?(O(this,t,i),e.updateOffset(this,n),this):P(this,t)}}function P(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function O(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function M(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=E(e),A(this[e]))return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function R(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(ni[e]=r),t&&(ni[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(ni[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,i=e.match(Jn);for(t=0,n=i.length;n>t;t++)ni[i[t]]?i[t]=ni[i[t]]:i[t]=L(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function F(e,t){return e.isValid()?(t=$(t,e.localeData()),ti[t]=ti[t]||B(t),ti[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(ei.lastIndex=0;i>=0&&ei.test(e);)e=e.replace(ei,n),ei.lastIndex=0,i-=1;return e}function z(e,t,n){_i[e]=A(t)?t:function(e,i){return e&&n?n:t}}function H(e,t){return o(_i,e)?_i[e](t._strict,t._locale):new RegExp(j(e))}function j(e){return W(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function W(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)wi[e[n]]=i}function U(e,t){q(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function Y(e,t,n){null!=t&&o(wi,e)&&wi[e](t,n._a,n,e)}function V(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function X(e,t){return n(this._months)?this._months[e.month()]:this._months[Pi.test(t)?"format":"standalone"][e.month()]}function G(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pi.test(t)?"format":"standalone"][e.month()]}function K(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Q(e,t){var n;return e.isValid()?"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),V(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e):e}function Z(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):P(this,"Month")}function J(){return V(this.year(),this.month())}function ee(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function te(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function ne(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=a([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=W(i[t]),r[t]=W(r[t]),o[t]=W(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function ie(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[Ci]<0||n[Ci]>11?Ci:n[ki]<1||n[ki]>V(n[xi],n[Ci])?ki:n[Ti]<0||n[Ti]>24||24===n[Ti]&&(0!==n[Si]||0!==n[Ei]||0!==n[Di])?Ti:n[Si]<0||n[Si]>59?Si:n[Ei]<0||n[Ei]>59?Ei:n[Di]<0||n[Di]>999?Di:-1,u(e)._overflowDayOfYear&&(xi>t||t>ki)&&(t=ki),u(e)._overflowWeeks&&-1===t&&(t=Ai),u(e)._overflowWeekday&&-1===t&&(t=Ni),u(e).overflow=t),e}function re(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function oe(e,t){var n=!0;return s(function(){return n&&(re(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function se(e,t){Li[e]||(re(t),Li[e]=!0)}function ae(e){var t,n,i,r,o,s,a=e._i,l=Bi.exec(a)||Fi.exec(a);if(l){for(u(e).iso=!0,t=0,n=zi.length;n>t;t++)if(zi[t][1].exec(l[1])){r=zi[t][0],i=zi[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Hi.length;n>t;t++)if(Hi[t][1].exec(l[3])){o=(l[2]||" ")+Hi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!$i.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),xe(e)}else e._isValid=!1}function le(t){var n=ji.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(ae(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ue(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ce(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function de(e){return fe(e)?366:365}function fe(e){return e%4===0&&e%100!==0||e%400===0}function he(){return fe(this.year())}function pe(e,t,n){var i=7+t-n,r=(7+ce(e,0,i).getUTCDay()-t)%7;return-r+i-1}function me(e,t,n,i,r){var o,s,a=(7+n-i)%7,l=pe(e,i,r),u=1+7*(t-1)+a+l;return 0>=u?(o=e-1,s=de(o)+u):u>de(e)?(o=e+1,s=u-de(e)):(o=e,s=u),{year:o,dayOfYear:s}}function ge(e,t,n){var i,r,o=pe(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>s?(r=e.year()-1,i=s+ve(r,t,n)):s>ve(e.year(),t,n)?(i=s-ve(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function ve(e,t,n){var i=pe(e,t,n),r=pe(e+1,t,n);return(de(e)-i+r)/7}function ye(e,t,n){return null!=e?e:null!=t?t:n}function be(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function _e(e){var t,n,i,r,o=[];if(!e._d){for(i=be(e),e._w&&null==e._a[ki]&&null==e._a[Ci]&&we(e),e._dayOfYear&&(r=ye(e._a[xi],i[xi]),e._dayOfYear>de(r)&&(u(e)._overflowDayOfYear=!0),n=ce(r,0,e._dayOfYear),e._a[Ci]=n.getUTCMonth(),e._a[ki]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ti]&&0===e._a[Si]&&0===e._a[Ei]&&0===e._a[Di]&&(e._nextDay=!0,e._a[Ti]=0),e._d=(e._useUTC?ce:ue).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ti]=24)}}function we(e){var t,n,i,r,o,s,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=ye(t.GG,e._a[xi],ge(Ne(),1,4).year),i=ye(t.W,1),r=ye(t.E,1),(1>r||r>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=ye(t.gg,e._a[xi],ge(Ne(),o,s).year),i=ye(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),1>i||i>ve(n,o,s)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(a=me(n,i,r,o,s),e._a[xi]=a.year,e._dayOfYear=a.dayOfYear)}function xe(t){if(t._f===e.ISO_8601)return void ae(t);t._a=[],u(t).empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,c=0;for(r=$(t._f,t._locale).match(Jn)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(H(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&u(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ni[o]?(i?u(t).empty=!1:u(t).unusedTokens.push(o),Y(o,i,t)):t._strict&&!i&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-c,a.length>0&&u(t).unusedInput.push(a),u(t).bigHour===!0&&t._a[Ti]<=12&&t._a[Ti]>0&&(u(t).bigHour=void 0),t._a[Ti]=Ce(t._locale,t._a[Ti],t._meridiem),_e(t),ie(t)}function Ce(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function ke(e){var t,n,i,r,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],xe(t),c(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==i||i>o)&&(i=o,n=t));s(e,n||t)}function Te(e){if(!e._d){var t=D(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),_e(e)}}function Se(e){var t=new p(ie(Ee(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ee(e){var t=e._i,r=e._f;return e._locale=e._locale||T(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new p(ie(t)):(n(r)?ke(e):r?xe(e):i(t)?e._d=t:De(e),c(e)||(e._d=null),e))}function De(t){var o=t._i;void 0===o?t._d=new Date(e.now()):i(o)?t._d=new Date(+o):"string"==typeof o?le(t):n(o)?(t._a=r(o.slice(0),function(e){return parseInt(e,10)}),_e(t)):"object"==typeof o?Te(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Ae(e,t,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,Se(o)}function Ne(e,t,n,i){return Ae(e,t,n,i,!1)}function Pe(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ne();for(i=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}function Oe(){var e=[].slice.call(arguments,0);return Pe("isBefore",e)}function Me(){var e=[].slice.call(arguments,0);return Pe("isAfter",e)}function Ie(e){var t=D(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=T(),this._bubble()}function Re(e){return e instanceof Ie}function Le(e,t){R(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Be(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(Vi)||["-",0,0],o=+(60*r[1])+v(r[2]);return"+"===r[0]?o:-o}function Fe(t,n){var r,o;return n._isUTC?(r=n.clone(),o=(m(t)||i(t)?+t:+Ne(t))-+r,r._d.setTime(+r._d+o),e.updateOffset(r,!1),r):Ne(t).local()}function $e(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function ze(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Be(vi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=$e(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?nt(this,Qe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:$e(this):null!=t?this:NaN}function He(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function je(e){return this.utcOffset(0,e);
}function We(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract($e(this),"m")),this}function qe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Be(gi,this._i)),this}function Ue(e){return this.isValid()?(e=e?Ne(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ve(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),e=Ee(e),e._a){var t=e._isUTC?a(e._a):Ne(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xe(){return this.isValid()?!this._isUTC:!1}function Ge(){return this.isValid()?this._isUTC:!1}function Ke(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Qe(e,t){var n,i,r,s=e,a=null;return Re(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=Xi.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:v(a[ki])*n,h:v(a[Ti])*n,m:v(a[Si])*n,s:v(a[Ei])*n,ms:v(a[Di])*n}):(a=Gi.exec(e))?(n="-"===a[1]?-1:1,s={y:Ze(a[2],n),M:Ze(a[3],n),d:Ze(a[4],n),h:Ze(a[5],n),m:Ze(a[6],n),s:Ze(a[7],n),w:Ze(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=et(Ne(s.from),Ne(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new Ie(s),Re(e)&&o(e,"_locale")&&(i._locale=e._locale),i}function Ze(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Je(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function et(e,t){var n;return e.isValid()&&t.isValid()?(t=Fe(t,e),e.isBefore(t)?n=Je(e,t):(n=Je(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tt(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(se(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Qe(n,i),nt(this,r,e),this}}function nt(t,n,i,r){var o=n._milliseconds,s=n._days,a=n._months;t.isValid()&&(r=null==r?!0:r,o&&t._d.setTime(+t._d+o*i),s&&O(t,"Date",P(t,"Date")+s*i),a&&Q(t,P(t,"Month")+a*i),r&&e.updateOffset(t,s||a))}function it(e,t){var n=e||Ne(),i=Fe(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",s=t&&(A(t[o])?t[o]():t[o]);return this.format(s||this.localeData().calendar(o,this,Ne(n)))}function rt(){return new p(this)}function ot(e,t){var n=m(e)?e:Ne(e);return this.isValid()&&n.isValid()?(t=E(f(t)?"millisecond":t),"millisecond"===t?+this>+n:+n<+this.clone().startOf(t)):!1}function st(e,t){var n=m(e)?e:Ne(e);return this.isValid()&&n.isValid()?(t=E(f(t)?"millisecond":t),"millisecond"===t?+n>+this:+this.clone().endOf(t)<+n):!1}function at(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function lt(e,t){var n,i=m(e)?e:Ne(e);return this.isValid()&&i.isValid()?(t=E(t||"millisecond"),"millisecond"===t?+this===+i:(n=+i,+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))):!1}function ut(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dt(e,t,n){var i,r,o,s;return this.isValid()?(i=Fe(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=E(t),"year"===t||"month"===t||"quarter"===t?(s=ft(this,i),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-i,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?s:g(s)):NaN):NaN}function ft(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function ht(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mt(t){var n=F(this,t||e.defaultFormat);return this.localeData().postformat(n)}function gt(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ne(e).isValid())?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vt(e){return this.from(Ne(),e)}function yt(e,t){return this.isValid()&&(m(e)&&e.isValid()||Ne(e).isValid())?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bt(e){return this.to(Ne(),e)}function _t(e){var t;return void 0===e?this._locale._abbr:(t=T(e),null!=t&&(this._locale=t),this)}function wt(){return this._locale}function xt(e){switch(e=E(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Ct(e){return e=E(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function kt(){return+this._d-6e4*(this._offset||0)}function Tt(){return Math.floor(+this/1e3)}function St(){return this._offset?new Date(+this):this._d}function Et(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Dt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function At(){return this.isValid()?this.toISOString():"null"}function Nt(){return c(this)}function Pt(){return s({},u(this))}function Ot(){return u(this).overflow}function Mt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function It(e,t){R(0,[e,e.length],0,t)}function Rt(e){return $t.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Lt(e){return $t.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bt(){return ve(this.year(),1,4)}function Ft(){var e=this.localeData()._week;return ve(this.year(),e.dow,e.doy)}function $t(e,t,n,i,r){var o;return null==e?ge(this,i,r).year:(o=ve(e,i,r),t>o&&(t=o),zt.call(this,e,t,n,i,r))}function zt(e,t,n,i,r){var o=me(e,t,n,i,r),s=ce(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ht(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jt(e){return ge(e,this._week.dow,this._week.doy).week}function Wt(){return this._week.dow}function qt(){return this._week.doy}function Ut(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Yt(e){var t=ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Vt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Xt(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Gt(e){return this._weekdaysShort[e.day()]}function Kt(e){return this._weekdaysMin[e.day()]}function Qt(e,t,n){var i,r,o;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=Ne([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Vt(e,this.localeData()),this.add(e-t,"d")):t}function Jt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function en(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function tn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function nn(){return this.hours()%12||12}function rn(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function on(e,t){return t._meridiemParse}function sn(e){return"p"===(e+"").toLowerCase().charAt(0)}function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function ln(e,t){t[Di]=v(1e3*("0."+e))}function un(){return this._isUTC?"UTC":""}function cn(){return this._isUTC?"Coordinated Universal Time":""}function dn(e){return Ne(1e3*e)}function fn(){return Ne.apply(null,arguments).parseZone()}function hn(e,t,n){var i=this._calendar[e];return A(i)?i.call(t,n):i}function pn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function mn(){return this._invalidDate}function gn(e){return this._ordinal.replace("%d",e)}function vn(e){return e}function yn(e,t,n,i){var r=this._relativeTime[n];return A(r)?r(e,t,n,i):r.replace(/%d/i,e)}function bn(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}function _n(e){var t,n;for(n in e)t=e[n],A(t)?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function wn(e,t,n,i){var r=T(),o=a().set(i,t);return r[n](o,e)}function xn(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return wn(e,t,n,r);var o,s=[];for(o=0;i>o;o++)s[o]=wn(e,o,n,r);return s}function Cn(e,t){return xn(e,t,"months",12,"month")}function kn(e,t){return xn(e,t,"monthsShort",12,"month")}function Tn(e,t){return xn(e,t,"weekdays",7,"day")}function Sn(e,t){return xn(e,t,"weekdaysShort",7,"day")}function En(e,t){return xn(e,t,"weekdaysMin",7,"day")}function Dn(){var e=this._data;return this._milliseconds=br(this._milliseconds),this._days=br(this._days),this._months=br(this._months),e.milliseconds=br(e.milliseconds),e.seconds=br(e.seconds),e.minutes=br(e.minutes),e.hours=br(e.hours),e.months=br(e.months),e.years=br(e.years),this}function An(e,t,n,i){var r=Qe(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Nn(e,t){return An(this,e,t,1)}function Pn(e,t){return An(this,e,t,-1)}function On(e){return 0>e?Math.floor(e):Math.ceil(e)}function Mn(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*On(Rn(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=g(o/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,s+=g(n/24),r=g(In(s)),a+=r,s-=On(Rn(r)),i=g(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function In(e){return 4800*e/146097}function Rn(e){return 146097*e/4800}function Ln(e){var t,n,i=this._milliseconds;if(e=E(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+In(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Rn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Bn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Fn(e){return function(){return this.as(e)}}function $n(e){return e=E(e),this[e+"s"]()}function zn(e){return function(){return this._data[e]}}function Hn(){return g(this.days()/7)}function jn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Wn(e,t,n){var i=Qe(e).abs(),r=Rr(i.as("s")),o=Rr(i.as("m")),s=Rr(i.as("h")),a=Rr(i.as("d")),l=Rr(i.as("M")),u=Rr(i.as("y")),c=r<Lr.s&&["s",r]||1>=o&&["m"]||o<Lr.m&&["mm",o]||1>=s&&["h"]||s<Lr.h&&["hh",s]||1>=a&&["d"]||a<Lr.d&&["dd",a]||1>=l&&["M"]||l<Lr.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,jn.apply(null,c)}function qn(e,t){return void 0===Lr[e]?!1:void 0===t?Lr[e]:(Lr[e]=t,!0)}function Un(e){var t=this.localeData(),n=Wn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Yn(){var e,t,n,i=Br(this._milliseconds)/1e3,r=Br(this._days),o=Br(this._months);e=g(i/60),t=g(e/60),i%=60,e%=60,n=g(o/12),o%=12;var s=n,a=o,l=r,u=t,c=e,d=i,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Vn,Xn,Gn=e.momentProperties=[],Kn=!1,Qn={},Zn={},Jn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ti={},ni={},ii=/\d/,ri=/\d\d/,oi=/\d{3}/,si=/\d{4}/,ai=/[+-]?\d{6}/,li=/\d\d?/,ui=/\d\d\d\d?/,ci=/\d\d\d\d\d\d?/,di=/\d{1,3}/,fi=/\d{1,4}/,hi=/[+-]?\d{1,6}/,pi=/\d+/,mi=/[+-]?\d+/,gi=/Z|[+-]\d\d:?\d\d/gi,vi=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[+-]?\d+(\.\d{1,3})?/,bi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_i={},wi={},xi=0,Ci=1,ki=2,Ti=3,Si=4,Ei=5,Di=6,Ai=7,Ni=8;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),z("M",li),z("MM",li,ri),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),q(["M","MM"],function(e,t){t[Ci]=v(e)-1}),q(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Ci]=r:u(n).invalidMonth=e});var Pi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Oi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ii=bi,Ri=bi,Li={};e.suppressDeprecationWarnings=!1;var Bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Fi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$i=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Hi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=oe("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),R("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),S("year","y"),z("Y",mi),z("YY",li,ri),z("YYYY",fi,si),z("YYYYY",hi,ai),z("YYYYYY",hi,ai),q(["YYYYY","YYYYYY"],xi),q("YYYY",function(t,n){n[xi]=2===t.length?e.parseTwoDigitYear(t):v(t)}),q("YY",function(t,n){n[xi]=e.parseTwoDigitYear(t)}),q("Y",function(e,t){t[xi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Wi=N("FullYear",!1);e.ISO_8601=function(){};var qi=oe("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),Ui=oe("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),Yi=function(){return Date.now?Date.now():+new Date};Le("Z",":"),Le("ZZ",""),z("Z",vi),z("ZZ",vi),q(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Be(vi,e)});var Vi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Xi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Gi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qe.fn=Ie.prototype;var Ki=tt(1,"add"),Qi=tt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zi=oe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),It("gggg","weekYear"),It("ggggg","weekYear"),It("GGGG","isoWeekYear"),It("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),z("G",mi),z("g",mi),z("GG",li,ri),z("gg",li,ri),z("GGGG",fi,si),z("gggg",fi,si),z("GGGGG",hi,ai),z("ggggg",hi,ai),U(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),U(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),R("Q",0,"Qo","quarter"),S("quarter","Q"),z("Q",ii),q("Q",function(e,t){t[Ci]=3*(v(e)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),z("w",li),z("ww",li,ri),z("W",li),z("WW",li,ri),U(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var Ji={dow:0,doy:6};R("D",["DD",2],"Do","date"),S("date","D"),z("D",li),z("DD",li,ri),z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),q(["D","DD"],ki),q("Do",function(e,t){t[ki]=v(e.match(li)[0],10)});var er=N("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),z("d",li),z("e",li),z("E",li),z("dd",bi),z("ddd",bi),z("dddd",bi),U(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:u(n).invalidWeekday=e}),U(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ir="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),z("DDD",di),z("DDDD",oi),q(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,nn),R("hmm",0,0,function(){return""+nn.apply(this)+I(this.minutes(),2)}),R("hmmss",0,0,function(){return""+nn.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),rn("a",!0),rn("A",!1),S("hour","h"),z("a",on),z("A",on),z("H",li),z("h",li),z("HH",li,ri),z("hh",li,ri),z("hmm",ui),z("hmmss",ci),z("Hmm",ui),z("Hmmss",ci),q(["H","HH"],Ti),q(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(["h","hh"],function(e,t,n){t[Ti]=v(e),u(n).bigHour=!0}),q("hmm",function(e,t,n){var i=e.length-2;t[Ti]=v(e.substr(0,i)),t[Si]=v(e.substr(i)),u(n).bigHour=!0}),q("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ti]=v(e.substr(0,i)),t[Si]=v(e.substr(i,2)),t[Ei]=v(e.substr(r)),u(n).bigHour=!0}),q("Hmm",function(e,t,n){var i=e.length-2;t[Ti]=v(e.substr(0,i)),t[Si]=v(e.substr(i))}),q("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Ti]=v(e.substr(0,i)),t[Si]=v(e.substr(i,2)),t[Ei]=v(e.substr(r))});var rr=/[ap]\.?m?\.?/i,or=N("Hours",!0);R("m",["mm",2],0,"minute"),S("minute","m"),z("m",li),z("mm",li,ri),q(["m","mm"],Si);var sr=N("Minutes",!1);R("s",["ss",2],0,"second"),S("second","s"),z("s",li),z("ss",li,ri),q(["s","ss"],Ei);var ar=N("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),z("S",di,ii),z("SS",di,ri),z("SSS",di,oi);var lr;for(lr="SSSS";lr.length<=9;lr+="S")z(lr,pi);for(lr="S";lr.length<=9;lr+="S")q(lr,ln);var ur=N("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var cr=p.prototype;cr.add=Ki,cr.calendar=it,cr.clone=rt,cr.diff=dt,cr.endOf=Ct,cr.format=mt,cr.from=gt,cr.fromNow=vt,cr.to=yt,cr.toNow=bt,cr.get=M,cr.invalidAt=Ot,cr.isAfter=ot,cr.isBefore=st,cr.isBetween=at,cr.isSame=lt,cr.isSameOrAfter=ut,cr.isSameOrBefore=ct,cr.isValid=Nt,cr.lang=Zi,cr.locale=_t,cr.localeData=wt,cr.max=Ui,cr.min=qi,cr.parsingFlags=Pt,cr.set=M,cr.startOf=xt,cr.subtract=Qi,cr.toArray=Et,cr.toObject=Dt,cr.toDate=St,cr.toISOString=pt,cr.toJSON=At,cr.toString=ht,cr.unix=Tt,cr.valueOf=kt,cr.creationData=Mt,cr.year=Wi,cr.isLeapYear=he,cr.weekYear=Rt,cr.isoWeekYear=Lt,cr.quarter=cr.quarters=Ht,cr.month=Z,cr.daysInMonth=J,cr.week=cr.weeks=Ut,cr.isoWeek=cr.isoWeeks=Yt,cr.weeksInYear=Ft,cr.isoWeeksInYear=Bt,cr.date=er,cr.day=cr.days=Zt,cr.weekday=Jt,cr.isoWeekday=en,cr.dayOfYear=tn,cr.hour=cr.hours=or,cr.minute=cr.minutes=sr,cr.second=cr.seconds=ar,cr.millisecond=cr.milliseconds=ur,cr.utcOffset=ze,cr.utc=je,cr.local=We,cr.parseZone=qe,cr.hasAlignedHourOffset=Ue,cr.isDST=Ye,cr.isDSTShifted=Ve,cr.isLocal=Xe,cr.isUtcOffset=Ge,cr.isUtc=Ke,cr.isUTC=Ke,cr.zoneAbbr=un,cr.zoneName=cn,cr.dates=oe("dates accessor is deprecated. Use date instead.",er),cr.months=oe("months accessor is deprecated. Use month instead",Z),cr.years=oe("years accessor is deprecated. Use year instead",Wi),cr.zone=oe("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",He);var dr=cr,fr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},hr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pr="Invalid date",mr="%d",gr=/\d{1,2}/,vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},yr=b.prototype;yr._calendar=fr,yr.calendar=hn,yr._longDateFormat=hr,yr.longDateFormat=pn,yr._invalidDate=pr,yr.invalidDate=mn,yr._ordinal=mr,yr.ordinal=gn,yr._ordinalParse=gr,yr.preparse=vn,yr.postformat=vn,yr._relativeTime=vr,yr.relativeTime=yn,yr.pastFuture=bn,yr.set=_n,yr.months=X,yr._months=Oi,yr.monthsShort=G,yr._monthsShort=Mi,yr.monthsParse=K,yr._monthsRegex=Ri,yr.monthsRegex=te,yr._monthsShortRegex=Ii,yr.monthsShortRegex=ee,yr.week=jt,yr._week=Ji,yr.firstDayOfYear=qt,yr.firstDayOfWeek=Wt,yr.weekdays=Xt,yr._weekdays=tr,yr.weekdaysMin=Kt,yr._weekdaysMin=ir,yr.weekdaysShort=Gt,yr._weekdaysShort=nr,yr.weekdaysParse=Qt,yr.isPM=sn,yr._meridiemParse=rr,yr.meridiem=an,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=oe("moment.lang is deprecated. Use moment.locale instead.",C),e.langData=oe("moment.langData is deprecated. Use moment.localeData instead.",T);var br=Math.abs,_r=Fn("ms"),wr=Fn("s"),xr=Fn("m"),Cr=Fn("h"),kr=Fn("d"),Tr=Fn("w"),Sr=Fn("M"),Er=Fn("y"),Dr=zn("milliseconds"),Ar=zn("seconds"),Nr=zn("minutes"),Pr=zn("hours"),Or=zn("days"),Mr=zn("months"),Ir=zn("years"),Rr=Math.round,Lr={s:45,m:45,h:22,d:26,M:11},Br=Math.abs,Fr=Ie.prototype;Fr.abs=Dn,Fr.add=Nn,Fr.subtract=Pn,Fr.as=Ln,Fr.asMilliseconds=_r,Fr.asSeconds=wr,Fr.asMinutes=xr,Fr.asHours=Cr,Fr.asDays=kr,Fr.asWeeks=Tr,Fr.asMonths=Sr,Fr.asYears=Er,Fr.valueOf=Bn,Fr._bubble=Mn,Fr.get=$n,Fr.milliseconds=Dr,Fr.seconds=Ar,Fr.minutes=Nr,Fr.hours=Pr,Fr.days=Or,Fr.weeks=Hn,Fr.months=Mr,Fr.years=Ir,Fr.humanize=Un,Fr.toISOString=Yn,Fr.toString=Yn,Fr.toJSON=Yn,Fr.locale=_t,Fr.localeData=wt,Fr.toIsoString=oe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),Fr.lang=Zi,R("X",0,0,"unix"),R("x",0,0,"valueOf"),z("x",mi),z("X",yi),q("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.11.2",t(Ne),e.fn=dr,e.min=Oe,e.max=Me,e.now=Yi,e.utc=a,e.unix=dn,e.months=Cn,e.isDate=i,e.locale=C,e.invalid=d,e.duration=Qe,e.isMoment=m,e.weekdays=Tn,e.parseZone=fn,e.localeData=T,e.isDuration=Re,e.monthsShort=kn,e.weekdaysMin=En,e.defineLocale=k,e.weekdaysShort=Sn,e.normalizeUnits=E,e.relativeTimeThreshold=qn,e.prototype=dr;var $r=e;return $r}),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){var i="moment";try{n=e(i)}catch(r){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},s=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},a=function(e,t,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(t,!0,!1),r=b(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=b(r,n),e.fireEvent("on"+t,r))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},f=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4===0&&e%100!==0||e%400===0},g=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){h(e)&&e.setHours(0,0,0,0)},y=function(e,t){return e.getTime()===t.getTime()},b=function(e,t,n){var i,r;for(i in t)r=void 0!==e[i],r&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?h(t[i])?n&&(e[i]=new Date(t[i].getTime())):f(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=b({},t[i],n):(n||!r)&&(e[i]=t[i]);return e},_=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},C=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},k=function(e,t,n){var i=new Date(n,0,1),r=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+r+"</td>"},T=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},S=function(e){return"<tbody>"+e.join("")+"</tbody>"},E=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+x(e,t)+'">'+x(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},D=function(e,t,n,i,r){var o,s,a,l,u,c=e._o,d=n===c.minYear,h=n===c.maxYear,p='<div class="pika-title">',m=!0,g=!0;for(a=[],o=0;12>o;o++)a.push('<option value="'+(n===r?o-t:12+o-t)+'"'+(o===i?" selected":"")+(d&&o<c.minMonth||h&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",f(c.yearRange)?(o=c.yearRange[0],s=c.yearRange[1]+1):(o=n-c.yearRange,s=1+n+c.yearRange),a=[];s>o&&o<=c.maxYear;o++)o>=c.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,d&&(0===i||c.minMonth>=i)&&(m=!1),h&&(11===i||c.maxMonth<=i)&&(g=!1),0===t&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},A=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+E(e)+S(t)+"</table>"},N=function(s){var a=this,l=a.config(s);a._onMouseDown=function(e){if(a._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(u(t,"is-disabled")||(u(t,"pika-button")&&!u(t,"is-empty")?(a.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&r(function(){a.hide(),l.field&&l.field.blur()},100)):u(t,"pika-prev")?a.prevMonth():u(t,"pika-next")&&a.nextMonth()),u(t,"pika-select"))a._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},a._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(u(t,"pika-select-month")?a.gotoMonth(t.value):u(t,"pika-select-year")&&a.gotoYear(t.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(t?(i=e(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),h(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var e=i.activeElement;do if(u(e,"pika-single"))return;while(e=e.parentNode);a._c||(a._b=r(function(){a.hide()},50)),a._c=!1},a._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",a._onChange)));do if(u(i,"pika-single")||i===l.trigger)return;while(i=i.parentNode);a._v&&t!==l.trigger&&i!==l.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?i.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),o(l.field,"change",a._onInputChange),l.defaultDate||(t&&l.field.value?l.defaultDate=e(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;
h(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",o(l.trigger,"click",a._onInputClick),o(l.trigger,"focus",a._onInputFocus),o(l.trigger,"blur",a._onInputBlur)):this.show()};return N.prototype={config:function(e){this._o||(this._o=b({},w,!0));var t=b(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),f(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return h(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),h(e)){var n=this._o.minDate,i=this._o.maxDate;h(n)&&n>e?e=n:h(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(h(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=_(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=_({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,o=t.minMonth,s=t.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var l=0;l<t.numberOfMonths;l++)a+='<div class="pika-lendar">'+D(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,t.bound&&"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;r(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var e,t,n,r,o,s,a,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,s=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)c=e.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&u+r>s+a||this._o.position.indexOf("top")>-1&&u-r-e.offsetHeight>0)&&(u=u-r-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(e,t){var n=this._o,i=new Date,r=g(e,t),o=new Date(e,t,1).getDay(),s=[],a=[];v(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=r+o,u=l;u>7;)u-=7;l+=7-u;for(var c=0,d=0;l>c;c++){var f=new Date(e,t,1+(c-o)),m=h(this._d)?y(f,this._d):!1,b=y(f,i),_=o>c||c>=r+o,w=n.startRange&&y(n.startRange,f),x=n.endRange&&y(n.endRange,f),S=n.startRange&&n.endRange&&n.startRange<f&&f<n.endRange,E=n.minDate&&f<n.minDate||n.maxDate&&f>n.maxDate||n.disableWeekends&&p(f)||n.disableDayFn&&n.disableDayFn(f),D={day:1+(c-o),month:t,year:e,isSelected:m,isToday:b,isDisabled:E,isEmpty:_,isStartRange:w,isEndRange:x,isInRange:S};a.push(C(D)),7===++d&&(n.showWeekNumber&&a.unshift(k(c-o,t,e)),s.push(T(a,n.isRTL)),a=[],d=0)}return A(n,s)},isVisible:function(){return this._v},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&s(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},N}),!function(e,t,n){"undefined"!=typeof module?module.exports=n(e,t):"function"==typeof define&&"object"==typeof define.amd?define(n):t[e]=n(e,t)}("humane",this,function(e,t){var n=window,i=document,r={on:function(e,t,i){"addEventListener"in n?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},off:function(e,t,i){"removeEventListener"in n?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},bind:function(e,t){return function(){e.apply(t,arguments)}},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},config:function(e,t){return null!=e?e:t},transSupport:!1,useFilter:/msie [678]/i.test(navigator.userAgent),_checkTransition:function(){var e=i.createElement("div"),t={webkit:"webkit",Moz:"",O:"o",ms:"MS"};for(var n in t)n+"Transition"in e.style&&(this.vendorPrefix=t[n],this.transSupport=!0)}};r._checkTransition();var o=function(e){e||(e={}),this.queue=[],this.baseCls=e.baseCls||"humane",this.addnCls=e.addnCls||"",this.timeout="timeout"in e?e.timeout:2500,this.waitForMove=e.waitForMove||!1,this.clickToClose=e.clickToClose||!1,this.timeoutAfterMove=e.timeoutAfterMove||!1,this.container=e.container;try{this._setupEl()}catch(t){r.on(n,"load",r.bind(this._setupEl,this))}};return o.prototype={constructor:o,_setupEl:function(){var e=i.createElement("div");if(e.style.display="none",!this.container){if(!i.body)throw"document.body is null";this.container=i.body}this.container.appendChild(e),this.el=e,this.removeEvent=r.bind(function(){var e=r.config(this.currentMsg.timeoutAfterMove,this.timeoutAfterMove);e?setTimeout(r.bind(this.remove,this),e):this.remove()},this),this.transEvent=r.bind(this._afterAnimation,this),this._run()},_afterTimeout:function(){r.config(this.currentMsg.waitForMove,this.waitForMove)?this.removeEventsSet||(r.on(i.body,"mousemove",this.removeEvent),r.on(i.body,"click",this.removeEvent),r.on(i.body,"keypress",this.removeEvent),r.on(i.body,"touchstart",this.removeEvent),this.removeEventsSet=!0):this.remove()},_run:function(){if(!this._animating&&this.queue.length&&this.el){this._animating=!0,this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=null);var e=this.queue.shift(),t=r.config(e.clickToClose,this.clickToClose);t&&(r.on(this.el,"click",this.removeEvent),r.on(this.el,"touchstart",this.removeEvent)),timeoutBasedOnMsgLenght=e.html.replace(/<(?:.|\n)*?>/gm,"").split(" ").length<8?2250:5e3;var n=r.config(timeoutBasedOnMsgLenght,this.timeout);n>0&&(this.currentTimer=setTimeout(r.bind(this._afterTimeout,this),n)),r.isArray(e.html)&&(e.html="<ul><li>"+e.html.join("<li>")+"</ul>"),this.el.innerHTML=e.html,this.currentMsg=e,this.el.className=this.baseCls,r.transSupport?(this.el.style.display="block",setTimeout(r.bind(this._showMsg,this),50)):this._showMsg()}},_setOpacity:function(e){if(r.useFilter)try{this.el.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*e}catch(t){}else this.el.style.opacity=String(e)},_showMsg:function(){var e=r.config(this.currentMsg.addnCls,this.addnCls);if(r.transSupport)this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-animate";else{var t=0;this.el.className=this.baseCls+" "+e+" "+this.baseCls+"-js-animate",this._setOpacity(0),this.el.style.display="block";var n=this,i=setInterval(function(){1>t?(t+=.1,t>1&&(t=1),n._setOpacity(t)):clearInterval(i)},30)}},_hideMsg:function(){var e=r.config(this.currentMsg.addnCls,this.addnCls);if(r.transSupport)this.el.className=this.baseCls+" "+e,r.on(this.el,r.vendorPrefix?r.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent);else var t=1,n=this,i=setInterval(function(){t>0?(t-=.1,0>t&&(t=0),n._setOpacity(t)):(n.el.className=n.baseCls+" "+e,clearInterval(i),n._afterAnimation())},30)},_afterAnimation:function(){r.transSupport&&r.off(this.el,r.vendorPrefix?r.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent),this.currentMsg.cb&&this.currentMsg.cb(),this.el.style.display="none",this._animating=!1,this._run()},remove:function(e){var t="function"==typeof e?e:null;r.off(i.body,"mousemove",this.removeEvent),r.off(i.body,"click",this.removeEvent),r.off(i.body,"keypress",this.removeEvent),r.off(i.body,"touchstart",this.removeEvent),r.off(this.el,"click",this.removeEvent),r.off(this.el,"touchstart",this.removeEvent),this.removeEventsSet=!1,t&&this.currentMsg&&(this.currentMsg.cb=t),this._animating?this._hideMsg():t&&t()},log:function(e,t,n,i){var r={};if(i)for(var o in i)r[o]=i[o];if("function"==typeof t)n=t;else if(t)for(var o in t)r[o]=t[o];return r.html=e,n&&(r.cb=n),this.queue.push(r),this._run(),this},spawn:function(e){var t=this;return function(n,i,r){return t.log.call(t,n,i,r,e),t}},create:function(e){return new o(e)}},new o}),humane.waitForMove=!1,humane.clickToClose=!0,humane.error=humane.spawn({addnCls:"humane-error"}),humane.success=humane.spawn({addnCls:"humane-success"}),humane.info=humane.spawn({addnCls:"humane-info"}),!function(){window.flexibility={},Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw new TypeError(this+"is not an object");if(!(e instanceof Function))throw new TypeError(e+" is not a function");for(var t=Object(this),n=arguments[1],i=t instanceof String?t.split(""):t,r=Math.max(Math.min(i.length,9007199254740991),0)||0,o=-1;++o<r;)o in i&&e.call(n,i[o],o,t)}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.computeLayout=t()}(flexibility,function(){var e=function(){function e(t){if((!t.layout||t.isDirty)&&(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.style.measure&&t.children&&t.children.length)throw new Error("Using custom measure function is supported only for leaf nodes.");return t.children.forEach(e),t}function t(e){return void 0===e}function n(e){return e===H||e===j}function i(e){return e===W||e===q}function r(e,t){if(void 0!==e.style.marginStart&&n(t))return e.style.marginStart;var i=null;switch(t){case"row":i=e.style.marginLeft;break;case"row-reverse":i=e.style.marginRight;break;case"column":i=e.style.marginTop;break;case"column-reverse":i=e.style.marginBottom}return void 0!==i?i:void 0!==e.style.margin?e.style.margin:0}function o(e,t){if(void 0!==e.style.marginEnd&&n(t))return e.style.marginEnd;var i=null;switch(t){case"row":i=e.style.marginRight;break;case"row-reverse":i=e.style.marginLeft;break;case"column":i=e.style.marginBottom;break;case"column-reverse":i=e.style.marginTop}return null!=i?i:void 0!==e.style.margin?e.style.margin:0}function s(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&n(t))return e.style.paddingStart;var i=null;switch(t){case"row":i=e.style.paddingLeft;break;case"row-reverse":i=e.style.paddingRight;break;case"column":i=e.style.paddingTop;break;case"column-reverse":i=e.style.paddingBottom}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function a(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&n(t))return e.style.paddingEnd;var i=null;switch(t){case"row":i=e.style.paddingRight;break;case"row-reverse":i=e.style.paddingLeft;break;case"column":i=e.style.paddingBottom;break;case"column-reverse":i=e.style.paddingTop}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function l(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&n(t))return e.style.borderStartWidth;var i=null;switch(t){case"row":i=e.style.borderLeftWidth;break;case"row-reverse":i=e.style.borderRightWidth;break;case"column":i=e.style.borderTopWidth;break;case"column-reverse":i=e.style.borderBottomWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function u(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&n(t))return e.style.borderEndWidth;var i=null;switch(t){case"row":i=e.style.borderRightWidth;break;case"row-reverse":i=e.style.borderLeftWidth;break;case"column":i=e.style.borderBottomWidth;break;case"column-reverse":i=e.style.borderTopWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function c(e,t){return s(e,t)+l(e,t)}function d(e,t){return a(e,t)+u(e,t)}function f(e,t){return l(e,t)+u(e,t)}function h(e,t){return r(e,t)+o(e,t)}function p(e,t){return c(e,t)+d(e,t)}function m(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}function g(e){return e.style.alignContent?e.style.alignContent:"flex-start"}function v(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function y(e,t){if(t===z){if(e===H)return j;if(e===j)return H}return e}function b(e,t){var n;return n=e.style.direction?e.style.direction:F,n===F&&(n=void 0===t?$:t),n}function _(e){return e.style.flexDirection?e.style.flexDirection:W}function w(e,t){return i(e)?y(H,t):W}function x(e){return e.style.position?e.style.position:"relative"}function C(e){return x(e)===ee&&e.style.flex>0}function k(e){return"wrap"===e.style.flexWrap}function T(e,t){return e.layout[oe[t]]+h(e,t)}function S(e,t){return void 0!==e.style[oe[t]]&&e.style[oe[t]]>=0}function E(e,t){return void 0!==e.style[t]}function D(e){return void 0!==e.style.measure}function A(e,t){return void 0!==e.style[t]?e.style[t]:0}function N(e,t,n){var i={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],r={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],o=n;return void 0!==r&&r>=0&&o>r&&(o=r),void 0!==i&&i>=0&&i>o&&(o=i),o}function P(e,t){return e>t?e:t}function O(e,t){void 0===e.layout[oe[t]]&&S(e,t)&&(e.layout[oe[t]]=P(N(e,t,e.style[oe[t]]),p(e,t)))}function M(e,t,n){t.layout[ie[n]]=e.layout[oe[n]]-t.layout[oe[n]]-t.layout[re[n]]}function I(e,t){return void 0!==e.style[ne[t]]?A(e,ne[t]):-A(e,ie[t])}function R(e,i,s,a){var u=b(e,a),R=y(_(e),u),F=w(R,u),$=y(H,u);O(e,R),O(e,F),e.layout.direction=u,e.layout[ne[R]]+=r(e,R)+I(e,R),e.layout[ie[R]]+=o(e,R)+I(e,R),e.layout[ne[F]]+=r(e,F)+I(e,F),e.layout[ie[F]]+=o(e,F)+I(e,F);var z=e.children.length,se=p(e,$),ae=p(e,W);if(D(e)){var le=!t(e.layout[oe[$]]),ue=B;ue=S(e,$)?e.style.width:le?e.layout[oe[$]]:i-h(e,$),ue-=se;var ce=B;ce=S(e,W)?e.style.height:t(e.layout[oe[W]])?s-h(e,$):e.layout[oe[W]],ce-=p(e,W);var de=!S(e,$)&&!le,fe=!S(e,W)&&t(e.layout[oe[W]]);if(de||fe){var he=e.style.measure(ue,ce);de&&(e.layout.width=he.width+se),fe&&(e.layout.height=he.height+ae)}if(0===z)return}var pe,me,ge,ve,ye=k(e),be=m(e),_e=c(e,R),we=c(e,F),xe=p(e,R),Ce=p(e,F),ke=!t(e.layout[oe[R]]),Te=!t(e.layout[oe[F]]),Se=n(R),Ee=null,De=null,Ae=B;ke&&(Ae=e.layout[oe[R]]-xe);for(var Ne=0,Pe=0,Oe=0,Me=0,Ie=0,Re=0;z>Pe;){var Le,Be,Fe=0,$e=0,ze=0,He=0,je=ke&&be===U||!ke&&be!==Y,We=je?z:Ne,qe=!0,Ue=z,Ye=null,Ve=null,Xe=_e,Ge=0;for(pe=Ne;z>pe;++pe){ge=e.children[pe],ge.lineIndex=Re,ge.nextAbsoluteChild=null,ge.nextFlexChild=null;var Ke=v(e,ge);if(Ke===J&&x(ge)===ee&&Te&&!S(ge,F))ge.layout[oe[F]]=P(N(ge,F,e.layout[oe[F]]-Ce-h(ge,F)),p(ge,F));else if(x(ge)===te)for(null===Ee&&(Ee=ge),null!==De&&(De.nextAbsoluteChild=ge),De=ge,me=0;2>me;me++)ve=0!==me?H:W,!t(e.layout[oe[ve]])&&!S(ge,ve)&&E(ge,ne[ve])&&E(ge,ie[ve])&&(ge.layout[oe[ve]]=P(N(ge,ve,e.layout[oe[ve]]-p(e,ve)-h(ge,ve)-A(ge,ne[ve])-A(ge,ie[ve])),p(ge,ve)));var Qe=0;if(ke&&C(ge)?($e++,ze+=ge.style.flex,null===Ye&&(Ye=ge),null!==Ve&&(Ve.nextFlexChild=ge),Ve=ge,Qe=p(ge,R)+h(ge,R)):(Le=B,Be=B,Se?Be=S(e,W)?e.layout[oe[W]]-ae:s-h(e,W)-ae:Le=S(e,$)?e.layout[oe[$]]-se:i-h(e,$)-se,0===Oe&&L(ge,Le,Be,u),x(ge)===ee&&(He++,Qe=T(ge,R))),ye&&ke&&Fe+Qe>Ae&&pe!==Ne){He--,Oe=1;break}je&&(x(ge)!==ee||C(ge))&&(je=!1,We=pe),qe&&(x(ge)!==ee||Ke!==J&&Ke!==K||t(ge.layout[oe[F]]))&&(qe=!1,Ue=pe),je&&(ge.layout[re[R]]+=Xe,ke&&M(e,ge,R),Xe+=T(ge,R),Ge=P(Ge,N(ge,F,T(ge,F)))),qe&&(ge.layout[re[F]]+=Me+we,Te&&M(e,ge,F)),Oe=0,Fe+=Qe,Pe=pe+1}var Ze=0,Je=0,et=0;if(et=ke?Ae-Fe:P(Fe,0)-Fe,0!==$e){var tt,nt,it=et/ze;for(Ve=Ye;null!==Ve;)tt=it*Ve.style.flex+p(Ve,R),nt=N(Ve,R,tt),tt!==nt&&(et-=nt,ze-=Ve.style.flex),Ve=Ve.nextFlexChild;for(it=et/ze,0>it&&(it=0),Ve=Ye;null!==Ve;)Ve.layout[oe[R]]=N(Ve,R,it*Ve.style.flex+p(Ve,R)),Le=B,S(e,$)?Le=e.layout[oe[$]]-se:Se||(Le=i-h(e,$)-se),Be=B,S(e,W)?Be=e.layout[oe[W]]-ae:Se&&(Be=s-h(e,W)-ae),L(Ve,Le,Be,u),ge=Ve,Ve=Ve.nextFlexChild,ge.nextFlexChild=null}else be!==U&&(be===Y?Ze=et/2:be===V?Ze=et:be===X?(et=P(et,0),Je=$e+He-1!==0?et/($e+He-1):0):be===G&&(Je=et/($e+He),Ze=Je/2));for(Xe+=Ze,pe=We;Pe>pe;++pe)ge=e.children[pe],x(ge)===te&&E(ge,ne[R])?ge.layout[re[R]]=A(ge,ne[R])+l(e,R)+r(ge,R):(ge.layout[re[R]]+=Xe,ke&&M(e,ge,R),x(ge)===ee&&(Xe+=Je+T(ge,R),Ge=P(Ge,N(ge,F,T(ge,F)))));var rt=e.layout[oe[F]];for(Te||(rt=P(N(e,F,Ge+Ce),Ce)),pe=Ue;Pe>pe;++pe)if(ge=e.children[pe],x(ge)===te&&E(ge,ne[F]))ge.layout[re[F]]=A(ge,ne[F])+l(e,F)+r(ge,F);else{var ot=we;if(x(ge)===ee){var Ke=v(e,ge);if(Ke===J)t(ge.layout[oe[F]])&&(ge.layout[oe[F]]=P(N(ge,F,rt-Ce-h(ge,F)),p(ge,F)));else if(Ke!==K){var st=rt-Ce-T(ge,F);ot+=Ke===Q?st/2:st}}ge.layout[re[F]]+=Me+ot,Te&&M(e,ge,F)}Me+=Ge,Ie=P(Ie,Xe),Re+=1,Ne=Pe}if(Re>1&&Te){var at=e.layout[oe[F]]-Ce,lt=at-Me,ut=0,ct=we,dt=g(e);dt===Z?ct+=lt:dt===Q?ct+=lt/2:dt===J&&at>Me&&(ut=lt/Re);var ft=0;for(pe=0;Re>pe;++pe){var ht=ft,pt=0;for(me=ht;z>me;++me)if(ge=e.children[me],x(ge)===ee){if(ge.lineIndex!==pe)break;t(ge.layout[oe[F]])||(pt=P(pt,ge.layout[oe[F]]+h(ge,F)))}for(ft=me,pt+=ut,me=ht;ft>me;++me)if(ge=e.children[me],x(ge)===ee){var mt=v(e,ge);if(mt===K)ge.layout[re[F]]=ct+r(ge,F);else if(mt===Z)ge.layout[re[F]]=ct+pt-o(ge,F)-ge.layout[oe[F]];else if(mt===Q){var gt=ge.layout[oe[F]];ge.layout[re[F]]=ct+(pt-gt)/2}else mt===J&&(ge.layout[re[F]]=ct+r(ge,F))}ct+=pt}}var vt=!1,yt=!1;if(ke||(e.layout[oe[R]]=P(N(e,R,Ie+d(e,R)),xe),(R===j||R===q)&&(vt=!0)),Te||(e.layout[oe[F]]=P(N(e,F,Me+Ce),Ce),(F===j||F===q)&&(yt=!0)),vt||yt)for(pe=0;z>pe;++pe)ge=e.children[pe],vt&&M(e,ge,R),yt&&M(e,ge,F);for(De=Ee;null!==De;){for(me=0;2>me;me++)ve=0!==me?H:W,!t(e.layout[oe[ve]])&&!S(De,ve)&&E(De,ne[ve])&&E(De,ie[ve])&&(De.layout[oe[ve]]=P(N(De,ve,e.layout[oe[ve]]-f(e,ve)-h(De,ve)-A(De,ne[ve])-A(De,ie[ve])),p(De,ve))),E(De,ie[ve])&&!E(De,ne[ve])&&(De.layout[ne[ve]]=e.layout[oe[ve]]-De.layout[oe[ve]]-A(De,ie[ve]));ge=De,De=De.nextAbsoluteChild,ge.nextAbsoluteChild=null}}function L(e,t,n,i){e.shouldUpdate=!0;var r=e.style.direction||$,o=!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.parentMaxHeight===n&&e.lastLayout.direction===r;o?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.parentMaxHeight=n,e.lastLayout.direction=r,e.children.forEach(function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0}),R(e,t,n,i),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}var B,F="inherit",$="ltr",z="rtl",H="row",j="row-reverse",W="column",q="column-reverse",U="flex-start",Y="center",V="flex-end",X="space-between",G="space-around",K="flex-start",Q="center",Z="flex-end",J="stretch",ee="relative",te="absolute",ne={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ie={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},re={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},oe={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};return{layoutNodeImpl:R,computeLayout:L,fillNodes:e}}();return"object"==typeof exports&&(module.exports=e),function(t){e.fillNodes(t),e.computeLayout(t)}}),!window.addEventListener&&window.attachEvent&&function(){Window.prototype.addEventListener=HTMLDocument.prototype.addEventListener=Element.prototype.addEventListener=function(e,t){this.attachEvent("on"+e,t)},Window.prototype.removeEventListener=HTMLDocument.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t){this.detachEvent("on"+e,t)}}(),flexibility.detect=function(){var e=document.createElement("p");try{return e.style.display="flex","flex"===e.style.display}catch(t){return!1}},!flexibility.detect()&&document.attachEvent&&document.documentElement.currentStyle&&document.attachEvent("onreadystatechange",function(){flexibility.onresize({target:document.documentElement})}),flexibility.init=function(e){var t=e.onlayoutcomplete;return t||(t=e.onlayoutcomplete={node:e,style:{},children:[]}),t.style.display=e.currentStyle["-js-display"]||e.currentStyle.display,t};var e,t=1e3,n=15,i=document.documentElement,r=0,o=0;flexibility.onresize=function(s){if(i.clientWidth!==r||i.clientHeight!==o){r=i.clientWidth,o=i.clientHeight,clearTimeout(e),window.removeEventListener("resize",flexibility.onresize);var a=s.target&&1===s.target.nodeType?s.target:document.documentElement;flexibility.walk(a),e=setTimeout(function(){window.addEventListener("resize",flexibility.onresize)},t/n)}};var s={alignContent:{initial:"stretch",valid:/^(flex-start|flex-end|center|space-between|space-around|stretch)/},alignItems:{initial:"stretch",valid:/^(flex-start|flex-end|center|baseline|stretch)$/},boxSizing:{initial:"content-box",valid:/^(border-box|content-box)$/},flexDirection:{initial:"row",valid:/^(row|row-reverse|column|column-reverse)$/},flexWrap:{initial:"nowrap",valid:/^(nowrap|wrap|wrap-reverse)$/},justifyContent:{initial:"flex-start",valid:/^(flex-start|flex-end|center|space-between|space-around)$/}};flexibility.updateFlexContainerCache=function(e){var t=e.style,n=e.node.currentStyle,i=e.node.style,r={};(n["flex-flow"]||i["flex-flow"]||"").replace(/^(row|row-reverse|column|column-reverse)\s+(nowrap|wrap|wrap-reverse)$/i,function(e,t,n){r.flexDirection=t,r.flexWrap=n});for(var o in s){var a=o.replace(/[A-Z]/g,"-$&").toLowerCase(),l=s[o],u=n[a]||i[a];t[o]=l.valid.test(u)?u:r[o]||l.initial}};var a={alignSelf:{initial:"auto",valid:/^(auto|flex-start|flex-end|center|baseline|stretch)$/},boxSizing:{initial:"content-box",valid:/^(border-box|content-box)$/},flexBasis:{initial:"auto",valid:/^((?:[-+]?0|[-+]?[0-9]*\.?[0-9]+(?:%|ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw))|auto|fill|max-content|min-content|fit-content|content)$/},flexGrow:{initial:0,valid:/^\+?(0|[1-9][0-9]*)$/},flexShrink:{initial:0,valid:/^\+?(0|[1-9][0-9]*)$/},order:{initial:0,valid:/^([-+]?[0-9]+)$/}};flexibility.updateFlexItemCache=function(e){var t=e.style,n=e.node.currentStyle,i=e.node.style,r={};(n.flex||i.flex||"").replace(/^\+?(0|[1-9][0-9]*)/,function(e){r.flexGrow=e});for(var o in a){var s=o.replace(/[A-Z]/g,"-$&").toLowerCase(),l=a[o],u=n[s]||i[s];t[o]=l.valid.test(u)?u:r[o]||l.initial,"number"==typeof l.initial&&(t[o]=parseFloat(t[o]))}};var l="border:0 solid;clip:rect(0 0 0 0);display:inline-block;font:0/0 serif;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;overflow:hidden;padding:0;position:absolute;width:1em;",u={medium:4,none:0,thick:6,thin:2},c={borderBottomWidth:0,borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,height:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,marginBottom:0,marginLeft:0,marginRight:0,marginTop:0,maxHeight:0,maxWidth:0,minHeight:0,minWidth:0,width:0},d=/^([-+]?0|[-+]?[0-9]*\.?[0-9]+)/,f=100;flexibility.updateLengthCache=function(e){var t,n,i,r=e.node,o=e.style,s=r.parentNode,a=document.createElement("_"),h=a.runtimeStyle,p=r.currentStyle;h.cssText=l+"font-size:"+p.fontSize,s.insertBefore(a,r.nextSibling),o.fontSize=a.offsetWidth,h.fontSize=o.fontSize+"px";for(var m in c){var g=p[m];d.test(g)||"auto"===g&&!/(width|height)/i.test(m)?/%$/.test(g)?(/^(bottom|height|top)$/.test(m)?(n||(n=s.offsetHeight),i=n):(t||(t=s.offsetWidth),i=t),o[m]=parseFloat(g)*i/f):(h.width=g,o[m]=a.offsetWidth):/^border/.test(m)&&g in u?o[m]=u[g]:delete o[m]}s.removeChild(a),"none"===p.borderTopStyle&&(o.borderTopWidth=0),"none"===p.borderRightStyle&&(o.borderRightWidth=0),"none"===p.borderBottomStyle&&(o.borderBottomWidth=0),"none"===p.borderLeftStyle&&(o.borderLeftWidth=0),o.width||o.minWidth||(/flex/.test(o.display)?o.width=r.offsetWidth:o.minWidth=r.offsetWidth),o.height||o.minHeight||/flex/.test(o.display)||(o.minHeight=r.offsetHeight)},flexibility.walk=function(e){var t=flexibility.init(e),n=t.style,i=n.display;if("none"===i)return{};var r=i.match(/^(inline)?flex$/);if(r&&(flexibility.updateFlexContainerCache(t),e.runtimeStyle.cssText="display:"+(r[1]?"inline-block":"block"),t.children=[]),Array.prototype.forEach.call(e.childNodes,function(e,i){if(1===e.nodeType){var o=flexibility.walk(e),s=o.style;o.index=i,r&&(flexibility.updateFlexItemCache(o),"auto"===s.alignSelf&&(s.alignSelf=n.alignItems),s.flex=s.flexGrow,e.runtimeStyle.cssText="display:inline-block",t.children.push(o))}}),r){t.children.forEach(function(e){flexibility.updateLengthCache(e)}),t.children.sort(function(e,t){return e.style.order-t.style.order||e.index-t.index}),/-reverse$/.test(n.flexDirection)&&(t.children.reverse(),n.flexDirection=n.flexDirection.replace(/-reverse$/,""),"flex-start"===n.justifyContent?n.justifyContent="flex-end":"flex-end"===n.justifyContent&&(n.justifyContent="flex-start")),flexibility.updateLengthCache(t),delete t.lastLayout,delete t.layout;var o=n.borderTopWidth,s=n.borderBottomWidth;n.borderTopWidth=0,n.borderBottomWidth=0,n.borderLeftWidth=0,"column"===n.flexDirection&&(n.width-=n.borderRightWidth),flexibility.computeLayout(t),e.runtimeStyle.cssText="box-sizing:border-box;display:block;position:relative;width:"+(t.layout.width+n.borderRightWidth)+"px;height:"+(t.layout.height+o+s)+"px";var a=[],l=1,u="column"===n.flexDirection?"width":"height";t.children.forEach(function(e){a[e.lineIndex]=Math.max(a[e.lineIndex]||0,e.layout[u]),l=Math.max(l,e.lineIndex+1)}),t.children.forEach(function(e){var t=e.layout;"stretch"===e.style.alignSelf&&(t[u]=a[e.lineIndex]),e.node.runtimeStyle.cssText="box-sizing:border-box;display:block;position:absolute;margin:0;width:"+t.width+"px;height:"+t.height+"px;top:"+t.top+"px;left:"+t.left+"px"})}return t}}(),function(e){"use strict";var t,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&r.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},n,i||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function n(){var t,n=window.getComputedStyle?window.getComputedStyle(f,null):!1;n?(t=f.getBoundingClientRect().width,(0===t||"number"!=typeof t)&&(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){t-=parseInt(n[i],10)})):t=h.width(),o.style.width=Math.max(t,0)+"px"}function s(){var s={};if(t=f,o.className=i.className,o.id=i.id,u=parseInt(h.css("maxHeight"),10),e.each(r,function(e,t){s[t]=h.css(t)}),e(o).css(s).attr("wrap",h.attr("wrap")),n(),window.chrome){var a=f.style.width;f.style.width="0px";f.offsetWidth;f.style.width=a}}function a(){var e,r;t!==f?s():n(),!f.value&&i.placeholder?o.value=(h.attr("placeholder")||"")+i.append:o.value=f.value+i.append,o.style.overflowY=f.style.overflowY,r=parseInt(f.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,u&&e>u?(f.style.overflowY="scroll",e=u):(f.style.overflowY="hidden",c>e&&(e=c)),e+=p,r!==e&&(f.style.height=e+"px",m&&i.callback.call(f,f))}function l(){clearTimeout(d),d=setTimeout(function(){var e=h.width();e!==v&&(v=e,a())},parseInt(i.resizeDelay,10))}var u,c,d,f=this,h=e(f),p=0,m=e.isFunction(i.callback),g={height:f.style.height,overflow:f.style.overflow,overflowY:f.style.overflowY,wordWrap:f.style.wordWrap,resize:f.style.resize},v=h.width(),y=h.css("resize");h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(p=h.outerHeight()-h.height()),c=Math.max(parseInt(h.css("minHeight"),10)-p||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?h.css("resize","none"):"both"===y&&h.css("resize","horizontal"),"onpropertychange"in f?"oninput"in f?h.on("input.autosize keyup.autosize",a):h.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):h.on("input.autosize",a),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),h.on("autosize.resize",a),h.on("autosize.resizeIncludeStyle",function(){t=null,a()}),h.on("autosize.destroy",function(){t=null,clearTimeout(d),e(window).off("resize",l),h.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(window.jQuery||window.$),BestInPlaceEditor.prototype={activate:function(){"use strict";var e;if(this.isPlaceHolder())e="";else if(this.original_content)e=this.original_content;else switch(this.formType){case"input":case"textarea":if(this.display_raw)e=this.element.html().replace(/&amp;/gi,"&");else{var t=this.element.data("bipValue");e="undefined"==typeof t?"":"string"==typeof t?this.element.data("bipValue").replace(/&amp;/gi,"&"):this.element.data("bipValue")}break;case"select":e=this.element.html()}this.oldValue=this.isPlaceHolder()?"":this.element.html(),this.display_value=e,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){"use strict";this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),
this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){"use strict";return this.useConfirm?void(confirm(BestInPlaceEditor.defaults.locales[""].confirmMessage)&&this.abort()):void this.abort()},update:function(){"use strict";var e=this,t=this.getValue();if(this.formType in{input:1,textarea:1}&&t===this.oldValue)return this.abort(),!0;switch(e.ajax({type:BestInPlaceEditor.defaults.ajaxMethod,dataType:BestInPlaceEditor.defaults.ajaxDataType,data:e.requestData(),success:function(t,n,i){e.loadSuccessCallback(t,n,i)},error:function(t,n){e.loadErrorCallback(t,n)}}),this.formType){case"select":this.previousCollectionValue=t,$.each(this.values,function(n,i){String(i[0])===String(t)&&e.element.html(i[1])});break;case"checkbox":$.each(this.values,function(n,i){String(i[0])===String(t)&&e.element.html(i[1])});break;default:""!==t?this.display_raw?e.element.html(t):e.element.text(t):e.element.html(this.placeHolder)}e.element.data("bipValue",t),e.element.attr("data-bip-value",t),e.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},activateText:function(e){"use strict";this.element.html(e),this.isPlaceHolder()&&this.element.html(this.placeHolder)},initOptions:function(){"use strict";var e=this;e.element.parents().each(function(){var t=jQuery(this);e.url=e.url||t.data("bipUrl"),e.activator=e.activator||t.data("bipActivator"),e.okButton=e.okButton||t.data("bipOkButton"),e.okButtonClass=e.okButtonClass||t.data("bipOkButtonClass"),e.cancelButton=e.cancelButton||t.data("bipCancelButton"),e.cancelButtonClass=e.cancelButtonClass||t.data("bipCancelButtonClass"),e.skipBlur=e.skipBlur||t.data("bipSkipBlur")}),e.url=e.element.data("bipUrl")||e.url||document.location.pathname,e.collection=e.element.data("bipCollection")||e.collection,e.formType=e.element.data("bipType")||"input",e.objectName=e.element.data("bipObject")||e.objectName,e.attributeName=e.element.data("bipAttribute")||e.attributeName,e.activator=e.element.data("bipActivator")||e.element,e.okButton=e.element.data("bipOkButton")||e.okButton,e.okButtonClass=e.element.data("bipOkButtonClass")||e.okButtonClass||BestInPlaceEditor.defaults.okButtonClass,e.cancelButton=e.element.data("bipCancelButton")||e.cancelButton,e.cancelButtonClass=e.element.data("bipCancelButtonClass")||e.cancelButtonClass||BestInPlaceEditor.defaults.cancelButtonClass,e.skipBlur=e.element.data("bipSkipBlur")||e.skipBlur||BestInPlaceEditor.defaults.skipBlur,null==e.element.data("bipPlaceholder")?e.placeHolder=BestInPlaceEditor.defaults.locales[""].placeHolder:e.placeHolder=e.element.data("bipPlaceholder"),e.inner_class=e.element.data("bipInnerClass"),e.html_attrs=e.element.data("bipHtmlAttrs"),e.original_content=e.element.data("bipOriginalContent")||e.original_content,e.display_raw=e.element.data("bip-raw"),e.useConfirm=e.element.data("bip-confirm"),("select"===e.formType||"checkbox"===e.formType)&&(e.values=e.collection,e.collectionValue=e.element.data("bipValue")||e.collectionValue)},bindForm:function(){"use strict";this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initPlaceHolder:function(){"use strict";""===this.element.html()&&(this.element.addClass("bip-placeholder"),this.element.html(this.placeHolder))},isPlaceHolder:function(){"use strict";return""===this.element.html()||this.element.html()===this.placeHolder},getValue:function(){"use strict";alert(BestInPlaceEditor.defaults.locales[""].uninitializedForm)},sanitizeValue:function(e){"use strict";return jQuery.trim(e)},requestData:function(){"use strict";var e=jQuery("meta[name=csrf-token]").attr("content"),t=jQuery("meta[name=csrf-param]").attr("content"),n="_method="+BestInPlaceEditor.defaults.ajaxMethod;return n+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==t&&void 0!==e&&(n+="&"+t+"="+encodeURIComponent(e)),n},ajax:function(e){"use strict";return e.url=this.url,e.beforeSend=function(e){e.setRequestHeader("Accept","application/json")},jQuery.ajax(e)},loadSuccessCallback:function(e,t,n){"use strict";if(e=jQuery.trim(e),this.display_raw?this.original_content=this.element.html():this.original_content=this.element.text(),e&&""!==e){var i=jQuery.parseJSON(e);null!==i&&i.hasOwnProperty("display_as")&&(this.element.data("bip-original-content",this.element.text()),this.element.html(i.display_as))}this.element.toggleClass("bip-placeholder",this.isPlaceHolder()),this.element.trigger(jQuery.Event("best_in_place:success"),[e,t,n]),this.element.trigger(jQuery.Event("ajax:success"),[e,t,n]),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"===this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(e,t){"use strict";this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[e,t]),this.element.trigger(jQuery.Event("ajax:error"),e,t),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(e){"use strict";e.preventDefault(),e.data.editor.activate()},setHtmlAttributes:function(){"use strict";var e=this.element.find(this.formType);if(this.html_attrs){var t=this.html_attrs;$.each(t,function(t,n){e.attr(t,n)})}},placeButtons:function(e,t){"use strict";t.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",t.okButtonClass).attr("value",t.okButton)),t.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("class",t.cancelButtonClass).attr("value",t.cancelButton))}},BestInPlaceEditor.forms={input:{activateForm:function(){"use strict";var e=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),t=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);this.inner_class&&t.addClass(this.inner_class),e.append(t),this.placeButtons(e,this),this.element.html(e),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.okButton||this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(e){"use strict";e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abort()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()},500):e.data.editor.update()},submitHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abort(),e.stopPropagation()},keyupHandler:function(e){"use strict";27===e.keyCode&&(e.data.editor.abort(),e.stopImmediatePropagation())}},select:{activateForm:function(){"use strict";var e,t,n=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline"),i=jQuery(document.createElement("select")).attr("class",null!==this.inner_class?this.inner_class:""),r=this.collectionValue,o=this.values;$.each(o,function(n,o){e=o[0],t=o[1];var s=jQuery(document.createElement("option")).val(e).html(t);String(e)===String(r)&&s.attr("selected","selected"),i.append(s)}),n.append(i),this.element.html(n),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus();try{var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.element.find("select")[0].dispatchEvent(s)}catch(s){}},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(e){"use strict";e.data.editor.update()},keyupHandler:function(e){"use strict";27===e.keyCode&&e.data.editor.abort()}},checkbox:{activateForm:function(){"use strict";this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){"use strict";return this.collectionValue}},textarea:{activateForm:function(){"use strict";var e=this.element.css("width"),t=this.element.css("height"),n=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),i=jQuery(document.createElement("textarea")).attr("name",this.attributeName).val(this.sanitizeValue(this.display_value));null!==this.inner_class&&i.addClass(this.inner_class),n.append(i),this.placeButtons(n,this),this.element.html(n),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":e,"min-height":t}),jQuery(this.element.find("textarea")[0]).autosize(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.skipBlur||this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){"use strict";return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(e){"use strict";e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abortIfConfirm()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()},500):e.data.editor.update()},submitHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){"use strict";e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abortIfConfirm(),e.stopPropagation()},keyupHandler:function(e){"use strict";27===e.keyCode&&e.data.editor.abortIfConfirm()}}},BestInPlaceEditor.defaults={locales:{},ajaxMethod:"put",ajaxDataType:"text",okButtonClass:"",cancelButtonClass:"",skipBlur:!1},BestInPlaceEditor.defaults.locales[""]={confirmMessage:"Are you sure you want to discard your changes?",uninitializedForm:"The form was not properly initialized. getValue is unbound",placeHolder:"-"},jQuery.fn.best_in_place=function(){"use strict";function e(e){return e.data("bestInPlaceEditor")?void 0:(e.data("bestInPlaceEditor",new BestInPlaceEditor(e)),!0)}return jQuery(this.context).delegate(this.selector,"click",function(){var t=jQuery(this);e(t)&&t.click()}),this.each(function(){e(jQuery(this))}),this},!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(){function t(e,t){return w.call(e,t)}function n(e,t){var n,i,r,o,s,a,l,u,c,d,f,h=t&&t.split("/"),p=b.map,m=p&&p["*"]||{};if(e){for(s=(e=e.split("/")).length-1,b.nodeIdCompat&&C.test(e[s])&&(e[s]=e[s].replace(C,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),c=0;c<e.length;c++)if("."===(f=e[c]))e.splice(c,1),c-=1;else if(".."===f){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((h||m)&&p){for(c=(n=e.split("/")).length;c>0;c-=1){if(i=n.slice(0,c).join("/"),h)for(d=h.length;d>0;d-=1)if(r=(r=p[h.slice(0,d).join("/")])&&r[i]){o=r,a=c;break}if(o)break;!l&&m&&m[i]&&(l=m[i],u=c)}!o&&l&&(o=l,a=u),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function i(e,t){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(f,n.concat([e,t]))}}function r(e){return function(t){v[e]=t}}function o(e){if(t(y,e)){var n=y[e];delete y[e],_[e]=!0,h.apply(f,n)}if(!t(v,e)&&!t(_,e))throw new Error("No "+e);return v[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e){return e?s(e):[]}if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var l=e.fn.select2.amd;var u,c,d,f,h,p,m,g,v,y,b,_,w,x,C;return l&&l.requirejs||(l?c=l:l={},v={},y={},b={},_={},w=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/,m=function(e,t){var i,r=s(e),a=r[0],l=t[1];return e=r[1],a&&(i=o(a=n(a,l))),a?e=i&&i.normalize?i.normalize(e,function(e){return function(t){return n(t,e)}}(l)):n(e,l):(a=(r=s(e=n(e,l)))[0],e=r[1],a&&(i=o(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:i}},g={require:function(e){return i(e)},exports:function(e){var t=v[e];return void 0!==t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:function(e){return function(){return b&&b.config&&b.config[e]||{}}}(e)}}},h=function(e,n,s,l){var u,c,d,h,p,b,w,x=[],C=typeof s;if(b=a(l=l||e),"undefined"==C||"function"==C){for(n=!n.length&&s.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(c=(h=m(n[p],b)).f))x[p]=g.require(e);else if("exports"===c)x[p]=g.exports(e),w=!0;else if("module"===c)u=x[p]=g.module(e);else if(t(v,c)||t(y,c)||t(_,c))x[p]=o(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,i(l,!0),r(c),{}),x[p]=v[c]}d=s?s.apply(v[e],x):void 0,e&&(u&&u.exports!==f&&u.exports!==v[e]?v[e]=u.exports:d===f&&w||(v[e]=d))}else e&&(v[e]=s)},u=c=p=function(e,t,n,i,r){if("string"==typeof e)return g[e]?g[e](t):o(m(e,a(t)).f);if(!e.splice){if((b=e).deps&&p(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=f}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?h(f,e,t,n):setTimeout(function(){h(f,e,t,n)},4),p},p.config=function(e){return p(e)},u._defined=v,(d=function(e,n,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),t(v,e)||t(y,e)||(y[e]=[e,n,i])}).amd={jQuery:!0},l.requirejs=u,l.require=c,l.define=d),l.define("almond",function(){}),l.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),l.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}function n(){this.listeners={}}var i={};i.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,r=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var r=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),r.apply(this,arguments)}}var o=t(n),s=t(e);n.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=e.prototype[l]}for(var u=0;u<o.length;u++){var c=o[u];i.prototype[c]=r(c)}return i},n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var n=0,i=e.length;i>n;n++)e[n].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",n=0;e>n;n++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},i.hasScroll=function(t,n){var i=e(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},i.__cache={};var r=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(t,n){var r=i.GetUniqueElementId(t);return n?i.__cache[r]&&null!=i.__cache[r][n]?i.__cache[r][n]:e(t).data(n):i.__cache[r]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t],e.removeAttribute("data-select2-id")},i}),l.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);i.append(n(r(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(i){var r=e.map(i,function(e){return e.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=e(this),i=t.GetData(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<e.inArray(o,r)?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var r={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var s in(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==n.id&&delete r["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(r.role="group",r["aria-label"]=n.text,delete r["aria-selected"]),r){var a=r[s];i.setAttribute(s,a)}if(n.children){var l=e(i),u=document.createElement("strong");u.className="select2-results__group",e(u),this.template(n,u);for(var c=[],d=0;d<n.children.length;d++){var f=n.children[d],h=this.option(f);c.push(h)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(c),l.append(u),l.append(p)}else this.template(n,i);return t.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var r=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",function(e){r.clear(),r.append(e.data),n.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),n.on("results:append",function(e){r.append(e.data),n.isOpen()&&r.setClasses()}),n.on("query",function(e){r.hideMessages(),r.showLoading(e)}),n.on("select",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),n.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),n.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:n})}}),n.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e);if(!(0>=n)){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var s=r.$results.offset().top,a=o.offset().top,l=r.$results.scrollTop()+(a-s);0===i?r.$results.scrollTop(0):0>a-s&&r.$results.scrollTop(l)}}),n.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),s=i.offset().top+i.outerHeight(!1),a=r.$results.scrollTop()+s-o;0===n?r.$results.scrollTop(0):s>o&&r.$results.scrollTop(a)}}),n.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var i=e(this),o=t.GetData(this,"data");"true"!==i.attr("aria-selected")?r.trigger("select",{originalEvent:n,data:o}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:n,data:o}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var i=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:i,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*e.outerHeight(!1),2>=t?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):e(n).append(o)},n}),l.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),l.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},i.prototype.bind=function(e,t){var i=this,r=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),e.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,function(n){var i=e(n.target).closest(".select2");e(".select2.select2-container--open").each(function(){this!=i[0]&&t.GetData(this,"element").select2("close")})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),l.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i);var r=t.title||t.text;r?n.attr("title",r):n.removeAttr("title")}else this.clear()},r}),l.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,r){var o=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!o.options.get("disabled")){var i=e(this).parent(),r=n.GetData(i[0],"data");o.trigger("unselect",{originalEvent:t,data:r})}})},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var r=e[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s);var a=r.title||r.text;a&&o.attr("title",a),n.StoreData(o[0],"data",r),t.push(o)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,t)}},i}),l.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),l.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,n){function i(){}return i.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var r=n.GetData(i[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var s={data:r};if(this.trigger("clear",s),s.prevented)this.$element.val(o);else{for(var a=0;a<r.length;a++)if(s={data:r[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(o);
this.$element.trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},i.prototype.update=function(t,i){if(t.call(this,i),!(0<this.$selection.find(".select2-selection__placeholder").length||0===i.length)){var r=this.options.get("translations").get("removeAllItems"),o=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');n.StoreData(o[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(o)}},i}),l.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,i,r){var o=this,s=i.id+"-results";e.call(this,i,r),i.on("open",function(){o.$search.attr("aria-controls",s),o.$search.trigger("focus")}),i.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),i.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),i.on("disable",function(){o.$search.prop("disabled",!0)}),i.on("focus",function(e){o.$search.trigger("focus")}),i.on("results:focus",function(e){e.data._resultId?o.$search.attr("aria-activedescendant",e.data._resultId):o.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(0<i.length){var r=t.GetData(i[0],"data");o.searchRemoveChoice(r),e.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(e){o.$search.val()&&e.stopPropagation()});var a=document.documentMode,l=a&&11>=a;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){l?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(l&&"input"===e.type)o.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&o.handleSearch(e)}})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},i}),l.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,o)){n=n||{};var i=e.Event("select2:"+t,{params:n});r.$element.trigger(i),-1!==e.inArray(t,s)&&(n.prevented=i.isDefaultPrevented())}})},t}),l.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),l.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),l.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),l.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),r=i.item(e);t.push(r)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(e=[e]).push.apply(e,i);for(var o=0;o<e.length;o++){var s=e[o].id;-1===n.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==e.id&&-1===n.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("change")})}},i.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},i.prototype.query=function(e,t){var i=[],r=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),s=r.matches(e,o);null!==s&&i.push(s)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var i;e.children?(i=document.createElement("optgroup")).label=e.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=e.text:i.innerText=e.text,void 0!==e.id&&(i.value=e.id),e.disabled&&(i.disabled=!0),e.selected&&(i.selected=!0),e.title&&(i.title=e.title);var r=n(i),o=this._normalizeItem(e);return o.element=i,t.StoreData(i,"data",o),r},i.prototype.item=function(e){var i={};if(null!=(i=t.GetData(e[0],"data")))return i;if(e.is("option"))i={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){i={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),o=[],s=0;s<r.length;s++){var a=n(r[s]),l=this.item(a);o.push(l)}i.children=o}return(i=this._normalizeItem(i)).element=e[0],t.StoreData(e[0],"data",i),i},i.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),l.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var r=this,o=this.$element.find("option"),s=o.map(function(){return r.item(n(this)).id}).get(),a=[],l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(0<=n.inArray(u.id,s)){var c=o.filter(i(u)),d=this.item(c),f=n.extend(!0,{},u,d),h=this.option(f);c.replaceWith(h)}else{var p=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(p,m)}a.push(p)}}return a},i}),l.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var r=n.ajax(e);return r.then(t),r.fail(i),r}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,e);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){"status"in i&&(0===i.status||"0"===i.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),l.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,i),e.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){var i=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function r(e,o){for(var s=e.results,a=0;a<s.length;a++){var l=s[a],u=null!=l.children&&!r({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!o&&(e.data=s,void n(e))}if(o)return!0;var c=i.createTag(t);if(null!=c){var d=i.option(c);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(s,c)}e.results=s,n(e)}):e.call(this,t,n)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),l.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(t){var n=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(e){r.trigger("select",{data:e})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),n.term=o.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var u=s[a];if(-1!==e.inArray(u,o)){var c=s.substr(0,a),d=l(e.extend({},n,{term:c}));null!=d?(r(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t}),l.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),l.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),l.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(){i._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected(function(){e.call(i,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){var i=null!=e?e.length:0;0<n.maximumSelectionLength&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()})},e}),l.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),l.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var r=this,o=n.id+"-results";t.call(this,n,i),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",o),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||r.$search.trigger("focus")}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(e){e.data._resultId?r.$search.attr("aria-activedescendant",e.data._resultId):r.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),l.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),l.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),l.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=e(i.get("dropdownParent")||document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(e,t){if(!this._containerResultsHandlersBound){var n=this;t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(n){var i=t.GetData(this,"select2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(o+" "+s+" "+a,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),u=t.scrollTop()+t.height(),c=l<o.top-a,d=u>o.bottom+a,f={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();f.top-=p.top,f.left-=p.left,n||i||(r="below"),d||!c||n?!c&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(f.top=s.top-p.top-a),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(f)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",
e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),l.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function n(e){for(var t=0,i=0;i<e.length;i++){var r=e[i];r.children?t+=n(r.children):t++}return t}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),l.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var o=e.GetData(r[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),l.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),l.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"}}}),l.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,y,b,_,w,x,C,k,T,S,E,D){function A(){this.reset()}return A.prototype.apply=function(c){if(null==(c=e.extend(!0,{},this.defaults,c)).dataAdapter){if(null!=c.ajax?c.dataAdapter=p:null!=c.data?c.dataAdapter=h:c.dataAdapter=f,0<c.minimumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,v)),0<c.maximumInputLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,y)),0<c.maximumSelectionLength&&(c.dataAdapter=u.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=u.Decorate(c.dataAdapter,m)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=u.Decorate(c.dataAdapter,g)),null!=c.query){var d=t(c.amdBase+"compat/query");c.dataAdapter=u.Decorate(c.dataAdapter,d)}if(null!=c.initSelection){var D=t(c.amdBase+"compat/initSelection");c.dataAdapter=u.Decorate(c.dataAdapter,D)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,C)),null!=c.placeholder&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,x)),c.selectOnClose&&(c.resultsAdapter=u.Decorate(c.resultsAdapter,S))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=_;else{var A=u.Decorate(_,w);c.dropdownAdapter=A}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,T)),c.closeOnSelect&&(c.dropdownAdapter=u.Decorate(c.dropdownAdapter,E)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var N=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=u.Decorate(c.dropdownAdapter,N)}c.dropdownAdapter=u.Decorate(c.dropdownAdapter,k)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=r:c.selectionAdapter=i,null!=c.placeholder&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,o)),c.allowClear&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,s)),c.multiple&&(c.selectionAdapter=u.Decorate(c.selectionAdapter,a)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var P=t(c.amdBase+"compat/containerCss");c.selectionAdapter=u.Decorate(c.selectionAdapter,P)}c.selectionAdapter=u.Decorate(c.selectionAdapter,l)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var O=[],M=0;M<c.language.length;M++){var I=c.language[M];-1===O.indexOf(I)&&O.push(I)}return c.language=O,c.translations=this._processTranslations(c.language,c.debug),c},A.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:{},matcher:function n(i,r){if(""===e.trim(i.term))return r;if(r.children&&0<r.children.length){for(var o=e.extend(!0,{},r),s=r.children.length-1;s>=0;s--)null==n(i,r.children[s])&&o.children.splice(s,1);return 0<o.children.length?o:n(i,o)}var a=t(r.text).toUpperCase(),l=t(i.term).toUpperCase();return-1<a.indexOf(l)?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,r=t.prop("lang"),o=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(o));return e.language=s,e},A.prototype._resolveLanguage=function(t){if(!t)return[];if(e.isEmptyObject(t))return[];if(e.isPlainObject(t))return[t];var n;n=e.isArray(t)?t:[t];for(var i=[],r=0;r<n.length;r++)if(i.push(n[r]),"string"==typeof n[r]&&0<n[r].indexOf("-")){var o=n[r].split("-")[0];i.push(o)}return i},A.prototype._processTranslations=function(t,n){for(var i=new c,r=0;r<t.length;r++){var o=new c,s=t[r];if("string"==typeof s)try{o=c.loadPath(s)}catch(t){try{s=this.defaults.amdLanguageBase+s,o=c.loadPath(s)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else o=e.isPlainObject(s)?new c(s):s;i.extend(o)}return i},A.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var r=u._convertData(i);e.extend(!0,this.defaults,r)},new A}),l.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),null!=r&&(this.options=n.applyFromElement(this.options,r)),this.options=n.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){function n(e,t){return t.toUpperCase()}var r=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),i.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(e[0],"data",i.GetData(e[0],"select2Tags")),i.StoreData(e[0],"tags",!0)),i.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",i.GetData(e[0],"ajaxUrl")),i.StoreData(e[0],"ajax-Url",i.GetData(e[0],"ajaxUrl")));for(var o={},s=0;s<e[0].attributes.length;s++){var a=e[0].attributes[s].name,l="data-";if(a.substr(0,l.length)==l){var u=a.substring(l.length),c=i.GetData(e[0],u);o[u.replace(/-([a-z])/g,n)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var d=t.extend(!0,{},i.GetData(e[0]),o);for(var f in d=i._convertData(d))-1<t.inArray(f,r)||(t.isPlainObject(this.options[f])?t.extend(this.options[f],d[f]):this.options[f]=d[f]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),l.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var r=function(e,i){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),r.__super__.constructor.call(this);var o=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",o),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return 0>=r?"auto":r+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;l>a;a+=1){var u=s[a].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,r){-1===e.inArray(i,n)&&t.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var o=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,o,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},r}),l.define("jquery-mousewheel",["jquery"],function(e){return e}),l.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,n,i,r){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var i,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,s)}),-1<e.inArray(t,o)?this:i}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:l.define,require:l.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){if(!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var t=n(this),s=o.settings;return isNaN(t.datetime)||(0==s.cutoff||Math.abs(r(t.datetime))<s.cutoff)&&e(this).text(i(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:o.datetime(t)});var n=e.trim(t.text());o.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||o.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return o.inWords(r(e))}function r(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return i(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var o=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,r){var o=e.isFunction(n)?n(r,t):n,s=i.numbers&&i.numbers[r]||r;return o.replace(/%d/i,s)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;if(this.settings.allowFuture&&0>t&&(r=i.prefixFromNow,o=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var s=Math.abs(t)/1e3,a=s/60,l=a/60,u=l/24,c=u/365,d=45>s&&n(i.seconds,Math.round(s))||90>s&&n(i.minute,1)||45>a&&n(i.minutes,Math.round(a))||90>a&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>u&&n(i.days,Math.round(u))||45>u&&n(i.month,1)||365>u&&n(i.months,Math.round(u/30))||1.5>c&&n(i.year,1)||n(i.years,Math.round(c)),f=i.wordSeparator||"";return void 0===i.wordSeparator&&(f=" "),e.trim([r,d,o].join(f))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=o.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return o.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var s={init:function(){var n=e.proxy(t,this);n();var i=o.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=o.parse(n);e(this).data("timeago",{datetime:i}),o.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:o.parse(o.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?s[e]:s.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),!function(){function e(t,n,i){var r=e.resolve(t);if(null==r){i=i||t,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=e.modules[r];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(r),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<n.length;i++){var t=n[i];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&n.push(t[i]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var r=e.normalize(t,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return e.normalize(r,i);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-classes/index.js",function(e,t,n){function i(e){if(!e)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var r=t("indexof"),o=/\s+/,s=Object.prototype.toString;n.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},i.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,""),t=e.split(o);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}}),e.register("segmentio-extend/index.js",function(e,t,n){n.exports=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=0;t=n[i];i++)if(t)for(var r in t)e[r]=t[r];return e}}),e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-event/index.js",function(e){var t=window.addEventListener?"addEventListener":"attachEvent",n=window.removeEventListener?"removeEventListener":"detachEvent",i="addEventListener"!==t?"on":"";e.bind=function(e,n,r,o){return e[t](i+n,r,o||!1),r},e.unbind=function(e,t,r,o){return e[n](i+t,r,o||!1),r}}),e.register("javve-to-array/index.js",function(e,t,n){n.exports=function(e){if("undefined"==typeof e)return[];if(null===e)return[null];if(e===window)return[window];if("string"==typeof e)return[e];if(e instanceof Array)return e;if("number"!=typeof e.length)return[e];if("function"==typeof e)return[e];for(var t=[],n=0;n<e.length;n++)(Object.prototype.hasOwnProperty.call(e,n)||n in e)&&t.push(e[n]);return t.length?t:[]}}),e.register("javve-events/index.js",function(e,t){var n=t("event"),i=t("to-array");e.bind=function(e,t,r,o){e=i(e);for(var s=0;s<e.length;s++)n.bind(e[s],t,r,o)},e.unbind=function(e,t,r,o){e=i(e);for(var s=0;s<e.length;s++)n.unbind(e[s],t,r,o)}}),e.register("javve-get-by-class/index.js",function(e,t,n){n.exports=function(){return document.getElementsByClassName?function(e,t,n){return n?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)}:document.querySelector?function(e,t,n){return t="."+t,n?e.querySelector(t):e.querySelectorAll(t)}:function(e,t,n){var i=[],r="*";null==e&&(e=document);for(var o=e.getElementsByTagName(r),s=o.length,a=new RegExp("(^|\\s)"+t+"(\\s|$)"),l=0,u=0;s>l;l++)if(a.test(o[l].className)){if(n)return o[l];i[u]=o[l],u++}return i}}()}),e.register("javve-get-attribute/index.js",function(e,t,n){n.exports=function(e,t){var n=e.getAttribute&&e.getAttribute(t)||null;if(!n)for(var i=e.attributes,r=i.length,o=0;r>o;o++)void 0!==t[o]&&t[o].nodeName===t&&(n=t[o].nodeValue);return n}}),e.register("javve-natural-sort/index.js",function(e,t,n){n.exports=function(e,t,n){var i,r,o=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,n=n||{},c=function(e){return n.insensitive&&(""+e).toLowerCase()||""+e},d=c(e).replace(s,"")||"",f=c(t).replace(s,"")||"",h=d.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),p=f.replace(o,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),m=parseInt(d.match(l))||1!=h.length&&d.match(a)&&Date.parse(d),g=parseInt(f.match(l))||m&&f.match(a)&&Date.parse(f)||null,v=n.desc?-1:1;if(g){if(g>m)return-1*v;if(m>g)return 1*v}for(var y=0,b=Math.max(h.length,p.length);b>y;y++){if(i=!(h[y]||"").match(u)&&parseFloat(h[y])||h[y]||0,r=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,isNaN(i)!==isNaN(r))return isNaN(i)?1:-1;if(typeof i!=typeof r&&(i+="",r+=""),r>i)return-1*v;if(i>r)return 1*v}return 0}}),e.register("javve-to-string/index.js",function(e,t,n){n.exports=function(e){return e=void 0===e?"":e,e=null===e?"":e,e=e.toString()}}),e.register("component-type/index.js",function(e,t,n){var i=Object.prototype.toString;n.exports=function(e){switch(i.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":typeof e.valueOf()}}),e.register("list.js/index.js",function(e,t,n){!function(e,i){"use strict";var r=e.document,o=t("get-by-class"),s=t("extend"),a=t("indexof"),l=function(e,n,l){var u,c=this,d=t("./src/item")(c),f=t("./src/add-async")(c),h=t("./src/parse")(c);u={start:function(){c.listClass="list",c.searchClass="search",c.sortClass="sort",c.page=200,c.i=1,c.items=[],c.visibleItems=[],c.matchingItems=[],c.searched=!1,c.filtered=!1,c.handlers={updated:[]},c.plugins={},c.helpers={getByClass:o,extend:s,indexOf:a},s(c,n),c.listContainer="string"==typeof e?r.getElementById(e):e,c.listContainer&&(c.list=o(c.listContainer,c.listClass,!0),c.templater=t("./src/templater")(c),c.search=t("./src/search")(c),c.filter=t("./src/filter")(c),c.sort=t("./src/sort")(c),this.items(),c.update(),this.plugins())},items:function(){h(c.list),l!==i&&c.add(l)},plugins:function(){for(var e=0;e<c.plugins.length;e++){var t=c.plugins[e];c[t.name]=t,t.init(c)}}},this.add=function(e,t){if(t)return void f(e,t);var n=[],r=!1;e[0]===i&&(e=[e]);for(var o=0,s=e.length;s>o;o++){var a=null;e[o]instanceof d?(a=e[o],a.reload()):(r=c.items.length>c.page?!0:!1,a=new d(e[o],i,r)),c.items.push(a),n.push(a)}return c.update(),n},this.show=function(e,t){return this.i=e,this.page=t,c.update(),c},this.remove=function(e,t,n){for(var i=0,r=0,o=c.items.length;o>r;r++)c.items[r].values()[e]==t&&(c.templater.remove(c.items[r],n),c.items.splice(r,1),o--,r--,i++);return c.update(),i},this.get=function(e,t){for(var n=[],i=0,r=c.items.length;r>i;i++){var o=c.items[i];o.values()[e]==t&&n.push(o)}return n},this.size=function(){return c.items.length},this.clear=function(){return c.templater.clear(),c.items=[],c},this.on=function(e,t){return c.handlers[e].push(t),c},this.off=function(e,t){var n=c.handlers[e],i=a(n,t);return i>-1&&n.splice(i,1),c},this.trigger=function(e){for(var t=c.handlers[e].length;t--;)c.handlers[e][t](c);return c},this.reset={filter:function(){for(var e=c.items,t=e.length;t--;)e[t].filtered=!1;return c},search:function(){for(var e=c.items,t=e.length;t--;)e[t].found=!1;return c}},this.update=function(){var e=c.items,t=e.length;c.visibleItems=[],c.matchingItems=[],c.templater.clear();for(var n=0;t>n;n++)e[n].matching()&&c.matchingItems.length+1>=c.i&&c.visibleItems.length<c.page?(e[n].show(),c.visibleItems.push(e[n]),c.matchingItems.push(e[n])):e[n].matching()?(c.matchingItems.push(e[n]),e[n].hide()):e[n].hide();return c.trigger("updated"),c},u.start()};n.exports=l}(window)}),e.register("list.js/src/search.js",function(e,t,n){var i=t("events"),r=t("get-by-class"),o=t("to-string");n.exports=function(e){var t,n,s,a,l={resetList:function(){e.i=1,e.templater.clear(),a=void 0},setOptions:function(e){2==e.length&&e[1]instanceof Array?n=e[1]:2==e.length&&"function"==typeof e[1]?a=e[1]:3==e.length&&(n=e[1],a=e[2])},setColumns:function(){n=void 0===n?l.toArray(e.items[0].values()):n},setSearchString:function(e){e=o(e).toLowerCase(),e=e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),s=e},toArray:function(e){var t=[];for(var n in e)t.push(n);return t}},u={list:function(){for(var t=0,n=e.items.length;n>t;t++)u.item(e.items[t])},item:function(e){e.found=!1;for(var t=0,i=n.length;i>t;t++)if(u.values(e.values(),n[t]))return void(e.found=!0)},values:function(e,n){return e.hasOwnProperty(n)&&(t=o(e[n]).toLowerCase(),""!==s&&t.search(s)>-1)?!0:!1},reset:function(){e.reset.search(),e.searched=!1}},c=function(t){return e.trigger("searchStart"),l.resetList(),l.setSearchString(t),l.setOptions(arguments),l.setColumns(),""===s?u.reset():(e.searched=!0,a?a(s,n):u.list()),e.update(),e.trigger("searchComplete"),e.visibleItems};return e.handlers.searchStart=e.handlers.searchStart||[],
e.handlers.searchComplete=e.handlers.searchComplete||[],i.bind(r(e.listContainer,e.searchClass),"keyup",function(e){var t=e.target||e.srcElement;c(t.value)}),e.helpers.toString=o,c}}),e.register("list.js/src/sort.js",function(e,t,n){var i=t("natural-sort"),r=t("classes"),o=t("events"),s=t("get-by-class"),a=t("get-attribute");n.exports=function(e){e.sortFunction=e.sortFunction||function(e,t,n){return n.desc="desc"==n.order?!0:!1,i(e.values()[n.valueName],t.values()[n.valueName],n)};var t={els:void 0,clear:function(){for(var e=0,n=t.els.length;n>e;e++)r(t.els[e]).remove("asc"),r(t.els[e]).remove("desc")},getOrder:function(e){var t=a(e,"data-order");return"asc"==t||"desc"==t?t:r(e).has("desc")?"asc":r(e).has("asc")?"desc":"asc"},getInSensitive:function(e,t){var n=a(e,"data-insensitive");t.insensitive="true"===n?!0:!1},setOrder:function(e){for(var n=0,i=t.els.length;i>n;n++){var o=t.els[n];if(a(o,"data-sort")===e.valueName){var s=a(o,"data-order");"asc"==s||"desc"==s?s==e.order&&r(o).add(e.order):r(o).add(e.order)}}}},n=function(){e.trigger("sortStart"),options={};var n=arguments[0].currentTarget||arguments[0].srcElement||void 0;n?(options.valueName=a(n,"data-sort"),t.getInSensitive(n,options),options.order=t.getOrder(n)):(options=arguments[1]||options,options.valueName=arguments[0],options.order=options.order||"asc",options.insensitive="undefined"==typeof options.insensitive?!0:options.insensitive),t.clear(),t.setOrder(options),options.sortFunction=options.sortFunction||e.sortFunction,e.items.sort(function(e,t){return options.sortFunction(e,t,options)}),e.update(),e.trigger("sortComplete")};return e.handlers.sortStart=e.handlers.sortStart||[],e.handlers.sortComplete=e.handlers.sortComplete||[],t.els=s(e.listContainer,e.sortClass),o.bind(t.els,"click",n),e.on("searchStart",t.clear),e.on("filterStart",t.clear),e.helpers.classes=r,e.helpers.naturalSort=i,e.helpers.events=o,e.helpers.getAttribute=a,n}}),e.register("list.js/src/item.js",function(e,t,n){n.exports=function(e){return function(t,n,i){var r=this;this._values={},this.found=!1,this.filtered=!1;var o=function(t,n,i){if(void 0===n)i?r.values(t,i):r.values(t);else{r.elm=n;var o=e.templater.get(r,t);r.values(o)}};this.values=function(t,n){if(void 0===t)return r._values;for(var i in t)r._values[i]=t[i];n!==!0&&e.templater.set(r,r.values())},this.show=function(){e.templater.show(r)},this.hide=function(){e.templater.hide(r)},this.matching=function(){return e.filtered&&e.searched&&r.found&&r.filtered||e.filtered&&!e.searched&&r.filtered||!e.filtered&&e.searched&&r.found||!e.filtered&&!e.searched},this.visible=function(){return r.elm.parentNode==e.list?!0:!1},o(t,n,i)}}}),e.register("list.js/src/templater.js",function(e,t,n){var i=t("get-by-class"),r=function(e){function t(t){if(void 0===t){for(var n=e.list.childNodes,i=0,r=n.length;r>i;i++)if(void 0===n[i].data)return n[i];return null}if(-1!==t.indexOf("<")){var o=document.createElement("div");return o.innerHTML=t,o.firstChild}return document.getElementById(e.item)}var n=t(e.item),r=this;this.get=function(e,t){r.create(e);for(var n={},o=0,s=t.length;s>o;o++){var a=i(e.elm,t[o],!0);n[t[o]]=a?a.innerHTML:""}return n},this.set=function(e,t){if(!r.create(e))for(var n in t)if(t.hasOwnProperty(n)){var o=i(e.elm,n,!0);o&&("IMG"===o.tagName&&""!==t[n]?o.src=t[n]:o.innerHTML=t[n])}},this.create=function(e){if(void 0!==e.elm)return!1;var t=n.cloneNode(!0);return t.removeAttribute("id"),e.elm=t,r.set(e,e.values()),!0},this.remove=function(t){e.list.removeChild(t.elm)},this.show=function(t){r.create(t),e.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===e.list&&e.list.removeChild(t.elm)},this.clear=function(){if(e.list.hasChildNodes())for(;e.list.childNodes.length>=1;)e.list.removeChild(e.list.firstChild)}};n.exports=function(e){return new r(e)}}),e.register("list.js/src/filter.js",function(e,t,n){n.exports=function(e){return e.handlers.filterStart=e.handlers.filterStart||[],e.handlers.filterComplete=e.handlers.filterComplete||[],function(t){if(e.trigger("filterStart"),e.i=1,e.reset.filter(),void 0===t)e.filtered=!1;else{e.filtered=!0;for(var n=e.items,i=0,r=n.length;r>i;i++){var o=n[i];o.filtered=t(o)?!0:!1}}return e.update(),e.trigger("filterComplete"),e.visibleItems}}}),e.register("list.js/src/add-async.js",function(e,t,n){n.exports=function(e){return function(t,n,i){var r=t.splice(0,100);i=i||[],i=i.concat(e.add(r)),t.length>0?setTimeout(function(){addAsync(t,n,i)},10):(e.update(),n(i))}}}),e.register("list.js/src/parse.js",function(e,t,n){n.exports=function(e){var n=t("./item")(e),i=function(e){for(var t=e.childNodes,n=[],i=0,r=t.length;r>i;i++)void 0===t[i].data&&n.push(t[i]);return n},r=function(t,i){for(var r=0,o=t.length;o>r;r++)e.items.push(new n(i,t[r]))},o=function(t,n){var i=t.splice(0,100);r(i,n),t.length>0?setTimeout(function(){init.items.indexAsync(t,n)},10):e.update()};return function(){var t=i(e.list),n=e.valueNames;e.indexAsync?o(t,n):r(t,n)}}}),e.alias("component-classes/index.js","list.js/deps/classes/index.js"),e.alias("component-classes/index.js","classes/index.js"),e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),e.alias("segmentio-extend/index.js","list.js/deps/extend/index.js"),e.alias("segmentio-extend/index.js","extend/index.js"),e.alias("component-indexof/index.js","list.js/deps/indexof/index.js"),e.alias("component-indexof/index.js","indexof/index.js"),e.alias("javve-events/index.js","list.js/deps/events/index.js"),e.alias("javve-events/index.js","events/index.js"),e.alias("component-event/index.js","javve-events/deps/event/index.js"),e.alias("javve-to-array/index.js","javve-events/deps/to-array/index.js"),e.alias("javve-get-by-class/index.js","list.js/deps/get-by-class/index.js"),e.alias("javve-get-by-class/index.js","get-by-class/index.js"),e.alias("javve-get-attribute/index.js","list.js/deps/get-attribute/index.js"),e.alias("javve-get-attribute/index.js","get-attribute/index.js"),e.alias("javve-natural-sort/index.js","list.js/deps/natural-sort/index.js"),e.alias("javve-natural-sort/index.js","natural-sort/index.js"),e.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),e.alias("javve-to-string/index.js","list.js/deps/to-string/index.js"),e.alias("javve-to-string/index.js","to-string/index.js"),e.alias("javve-to-string/index.js","javve-to-string/index.js"),e.alias("component-type/index.js","list.js/deps/type/index.js"),e.alias("component-type/index.js","type/index.js"),"object"==typeof exports?module.exports=e("list.js"):"function"==typeof define&&define.amd?define(function(){return e("list.js")}):this.List=e("list.js")}(),!function(){function e(t,n,i){var r=e.resolve(t);if(null==r){i=i||t,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=e.modules[r];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(r),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<n.length;i++){var t=n[i];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&n.push(t[i]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var r=e.normalize(t,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return e.normalize(r,i);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-classes/index.js",function(e,t,n){function i(e){if(!e)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var r=t("indexof"),o=/\s+/,s=Object.prototype.toString;n.exports=function(e){return new i(e)},i.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},i.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},i.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},i.prototype.toggle=function(e){return this.list?(this.list.toggle(e),this):(this.has(e)?this.remove(e):this.add(e),this)},i.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,""),t=e.split(o);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}}),e.register("component-event/index.js",function(e){var t=void 0!==window.addEventListener?"addEventListener":"attachEvent",n=void 0!==window.removeEventListener?"removeEventListener":"detachEvent",i="addEventListener"!==t?"on":"";e.bind=function(e,n,r,o){return e[t](i+n,r,o||!1),r},e.unbind=function(e,t,r,o){return e[n](i+t,r,o||!1),r}}),e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("list.pagination.js/index.js",function(e,t,n){var i=t("classes"),r=t("event");n.exports=function(e){e=e||{};var t,n,o=function(){var r,o=n.matchingItems.length,l=n.i,u=n.page,c=Math.ceil(o/u),d=Math.ceil(l/u),f=e.innerWindow||2,h=e.left||e.outerWindow||0,p=e.right||e.outerWindow||0;p=c-p,t.clear();for(var m=1;c>=m;m++){var g=d===m?"active":"";s.number(m,h,p,d,f)?(r=t.add({page:m,dotted:!1})[0],g&&i(r.elm).add(g),a(r.elm,m,u)):s.dotted(m,h,p,d,f,t.size())&&(r=t.add({page:"...",dotted:!0})[0],i(r.elm).add("disabled"))}},s={number:function(e,t,n,i,r){return this.left(e,t)||this.right(e,n)||this.innerWindow(e,i,r)},left:function(e,t){return t>=e},right:function(e,t){return e>t},innerWindow:function(e,t,n){return e>=t-n&&t+n>=e},dotted:function(e,t,n,i,r,o){return this.dottedLeft(e,t,n,i,r)||this.dottedRight(e,t,n,i,r,o)},dottedLeft:function(e,t,n,i,r){return e==t+1&&!this.innerWindow(e,i,r)&&!this.right(e,n)},dottedRight:function(e,n,i,r,o,s){return t.items[s-1].values().dotted?!1:e==i&&!this.innerWindow(e,r,o)&&!this.right(e,i)}},a=function(e,t,i){r.bind(e,"click",function(){n.show((t-1)*i+1,i)})};return{init:function(i){n=i,t=new List(n.listContainer.id,{listClass:e.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'></a></li>",valueNames:["page","dotted"]}),n.on("updated",o),o()},name:e.name||"pagination"}}}),e.alias("component-classes/index.js","list.pagination.js/deps/classes/index.js"),e.alias("component-classes/index.js","classes/index.js"),e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),e.alias("component-event/index.js","list.pagination.js/deps/event/index.js"),e.alias("component-event/index.js","event/index.js"),e.alias("component-indexof/index.js","list.pagination.js/deps/indexof/index.js"),e.alias("component-indexof/index.js","indexof/index.js"),e.alias("list.pagination.js/index.js","list.pagination.js/index.js"),"object"==typeof exports?module.exports=e("list.pagination.js"):"function"==typeof define&&define.amd?define(function(){return e("list.pagination.js")}):this.ListPagination=e("list.pagination.js")}(),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClipboardJS=t():e.ClipboardJS=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n="data-clipboard-"+e;return t.hasAttribute(n)?t.getAttribute(n):void 0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(1)),l=i(n(3)),u=i(n(4)),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"]),s(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===o(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=u["default"](e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a["default"]({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return r("action",e)}},{key:"defaultTarget",value:function(e){var t=r("target",e);return t?document.querySelector(t):void 0}},{key:"defaultText",value:function(e){return r("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=c},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),a=(i=s)&&i.__esModule?i:{"default":i},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=a["default"](this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=a["default"](this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;r>i;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,s=i.length;s>o;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=n},function(e,t,n){var i=n(5),r=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return f=t,h=n,(d=e).addEventListener(f,h),{destroy:function(){d.removeEventListener(f,h)}};if(i.nodeList(e))return l=e,u=t,c=n,Array.prototype.forEach.call(l,function(e){e.addEventListener(u,c)}),{destroy:function(){Array.prototype.forEach.call(l,function(e){e.removeEventListener(u,c)})}};if(i.string(e))return o=e,s=t,a=n,r(document.body,o,s,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,s,a,l,u,c,d,f,h}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){function i(e,t,n,i,o){var s=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,s,o),{destroy:function(){e.removeEventListener(n,s,o)}}}var r=n(7);e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,r,o)}))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])}),function(){var e,t;$(function(){var e,t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,y,b;return c=void 0,p=0,u=5,m=$("nav.navbar").outerHeight(),f=$("html").is(".reports.show")||$("html").is(".topics.show")||$("html").is(".issues.show")||$("html").is(".forums.show")||$("html").is(".topics.create")||$("html").is(".issues.new"),l=function(e){return $(e).parent().find(".error-explanation").remove(),$(e).find("input[id*='"+$(e).data("namespace")+"']").val("")},i=function(e,t){return e?"<a class='error-link' data-method='post' href='"+t+"'>"+e+"</a>":""},r=function(e,t,n,r){return $("<div class='error-explanation p-a-1 m-b-1 color-white bg-brand-danger'>"+t+" "+i(n,r)+"</div>").insertBefore($(e))},d=function(e){return $(e).children(".disabled-overlay").css({display:"flex"})},o=function(e){return $('<fieldset class="form-group otp hidden"></fieldset>').html("<input placeholder='2FA Token' class='form-control' type='text' name='user[otp_attempt]' id='"+e+"_user_otp_attempt'>")},$(".login-form").submit(function(e){return e.preventDefault(),d(e.target),$.ajax({type:"POST",url:$(this).attr("action"),data:$(this).serialize(),dataType:"json",xhrFields:{withCredentials:!0},success:function(t){return null!=t.prompt_for_otp?($(e.target).find(".otp-container").append(o($(e.target).data("namespace"))),$(".otp").slideDown(),humane.info("2FA Token Required for Login"),$(".disabled-overlay").hide(),$("input"+$(e.target).data("namespace")+"_user_otp_attempt").focus()):window.location.reload()}}).fail(function(t){var n;return l(e.target),n=JSON.parse(t.responseText),humane.error(n.message),r(e.target,n.message,n.link_text,n.link_href),$(".disabled-overlay").hide()})}),h=function(){var e;return e=$(this).scrollTop(),Math.abs(p-e)<=u?void 0:(e>p&&e>m?($("nav").removeClass("nav-down").addClass("nav-up"),f&&tinyMCE.editors.forEach(function(e){return $(e.editorContainer).find(".mce-top-part").css("top","")})):e+$(window).height()<$(document).height()&&($("nav").removeClass("nav-up").addClass("nav-down"),f&&tinyMCE.editors.forEach(function(e){var t;return t=$(e.editorContainer).find(".mce-top-part"),t.hasClass("sticky")?t.css("top",m):t.css("top","")})),p=e)},$(window).scroll(function(e){return c=!0}),setInterval(function(){return c?(h(),c=!1):void 0},350),$('[data-toggle="tooltip"]').tooltip({html:!0}),$('[data-toggle="popover"]').popover({html:!0,animation:!1}),b=function(){return $("*[data-datetime]").each(function(e,t){var n,i,r;return n=$(t),i=n.data("datetime"),r=moment.utc(new Date),moment.duration(r.diff(moment.utc(i))).asHours()<168?n.html(moment.utc(i).fromNow()):n.html(moment.utc(i).calendar(null,{sameElse:"MMM D, YYYY"}))})},b(),setInterval(b,6e4),g=function(){var e;return e=$("<div />",{html:tinymce.activeEditor.getContent()}),e.find('img[src^="data:"]').remove(),tinymce.activeEditor.setContent(e.html())},a=function(e){return-1===e.indexOf("max-width: 100%;")},s=function(e){return-1===e.indexOf("height: auto;")},window.tinyMCEOnInitSuper=function(e){tinymce.activeEditor.on("ObjectResized",function(e){return e.target.dataset.mceStyle?(a(e.target.dataset.mceStyle)&&(e.target.dataset.mceStyle+="max-width: 100%;"),s(e.target.dataset.mceStyle)?e.target.dataset.mceStyle+="height: auto;":void 0):e.target.dataset.mceStyle="max-width: 100%; height: auto;"}),e.addShortcut("access+i","",function(){e.execCommand("Indent")}),e.addShortcut("access+o","",function(){e.execCommand("Outdent")}),"function"==typeof tinyMCEOnInit&&tinyMCEOnInit(e)},window.getQueryVariable=function(e){var t,n,i,r;for(i=window.location.search.substring(1),r=i.split("&"),t=0;t<r.length;){if(n=r[t].split("="),n[0]===e)return n[1];t++}return!1},$(".input-with-btn input").on("focus",function(){return $(this).parent().addClass("active")}),$(".input-with-btn input").on("blur",function(){return $(this).parent().removeClass("active")}),$(".billing_form").parent().submit(function(){return setTimeout(function(){return $(this).find("input[type=submit]").attr("disabled",!0)},1)}),$("form.payment").submit(function(){return setTimeout(function(){return $(this).find("input[type=submit]").attr("disabled",!0)},1)}),$("#loginModal button[name=commit]").click(function(){return $("#loginModal form").submit()}),$(".mobile-search-icon").on("click",function(){return $(".mobile-search").addClass("active").find("input").focus(),$(".nav-wrapper").find(".mobile-logo, .mobile-search-icon").addClass("hidden")}),$(".mobile-search .close").on("click",function(){return $(".mobile-search").removeClass("active"),$(".nav-wrapper").find(".mobile-logo, .mobile-search-icon").removeClass("hidden")}),v=function(e){var t;return"h1"===$(e).parent()[0].localName?$(e).css("font-size","2.5rem"):"h2"===$(e).parent()[0].localName?$(e).css("font-size","2rem"):"h3"===$(e).parent()[0].localName?$(e).css("font-size","1.5rem"):"h4"===$(e).parent()[0].localName?$(e).css("font-size","1.25rem"):"h5"===$(e).parent()[0].localName?$(e).css("font-size","1.25rem"):$(e).css("font-size","2.5rem"),(t=function(e){var n;n=1,$(e).is(":visible")&&($(e).height()>$(e).parent().height()||$(e).width()>$(e).parent().width())&&($(e).css("font-size",$(e).css("font-size").substr(0,2)-n+"px").css("line-height",$(e).css("font-size").substr(0,2)+"px"),t(e))})(e)},$(".resize-me").each(function(e,t){return v(t)}),$(window).resize(function(){return $(".resize-me").each(function(e,t){return v(t)})}),$("select.chosen").chosen({width:"100%"}),$("html").is(".home.index")&&(e=$("#featured-article .news-title"),e.fitText(.0582*e.find("a").text().length,{minFontSize:"20px",maxFontSize:"40px"})),window.addEventListener("scroll",function(){var e;e=window.scrollY,e>5336?$("#top-link").show():$("#top-link").hide()}),y=function(){var e;e=document.documentElement.scrollTop||document.body.scrollTop,e>0&&(window.requestAnimationFrame(y),window.scrollTo(0,e-e/10))},$("#top-link").click(function(e){e.preventDefault(),y()}),n=$(".subscribe_prospect"),t=n.find(":submit"),$(t).click(function(e){return e.preventDefault(),$(this).prop("disabled",!0),$(this).closest("form").submit()}),$(n).on("ajax:complete",function(e,t){return $(this).find("[name=email]").val(""),$(this).find(":submit").prop("disabled",!1),grecaptcha.reset()})}),(!$("html").is(".home.shows")&&$("html").is(".dark-mode")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&!$("html").is(".light-mode"))&&(e=function(e){var t;t=e.target,$(t).css("filter").includes("invert(1) hue-rotate(180deg)")?$(t).css({filter:"none"}):$(t).css({filter:"invert(1) hue-rotate(180deg)"})},t=function(e){document.webkitFullscreenElement?$(e.target).css({filter:"none"}):$(".main-content").find("iframe:not(#post_editor_inline_reply_ifr):not(#post_editor_bottom_form_ifr):not(#post_editor_ifr):not(#topic_posts_attributes_0_text_ifr):not(.poll)").css({filter:"invert(1) hue-rotate(180deg)"})},document.addEventListener("fullscreenchange",e,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("msfullscreenchange",e,!1))}.call(this),function(){var e,t,n,i,r,o=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.customOnCompleteSelected=o(this.customOnCompleteSelected,this),this.el=$('<input id="chat-swiftype-autocomplete" placeholder="Search..." size="30" type="text">'),this.el.swiftype({onComplete:this.customOnCompleteSelected,dropdownStylesFunction:this.customDropdownStylesFunction}),this.container=$(".chat-wrapper"),this.container.append(this.el),$(window).keydown(function(e){return function(t){return(t.metaKey||t.ctrlKey)&&75===t.keyCode?(t.preventDefault(),e.el.is(":visible")?e.hide():e.show()):27===t.keyCode?e.hide():void 0}}(this))}return e.prototype.show=function(){return this.currentCursorPosition=this.getCursorPosition($("#chat_message_content")),this.el.show(),this.el.focus(),this.el.css("top",this.container.height()/2-this.el.height()-75),this.el.css("left",this.container.width()/2-this.el.width()/2)},e.prototype.hide=function(){return this.el.hide(),$("#chat_message_content").focus()},e.prototype.customOnCompleteSelected=function(e,t){var n,i,r;return n=$("#chat_message_content"),i=n.val(),r=e.title+" - "+e.url,n.val([i.slice(0,this.currentCursorPosition),r,i.slice(this.currentCursorPosition)].join("")),this.hide()},e.prototype.customDropdownStylesFunction=function(e){var t,n,i,r;return n=e.data("swiftype-config-autocomplete"),t=n.attachTo?$(n.attachTo):e,i=t.offset(),r={position:"absolute","z-index":70001,top:i.top+t.outerHeight(),left:i.left,width:300}},e.prototype.getCursorPosition=function(e){var t,n;return e=e.get(0),"selectionStart"in e?e.selectionStart:document.selection?(e.focus(),t=document.selection.createRange(),n=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),t.text.length-n):0},e}(),t=function(){function e(e,t){var n;this.id=e.id,this.content=e.content,this.created_at=e.created_at,this.undisclosed=e.undisclosed,this.submitted_by_user=e.submitted_by_user,n=e.user,this.full_name=n.full_name,this.undisclosed_chat_name=n.undisclosed_chat_name,this.is_admin=n.is_admin,this.prepend=t,this.full_name=e.user.full_name,this.el||(this.insert(),this.el.find("abbr.message_time").timeago())}var t;return e.prototype.incrementMessageCount=function(){return app.newMessageCount=app.newMessageCount+1},e.prototype.insert=function(){var e;return e=$(".chat-history"),this.el=$(this.buildMessageHTML()),this.prepend?e.find(".end-of-chat-message").after(this.el):(this.trackNewMessages(),e.append(this.el),(this.submitted_by_user||0===app.newMessageNotificationCount)&&e.scrollTop(e[0].scrollHeight),"blurred"===$("body").attr("class")?(this.incrementMessageCount(),app.updatePageTitle()):void 0)},e.prototype.replace=function(e){var t;return this.full_name=void 0,this.constructor(e),this.el.replaceWith(t=$(this.buildMessageHTML())),this.el=t,this.el.find("abbr.message_time").timeago()},t={defaultProtocol:"https",attributes:{rel:"noreferrer noopener"}},e.prototype.buildMessageHTML=function(e){return"<div class='message-container' data-message-id="+this.id+"> <span class='message_name'>"+this.buildNameHTML()+"</span> <abbr class='message_time' style='font-size:60%' title="+this.created_at+"></abbr> <div class='message_content'> "+linkifyHtml(this.content,t)+" </div> </div>";
},e.prototype.buildNameHTML=function(){return this.undisclosed?window.isAdmin?this.buildAdminNameHTML(""+this.undisclosed_chat_name):this.undisclosed_chat_name:this.is_admin?window.isAdmin?this.buildAdminNameHTML(this.full_name+", IPVM"):this.full_name+", IPVM":window.isAdmin?this.buildAdminNameHTML(this.full_name):this.full_name},e.prototype.buildAdminNameHTML=function(e){return"<a href='https://ipvm.com/admin/messages/direct_message_authorization?message_id="+this.id+"' target='_blank'> "+e+" </a>"},e.prototype.trackNewMessages=function(){return $(".chat-history").isScrolledToBottom()?app.newMessageNotificationCount=0:($(".chat-history").isLastMessageVisible()||(app.newMessageNotificationCount+=1),$(".notification").hasClass("hide-down")||$(".notification").toggleClass("hide-down"),$(".notification span").text(app.newMessageNotificationCount))},e}(),e=function(){function e(e){var t;this.memberData=e,this.id=e.id,t=e.info,this.full_name=t.full_name,this.ipvm_admin=t.ipvm_admin,this.addToSidebar()}return e.prototype.buildSideBarHtml=function(){var e;return e="<div data-user-hash="+this.id+" class='member'>"+this.full_name,this.ipvm_admin&&(e+=" (Admin)"),e+="</div>"},e.prototype.addToSidebar=function(){return this.ipvm_admin?$("aside #admins").prepend(this.buildSideBarHtml()):this.full_name.match(/Undisclosed/)?$("aside #users").append(this.buildSideBarHtml()):$("aside #users").prepend(this.buildSideBarHtml())},e}(),r=function(){function r(){this.pullUsersData=o(this.pullUsersData,this),this.messageCreated=o(this.messageCreated,this),this.channelSubscriptionSucceeded=o(this.channelSubscriptionSucceeded,this),this.pusherConnected=o(this.pusherConnected,this),this.addMember=o(this.addMember,this),this.updateMemberCount=o(this.updateMemberCount,this),this.isUpdating=!1,this.members=[],this.messages=[],this.connect(),this.bindPusherEvents(),this.bindUndisclosedChatToggle(),this.bindChatMessageSubmit(),this.getPage(1),this.bindInfiniteScroll(),this.initSwiftype(),this.newMessageNotificationCount=0,this.newMessageCount=0,this.detectTabActive(),$("html").is(".chat_messages.index")&&setInterval(function(){app.isUpdating||app.pullUsersData()},6e4)}return r.prototype.initSwiftype=function(){return this.swiftype=new n},r.prototype.getPage=function(e){var n,i,r;return this.nextPage=e+1,n=$(".chat-history"),i=n[0].scrollHeight,r=n.scrollTop(),$.get("/chat",{page:e,format:"json"}).done(function(o){return function(s){return s.forEach(function(e){return o.messages.push(new t(e,!0))}),1===e?n.scrollTop(n[0].scrollHeight):n.scrollTop(r+n[0].scrollHeight-i)}}(this))},r.prototype.whoAmI=function(){return this.members.filter(function(e){return function(t){return t.id===e.myID}}(this))[0]},r.prototype.bindChatMessageSubmit=function(){return $("form#new_chat_message").on("ajax:beforeSend",function(e){return function(n,r,o){var s,a,l,u;return s=$("#chat_message_content").val(),""===s||" "===s?!1:(u=Math.random().toString(36).substr(2,5),r.setRequestHeader("X-Unique-Message-ID",u),l=new Date,a={content:i(s),created_at:l.toISOString(),id:u,user:{full_name:e.whoAmI().full_name},submitted_by_user:!0},e.messages.push(new t(a)),$("#chat_message_content").val(""))}}(this)),$("#chat_message_content").bind("keydown",function(e){return 13===e.keyCode?(e.preventDefault(),$("form#new_chat_message").submit()):void 0}),$(".submit-chat-message").click(function(){return $("form#new_chat_message").submit()})},r.prototype.connect=function(){return this.pusher=new Pusher("b44bd525f20602484fd5",{authEndpoint:"/pusher/auth"}),this.channel=this.pusher.subscribe("presence-chat")},r.prototype.disconnect=function(){return this.pusher.disconnect()},r.prototype.reconnect=function(){return this.disconnect(),this.members=[],this.connect(),this.bindPusherEvents()},r.prototype.bindPusherEvents=function(){return this.pusher.connection.bind("connected",this.pusherConnected),this.channel.bind("pusher:subscription_succeeded",this.channelSubscriptionSucceeded),this.channel.bind("message_created",this.messageCreated)},r.prototype.updateMemberCount=function(){var e,t,n,i;return e=this.countAdmins(),i=this.countUsers(),n=1===i?"Member":"Members",t=1===e?"Admin":"Admins",$(".chat-title h3").html(i+" "+n+" | "+e+" "+t+" Online")},r.prototype.countAdmins=function(){return this.members.filter(function(e){return e.ipvm_admin}).length},r.prototype.countUsers=function(){return this.members.filter(function(e){return!e.ipvm_admin}).length},r.prototype.updatePageTitle=function(){return document.title="("+this.newMessageCount+") IPVM Chat"},r.prototype.resetPageTitle=function(){return document.title="IPVM Chat"},r.prototype.resetNewMessageCount=function(){return this.newMessageCount=0},r.prototype.detectTabActive=function(){return document.body.className="focus",$(window).on("blur focus",function(e){var t;if(t=$(this).data("prevType"),t!==e.type)switch(e.type){case"blur":document.body.className="blurred";break;case"focus":document.body.className="focus",app.resetPageTitle(),app.resetNewMessageCount()}$(this).data("prevType",e.type)})},r.prototype.addMember=function(t){return this.members.push(new e(t)),this.updateMemberCount()},r.prototype.pusherConnected=function(){return this.socket_id=this.pusher.connection.socket_id,$("#socket_id").val(this.socket_id)},r.prototype.channelSubscriptionSucceeded=function(e){return $("#admins, #users").empty(),this.myID=e.myID,e.each(this.addMember)},r.prototype.messageCreated=function(e){var n;return n=this.messages.filter(function(t){return function(t){return t.id===e.unique_message_id}}(this))[0],n?n.replace(e):this.messages.push(new t(e))},r.prototype.pullUsersData=function(){return app.isUpdating=!0,app.members=[],$("#admins, #users").empty(),$.get("chat/cached_online_user_names").done(function(t){return t.forEach(function(t){return app.members.push(new e(t))}),app.updateMemberCount(),app.isUpdating=!1})},r.prototype.bindUndisclosedChatToggle=function(){return $("#user_chat_as_undisclosed").change(function(e){return function(t){var n;return n=$(t.target),$.post("/chat/toggle_undisclosed_state",{undisclosed_state:n.prop("checked")}).done(e.reconnect())}}(this))},r.prototype.bindInfiniteScroll=function(){return $(".chat-history").scroll(function(e){return function(){return window.totalPageCount>1&&$(".chat-history").scrollTop()<100&&e.nextPage<=window.totalPageCount&&e.delay(function(){return e.getPage(e.nextPage)},500),$(".chat-history").isScrolledToBottom()?($(".notification").hasClass("hide-down")&&$(".notification").removeClass("hide-down"),app.newMessageNotificationCount=0):void 0}}(this))},r.prototype.delay=function(){var e;return e=0,function(t,n){return clearTimeout(e),e=setTimeout(t,n)}}(),r}(),i=function(e){var t;return t=document.createElement("div"),t.innerText=e,t.innerHTML},$.fn.extend({isLastMessageVisible:function(){return $(this)[0].scrollHeight-$(this).scrollTop()<$(this).height()+45},isScrolledToBottom:function(){return $(this)[0].scrollHeight<$(this).scrollTop()+$(this).height()+45}}),window.ipvmChat=r,window.ipvmChatMember=e,Date.prototype.toISOString||!function(){var e;e=function(e){var t;return t=String(e),1===t.length&&(t="0"+t),t},Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}()}.call(this),function(){$(function(){var e;return $("html").is($("html").not(".course"))?(e=function(e){return $.post("/chat/render_app_state",{state:"ready"},function(){return $(".ru-login .request-undisclosed .deny").html('<i class="fas fa-sync fa-spin"></i>')}).done(function(){return e})},$(".login form input#password").bind("keyup",function(e){return 13===e.keyCode?$(".login form .faux-submit").click():void 0}),$(".login form .faux-submit").click(function(){var e;return e=window.location.host.match(".dev")?"http://":"https://",$.ajax({type:"POST",url:""+e+window.location.host+"/login.json",data:{user:{login:$(".login form input#email").val(),password:$(".login form input#password").val()}},dataType:"json",xhrFields:{withCredentials:!0}}).success(function(e){return e.active||(window.location.href=window.location.href),$(".request-undisclosed h2").text(e.first_name+", show your name?"),$(".ru-login .login").toggleClass("hide-left"),$(".ru-login .request-undisclosed").toggleClass("hide-right")}).fail(function(){return humane.error("Login failed. Please try again.")})}),window.get_online_user_names=function(){return $.get("chat/online_user_names").done(function(e){return e.forEach(function(e){return new ipvmChatMember(e)})})},$(".ru-login .request-undisclosed .confirm").click(function(){return $.post("/chat/toggle_undisclosed_state",{undisclosed_state:!0},function(){return $(".ru-login .request-undisclosed .confirm").html('<i class="fas fa-sync fa-spin"></i>')}).success(function(){return e()}).fail(function(){return humane.error("Something went wrong. Please try again.")})}),$(".ru-login .request-undisclosed .deny").click(function(){return e(function(){return $.cookie("request_undisclosed","false")}())})):void 0})}.call(this),function(){var e,t,n,i,r,o=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(){this.customOnCompleteSelected=o(this.customOnCompleteSelected,this),this.el=$('<input id="chat-swiftype-autocomplete" placeholder="Search..." size="30" type="text">'),this.el.swiftype({onComplete:this.customOnCompleteSelected,dropdownStylesFunction:this.customDropdownStylesFunction}),this.container=$(".chat-wrapper"),this.container.append(this.el),$(window).keydown(function(e){return function(t){return(t.metaKey||t.ctrlKey)&&75===t.keyCode?(t.preventDefault(),e.el.is(":visible")?e.hide():e.show()):27===t.keyCode?e.hide():void 0}}(this))}return e.prototype.show=function(){return this.currentCursorPosition=this.getCursorPosition($("#chat_message_content")),this.el.show(),this.el.focus(),this.el.css("top",this.container.height()/2-this.el.height()-75),this.el.css("left",this.container.width()/2-this.el.width()/2)},e.prototype.hide=function(){return this.el.hide(),$("#chat_message_content").focus()},e.prototype.customOnCompleteSelected=function(e,t){var n,i,r;return n=$("#chat_message_content"),i=n.val(),r=e.title+" - "+e.url,n.val([i.slice(0,this.currentCursorPosition),r,i.slice(this.currentCursorPosition)].join("")),this.hide()},e.prototype.customDropdownStylesFunction=function(e){var t,n,i,r;return n=e.data("swiftype-config-autocomplete"),t=n.attachTo?$(n.attachTo):e,i=t.offset(),r={position:"absolute","z-index":70001,top:i.top+t.outerHeight(),left:i.left,width:300}},e.prototype.getCursorPosition=function(e){var t,n;return e=e.get(0),"selectionStart"in e?e.selectionStart:document.selection?(e.focus(),t=document.selection.createRange(),n=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),t.text.length-n):0},e}(),t=function(){function e(e,t){var n;this.id=e.id,this.content=e.content,this.created_at=e.created_at,this.undisclosed=e.undisclosed,this.submitted_by_user=e.submitted_by_user,n=e.user,this.full_name=n.full_name,this.undisclosed_chat_name=n.undisclosed_chat_name,this.is_admin=n.is_admin,this.prepend=t,this.full_name=e.user.full_name,this.el||(this.insert(),this.el.find("abbr.message_time").timeago())}var t;return e.prototype.incrementMessageCount=function(){return app.newMessageCount=app.newMessageCount+1},e.prototype.insert=function(){var e;return e=$(".chat-history"),"IPVM Team"===this.full_name?this.el=$(this.buildNoticeHTML()):this.el=$(this.buildMessageHTML()),this.prepend?e.find(".end-of-chat-message").after(this.el):(this.trackNewMessages(),e.append(this.el),(this.submitted_by_user||0===app.newMessageNotificationCount)&&e.scrollTop(e[0].scrollHeight),"blurred"===$("body").attr("class")?(this.incrementMessageCount(),app.updatePageTitle()):void 0)},e.prototype.replace=function(e){var t;return this.full_name=void 0,this.constructor(e),this.el.replaceWith(t=$(this.buildMessageHTML())),this.el=t,this.el.find("abbr.message_time").timeago()},t={defaultProtocol:"https",attributes:{rel:"noreferrer noopener"}},e.prototype.buildMessageHTML=function(e){return"<div class='message-container' data-message-id="+this.id+"> <span class='message_name'>"+this.buildNameHTML()+"</span> <abbr class='message_time' style='font-size:60%' title="+this.created_at+"></abbr> <div class='message_content'> "+linkifyHtml(this.content,t)+" </div> </div>"},e.prototype.buildNoticeHTML=function(e){return"<div class='message-container' data-message-id="+this.id+"> <div style='color:red' class='message_content'> "+this.content+" </div> </div>"},e.prototype.buildNameHTML=function(){return this.undisclosed?window.isAdmin?this.buildAdminNameHTML(""+this.undisclosed_chat_name):this.undisclosed_chat_name:this.is_admin?window.isAdmin?this.buildAdminNameHTML(this.full_name+", IPVM"):this.full_name+", IPVM":window.isAdmin?this.buildAdminNameHTML(this.full_name):this.full_name},e.prototype.buildAdminNameHTML=function(e){return"<a href='https://ipvm.com/admin/messages/direct_message_authorization?message_id="+this.id+"&course=true' target='_blank'> "+e+" </a>"},e.prototype.trackNewMessages=function(){return $(".chat-history").isScrolledToBottom()?app.newMessageNotificationCount=0:($(".chat-history").isLastMessageVisible()||(app.newMessageNotificationCount+=1),$(".notification").hasClass("hide-down")||$(".notification").toggleClass("hide-down"),$(".notification span").text(app.newMessageNotificationCount))},e}(),e=function(){function e(e){var t;this.memberData=e,this.id=e.id,t=e.info,this.full_name=t.full_name,this.ipvm_admin=t.ipvm_admin,this.addToSidebar()}return e.prototype.buildSideBarHtml=function(){var e;return e="<div data-user-hash="+this.id+" class='member'>"+this.full_name,this.ipvm_admin&&(e+=" (Admin)"),e+="</div>"},e.prototype.addToSidebar=function(){return this.ipvm_admin?$("aside #admins").prepend(this.buildSideBarHtml()):this.full_name.match(/Undisclosed/)?$("aside #users").append(this.buildSideBarHtml()):$("aside #users").prepend(this.buildSideBarHtml())},e}(),r=function(){function r(){this.pullUsersData=o(this.pullUsersData,this),this.messageCreated=o(this.messageCreated,this),this.channelSubscriptionSucceeded=o(this.channelSubscriptionSucceeded,this),this.pusherConnected=o(this.pusherConnected,this),this.addMember=o(this.addMember,this),this.updateMemberCount=o(this.updateMemberCount,this),this.isUpdating=!1,this.members=[],this.memberMappings={},this.messages=[],this.connect(),this.bindPusherEvents(),this.bindUndisclosedChatToggle(),this.bindChatMessageSubmit(),this.getPage(1),this.bindInfiniteScroll(),this.initSwiftype(),this.newMessageNotificationCount=0,this.newMessageCount=0,this.detectTabActive(),$("html").is(".course.chat_messages.index")&&setInterval(function(){app.isUpdating||app.pullUsersData()},6e4)}return r.prototype.initSwiftype=function(){return this.swiftype=new n},r.prototype.getPage=function(e){var n,i,r;return this.nextPage=e+1,n=$(".chat-history"),i=n[0].scrollHeight,r=n.scrollTop(),$.get("/course/"+window.course_slug+"/chat",{page:e,format:"json"}).done(function(o){return function(s){return s.forEach(function(e){return o.messages.push(new t(e,!0))}),1===e?n.scrollTop(n[0].scrollHeight):n.scrollTop(r+n[0].scrollHeight-i)}}(this))},r.prototype.whoAmI=function(){return this.members.filter(function(e){return function(t){return t.id===e.myID}}(this))[0]},r.prototype.bindChatMessageSubmit=function(){return $("form#new_chat_message").on("ajax:beforeSend",function(e){return function(n,r,o){var s,a,l,u;return s=$("#chat_message_content").val(),""===s||" "===s?!1:(u=Math.random().toString(36).substr(2,5),r.setRequestHeader("X-Unique-Message-ID",u),l=new Date,a={content:i(s),created_at:l.toISOString(),id:u,user:{full_name:e.whoAmI().full_name},submitted_by_user:!0},e.messages.push(new t(a)),$("#chat_message_content").val(""))}}(this)),$("#chat_message_content").bind("keydown",function(e){return 13===e.keyCode?(e.preventDefault(),$("form#new_chat_message").submit()):void 0}),$(".submit-chat-message").click(function(){return $("form#new_chat_message").submit()})},r.prototype.connect=function(){return this.pusher=new Pusher("b44bd525f20602484fd5",{authEndpoint:"/pusher/auth"}),this.channel=this.pusher.subscribe("presence-"+window.course_slug+"-chat")},r.prototype.disconnect=function(){return this.pusher.disconnect()},r.prototype.reconnect=function(){return this.disconnect(),this.members=[],this.connect(),this.bindPusherEvents()},r.prototype.bindPusherEvents=function(){return this.pusher.connection.bind("connected",this.pusherConnected),this.channel.bind("pusher:subscription_succeeded",this.channelSubscriptionSucceeded),this.channel.bind("message_created",this.messageCreated)},r.prototype.updateMemberCount=function(){var e,t,n,i;return e=this.countAdmins(),i=this.countUsers(),n=1===i?"Member":"Members",t=1===e?"Admin":"Admins",$(".chat-title h3").html(i+" "+n+" | "+e+" "+t+" Online")},r.prototype.countAdmins=function(){return this.members.filter(function(e){return e.ipvm_admin}).length},r.prototype.countUsers=function(){return this.members.filter(function(e){return!e.ipvm_admin}).length},r.prototype.updatePageTitle=function(){return document.title="("+this.newMessageCount+") "+window.page_title},r.prototype.resetPageTitle=function(){return document.title=window.page_title},r.prototype.resetNewMessageCount=function(){return this.newMessageCount=0},r.prototype.detectTabActive=function(){return document.body.className="focus",$(window).on("blur focus",function(e){var t;if(t=$(this).data("prevType"),t!==e.type)switch(e.type){case"blur":document.body.className="blurred";break;case"focus":document.body.className="focus",app.resetPageTitle(),app.resetNewMessageCount()}$(this).data("prevType",e.type)})},r.prototype.addMember=function(t){return this.members.push(new e(t)),this.updateMemberCount()},r.prototype.pusherConnected=function(){return this.socket_id=this.pusher.connection.socket_id,$("#socket_id").val(this.socket_id)},r.prototype.channelSubscriptionSucceeded=function(e){return $("#admins, #users").empty(),this.myID=e.myID,e.each(this.addMember)},r.prototype.messageCreated=function(e){var n;return n=this.messages.filter(function(t){return function(t){return t.id===e.unique_message_id}}(this))[0],n?n.replace(e):this.messages.push(new t(e))},r.prototype.pullUsersData=function(){return app.isUpdating=!0,app.members=[],$("#admins, #users").empty(),$.get("/course/"+window.course_slug+"/chat/cached_online_user_names").done(function(t){return t.forEach(function(t){return app.members.push(new e(t))}),app.updateMemberCount(),app.isUpdating=!1})},r.prototype.bindUndisclosedChatToggle=function(){return $("#user_chat_as_undisclosed").change(function(e){return function(t){var n;return n=$(t.target),$.post("/chat/toggle_undisclosed_state",{undisclosed_state:n.prop("checked")}).done(e.reconnect())}}(this))},r.prototype.bindInfiniteScroll=function(){return $(".chat-history").scroll(function(e){return function(){return window.totalPageCount>1&&$(".chat-history").scrollTop()<100&&e.nextPage<=window.totalPageCount&&e.delay(function(){return e.getPage(e.nextPage)},500),$(".chat-history").isScrolledToBottom()?($(".notification").hasClass("hide-down")&&$(".notification").removeClass("hide-down"),app.newMessageNotificationCount=0):void 0}}(this))},r.prototype.delay=function(){var e;return e=0,function(t,n){return clearTimeout(e),e=setTimeout(t,n)}}(),r}(),i=function(e){var t;return t=document.createElement("div"),t.innerText=e,t.innerHTML},$.fn.extend({isLastMessageVisible:function(){return $(this)[0].scrollHeight-$(this).scrollTop()<$(this).height()+45},isScrolledToBottom:function(){return $(this)[0].scrollHeight<$(this).scrollTop()+$(this).height()+45}}),window.ipvmCourseChat=r,window.ipvmCourseMember=e,Date.prototype.toISOString||!function(){var e;e=function(e){var t;return t=String(e),1===t.length&&(t="0"+t),t},Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}()}.call(this),function(){$(function(){var e;return $("html").is(".course.chat_messages.index")?(e=function(e){return $.post("/course/"+window.course_slug+"/chat/render_app_state",{state:"ready"},function(){return $(".ru-login .request-undisclosed .deny").html('<i class="fas fa-sync fa-spin"></i>')}).done(function(){return e})},$(".login form input#password").bind("keyup",function(e){return 13===e.keyCode?$(".login form .faux-submit").click():void 0}),$(".login form .faux-submit").click(function(){var e;return e=window.location.host.match(".dev")?"http://":"https://",$.ajax({type:"POST",url:""+e+window.location.host+"/login.json",data:{user:{login:$(".login form input#email").val(),password:$(".login form input#password").val()}},dataType:"json",xhrFields:{withCredentials:!0}}).success(function(e){return e.active||(window.location.href=window.location.href),$(".request-undisclosed h2").text(e.first_name+", show your name?"),$(".ru-login .login").toggleClass("hide-left"),$(".ru-login .request-undisclosed").toggleClass("hide-right")}).fail(function(){return humane.error("Login failed. Please try again.")})}),window.get_online_user_names=function(){return $.get("/course/"+window.course_slug+"/chat/online_user_names").done(function(e){return e.forEach(function(e){return new ipvmCourseMember(e)})})},$(".ru-login .request-undisclosed .confirm").click(function(){return $.post("/chat/toggle_undisclosed_state",{undisclosed_state:!0},function(){return $(".ru-login .request-undisclosed .confirm").html('<i class="fas fa-sync fa-spin"></i>')}).success(function(){return e()}).fail(function(){return humane.error("Something went wrong. Please try again.")})}),$(".ru-login .request-undisclosed .deny").click(function(){return e(function(){return $.cookie("request_undisclosed","false")}())})):void 0})}.call(this),function(){$(function(){return $(".chat_prompt_container i").click(function(){return $(".chat_prompt_container").toggle(),$.cookie("hide_chat_prompt","true",{expires:7})})})}.call(this),function(){$(function(){return $(".st-search-input").swiftype({}),$(".swiftype-widget .autocomplete").append('<li><p class="all">Press return for all results</p></li>'),$("html").is(".search.index")?$("#main_search_form input[type=radio], #main_search_form select").change(function(e){return $(this).parents("form").submit()}):void 0})}.call(this),function(){$(function(){var e,t,n,i;return $("html").is(".members.calendar")?($("html").is(".members.calendar")&&(n=function(e){e.preventDefault()},Array.from(document.getElementsByClassName("non_scrollable")).forEach(function(e){e.addEventListener("touchmove",n,{passive:!1})}),window.addEventListener("touchmove",function(){}),t=dragula({isContainer:function(e){return e.classList.contains("date")&&"notmonth"!==$(e).parent().parent().attr("class")},revertOnSpill:!0}),t.on("drop",function(e,t,n,i){var r,o;return o=$(e).attr("data-posturl"),r=o+"?target_date="+$(t).attr("data-date"),$.ajax({type:"POST",url:r,beforeSend:function(){$("span.loading").show()},complete:function(t){var i;$("span.loading").hide(),i=JSON.parse(t.responseText),i.success||($(n).append($(e)),alert(i.text))}})})),i=function(e){return e.is(":checked")?$("."+e.attr("name")).css("display",""):$("."+e.attr("name")).css("display","none"),!0},e=["reports","personal_days","courses","holidays","issues"],e.forEach(function(e){return $("#show_"+e).on("change",function(t){return i($("#show_"+e))}),i($("#show_"+e))})):void 0})}.call(this),function(){$(function(){var e,t,n,i,r;return($("html").is(".reports.show")||$("html").is(".topics.show")||$("html").is(".issues.show")||$("html").is(".forums.show")||$("html").is(".topics.create")||$("html").is(".issues.new"))&&(t=new URL(window.location.href).searchParams.get("from_email"),$("html").is(".current_user")&&($("html").is(".reports.show")||$("html").is(".topics.show")||$("html").is(".issues.show"))&&$(document).ready(function(){return t&&($(window.location.hash).find(".reply_link").last().hide(),$(window.location.hash).find(".post-footer").append("<p><i class='fas fa-sync fa-spin'></i></p>"),$(window.location.hash).find(".reply_link").last().click()),$.ajax({type:"GET",url:"/forums/forums/"+window.cachingHelperPayload.forum_id+"/topics/"+window.cachingHelperPayload.topic_id+"/get_username_and_ui_components_payload",complete:function(e){var t,n,i,r,o,s,a;s=JSON.parse(e.responseText),r=s.get_username_payload;for(n in r)t=r[n],$(".post-info[data-post-id="+n+"]").find(".dynamic_author").html(t);o=s.get_ui_components_to_show;for(a in o)i=o[a],i.forEach(function(e){return $(".post-info[data-post-id="+e+"]").find(".hidden."+a).removeClass("hidden")})}})}),window.onbeforeunload=function(e){return tinyMCE.editors.forEach(function(e){if(e.getContent().replace(/<p><\/p>|<p><br><\/p>|<p><br \/><\/p>|<p>\&nbsp\;<\/p>/g,"").length>15){if("post_editor"===e.id)return localStorage.setItem(window.location.pathname+"/new-post-top",e.getContent());if("post_editor_bottom_form"===e.id)return localStorage.setItem(window.location.pathname+"/new-post-bottom",e.getContent());if("post_editor_inline_reply"===e.id)return localStorage.setItem(window.location.pathname+"/reply/"+$("#post_editor_inline_reply").parents(".post").data("post-id"),e.getContent())}})},(e=$(window.location.hash))&&e.length>0&&(r=getQueryVariable("vote_category"),i=getQueryVariable("post_id"),r&&i&&$("#post_"+i+" div.vote [data-category="+r+"]").click()),n=!1,window.tinyMCEOnInit=function(e){var i,r,o,s,a,l,u,c;return!n&&t&&"post_editor_inline_reply"===e.id&&($(window.location.hash).find(".fa-spin").hide(),e.focus(),n=!0),"post_editor_bottom_form"===e.id&&(u=$("#inline-reply-bottom").css("display"),$("#inline-reply-bottom").show()),i=$(e.editorContainer).find(".mce-edit-area"),r=$(e.editorContainer).find(".mce-top-part"),s=!0,"post_editor_bottom_form"===e.id&&$("#inline-reply-bottom").css("display",u),a=function(){var t,n,o;return t=$(e.editorContainer),void 0===t.offset()&&(s=!1),s?(o=$(document).scrollTop(),n=t.offset().top+t.outerHeight(!0)-r.outerHeight(!0),o>t.offset().top&&n>o?(i.css("padding-top",r.outerHeight(!0)),r.addClass("sticky"),r.width(t.width())):(r.removeClass("sticky"),r.css({top:"",width:"auto"}),i.css("padding-top",""))):void 0},$(window).scroll(a),$(window).resize(a),$("html").is(".issues.new")&&(l=[].slice.call(document.getElementById("issue_description_ifr").contentWindow.document.querySelectorAll("img.lazy")),l.forEach(function(e){e.src=e.dataset.src,e.classList.remove("lazy")})),"post_editor"===e.id?(c=localStorage.getItem(window.location.pathname+"/new-post-top"),c&&(e.setContent(c),window.scrollTo({top:$("#inline-reply-top").offset().top-200,behavior:"smooth"}),localStorage.removeItem(window.location.pathname+"/new-post-top"))):"post_editor_bottom_form"===e.id&&(c=localStorage.getItem(window.location.pathname+"/new-post-bottom"),c&&(e.setContent(c),o=$("#inline-reply-bottom").offset().top,0===o&&(o=$("#inline-reply-bottom").show().offset().top,$("#inline-reply-bottom").hide()),window.scrollTo({top:o-100,behavior:"smooth"}),localStorage.removeItem(window.location.pathname+"/new-post-bottom"))),e.on("PastePreProcess",function(e){return paste_preprocess_content(e.content)?e.content=paste_preprocess_content(e.content):!1}),e.on("paste",function(t){return process_paste(e,t)})}),$("form.new_post").submit(function(e){""!==tinyMCE.activeEditor.getContent()&&(window.not_update_page_title=!0)}),$("form.new_post[id!=new_reply]").submit(function(e){return e.preventDefault,""===tinyMCE.activeEditor.getContent()?(humane.error("Please enter post content before submitting"),!1):"inline-reply-top"===$(this).parent().attr("id")?window.scroll_to_new_post=!0:void 0}),$("form.new_post[id!=new_reply]").on("ajax:beforeSend",function(e,t){return $(this).find('input[type="submit"]').attr("disabled",!0),$(this).find('input[type="submit"]').after("<div class='spinner'><p style='text-align:left;margin:20px;'><img alt='Preload' style='vertical-align:-3px;' src='https://drafe9icih5i1.cloudfront.net/assets/loading-086b161aedd221e0a3fd1889023135b9223664f5cc6491c8649073618c6da37a.gif'> Loading...</p></div>"),$(this).find('button[type="submit"]').attr("disabled",!0)}),$("form.new_post[id!=new_reply]").on("ajax:complete",function(e,t){return $(this).find('button[type="submit"]').attr("disabled",!1),200!==t.status?($(".spinner").remove(),$(this).find('input[type="submit"]').attr("disabled",!1),humane.error(t.responseText),window.scroll_to_new_post=!1):void 0}),$("#new_topic").submit(function(e){return e.preventDefault,""===tinyMCE.activeEditor.getContent()?(humane.error("Please enter post content before submitting"),!1):void $('#new_topic input[type="submit"]').attr("disabled",!0)}),$("span.post_author").click(function(){return $(this).find("span").toggle()}),!$("html").is(".topics.show")&&!$("html").is(".issues.show")||(window.setUsernamesAndShowComponents(cachingHelperPayload),$("html").is(".current_user"))?void 0:$(".post .post-footer").each(function(){return $(this).addClass("hidden")})})}.call(this),$(document).ready(function(){$("#account_firstname").keyup(function(){$("#creditcard_first_name").val($("#account_firstname").val())}),$("#account_lastname").keyup(function(){$("#creditcard_last_name").val($("#account_lastname").val())})}),function(){$(function(){return $(".pagination").length&&$("#posts").length&&($(window).scroll(function(){var e;e=$(".pagination .next a").attr("href"),e&&$(window).height()+$(window).scrollTop()>$(".pagination").position().top&&($(".pagination").html("<p style='text-align:center;'><img alt='Preload' style='vertical-align:-3px;' src='https://drafe9icih5i1.cloudfront.net/assets/loading-086b161aedd221e0a3fd1889023135b9223664f5cc6491c8649073618c6da37a.gif'> Loading more posts...</p>"),$.getScript(e).done(function(){return window.matchMedia("(min-width: 1200px)").matches?dragndrop():void 0}))}),$(window).scroll()),$("html").is(".topics.show.data-admin, .reports.show.data-admin, .issues.show.data-admin")&&(window.dragndrop=function(){$(".post").draggable({cancel:".contents",cursor:"move",revert:function(e,t){return $(".post").height("auto"),!e}}),$(".post").droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",drop:function(e,t){var n,i,r;return n=$(t.draggable),i=$(this),r=n.data("make-child-post-path")+".js?target="+i.data("post-id"),$.get(r).done(function(e){var i;e.success?(i=$(".nested_messages[data-parent-post-id='"+n.data("post-id")+"']"),$(t.draggable).attr("style","position: relative;").appendTo(i)):(alert(e.text),$(t.draggable).animate({top:0,left:0},"slow"))})}})},window.matchMedia("(min-width: 1200px)").matches&&dragndrop()),$("html").is(".topics.show, .reports.show")?($(window).load(function(){return $("#inline-reply-top").waypoint(function(){return $("#inline-reply-bottom").toggle()},{offset:function(){return-$(this).height()}})}),$(".dropdown-item.create-topic").click(function(e){var t,n;return e.preventDefault,n=$(this).attr("id"),t=$(".create-new-topic-form#"+n+" .modal"),t.modal("show"),t.find("button.okay").click(function(){return t.find("form.create-topic").submit()})})):void 0})}.call(this),function(){$(function(){var e,t,n;return $("html").is(".polls.new")&&(t=function(){return $("table").find(":input").each(function(e){return $(this).attr("name","option["+e+"][text]")})},$("table").on("click focus",".item.inactive",function(e){return $(this).clone().appendTo("table tbody"),$(this).removeClass("inactive"),t()}).on("click",".fa-close",function(e){return $(this).closest("tr").remove(),t()}),$("button").on("click",function(e){return $(".item.inactive").click().find("input:first").focus()})),$("html").is(".polls.index")&&($(".edit_poll_question select").change(function(e){return $(this).parent().submit()}),e=$("table").DataTable({order:[[3,"desc"]],aoColumnDefs:[{bSortable:!1,aTargets:[0,6,7]}],pageLength:20,lengthMenu:[10,20,50,100]}),$("#index tbody").on("click","td.details-control",function(){var t,n;return n=$(this).closest("tr"),t=e.row(n),t.child.isShown()?($(this).children().removeClass("fa-plus-circle").addClass("fa-minus-circle"),t.child("<div id='simple-results-container-"+n.attr("poll_id")+"'><p>Loading Poll Results</p></div><div id='detailed-results-container-"+n.attr("poll_id")+"'></div>"),$.get("/polls/"+n.attr("poll_id")+"/render_summary")):$(this).children().removeClass("fa-minus-circle").addClass("fa-plus-circle")})),$("html").is(".polls.show")&&($(".edit_poll_question select").change(function(e){
return $(this).closest("form").submit()}),$('input[type="radio"]').click(function(e){return $("#submit_poll").attr("disabled",!1)}),$(".edit_poll").click(function(e){return e.preventDefault(),$(".edit_control").fadeToggle("fast")}),$("#login").click(function(e){var t,n;return e.preventDefault,n=$(this).attr("href"),t=document.createElement("a"),t.click?(t.setAttribute("href",n),t.style.display="none",window.top.document.body.appendChild(t),t.click(),!1):void(window.location=n)})),$("iframe.poll").iframeAutoHeight({minHeight:100}),$("html").is(".polls.results")&&((2===chart_type||5===chart_type)&&(window.detailed_chart=new Highcharts.Chart({chart:{renderTo:"detailed-container",type:"bar"},credits:{enabled:!1},title:{text:poll_title},xAxis:{categories:["End User","Integrator","Distributor","Manufacturer","Consultant","Other"],labels:{formatter:function(){var e,t,n;return n=window[this.value.replace(/\s+/g,"")+"_total"],t=n/total*100,e=Highcharts.numberFormat(t,0,",")+"%",this.value+"s<br />"+e+" of total vote"}}},yAxis:{title:{enabled:!0,text:details},labels:{enabled:!1,formatter:function(){var e;return e=this.value/total*100,Highcharts.numberFormat(e,0,",")+"%"}}},legend:{reversed:!0,align:"center",backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColorSolid||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{formatter:function(){var e,t;return t=window[this.key.replace(/\s+/g,"")+"_total"],e=this.y/t*100,"<b>"+this.x+"</b><br/>"+this.series.name+": "+Highcharts.numberFormat(e,0,",")+"%"}},plotOptions:{bar:{groupPadding:.1,dataLabels:{enabled:!0,align:"right",y:-2,color:"white",style:{fontWeight:"normal",textShadow:!1},formatter:function(){var e,t,n,i,r;return r=window[this.key.replace(/\s+/g,"")+"_total"],i=this.y/r*100,n=Highcharts.numberFormat(i,0,",")+"%",t=this.series.name.length>10?this.series.name.substr(0,10):this.series.name,e=t+" "+n}}}},series:response_data})),1===chart_type||5===chart_type)?n=new Highcharts.Chart({chart:{renderTo:"simple-container",type:"bar"},credits:{enabled:!1},title:{text:poll_title},xAxis:{categories:options},yAxis:{title:{enabled:!0,text:details},labels:{formatter:function(){var e;return e=this.value/total*100,Highcharts.numberFormat(e,0,",")+"%"}}},legend:{enabled:!1},tooltip:{enabled:!1},plotOptions:{series:{color:"#5272C1",dataLabels:{enabled:!0,align:"right",x:-10,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white",style:{fontWeight:"normal",textShadow:!1},formatter:function(){var e;return e=this.point.y/total*100,Highcharts.numberFormat(e,0,",")+"%"}}}},series:[{name:"All results",data:results_all}]}):void 0})}.call(this),function(){$(function(){var e,t,n,i,r,o,s,a,l,u,c,d,f,h;return $("html").is(".cameras.details")&&$("form.compare select").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"250px;",placeholder_text_single:"-Any-"}).on("change",function(e,t){return $("form.compare").submit()}),$("html").is(".cameras.compare")&&($(document).ready(function(){return $('select[id^="camera_compare_dropdown"]').prop("disabled",!0).trigger("chosen:updated"),e($('select[id^="manufacturer_compare_dropdown"]').last()),t($('select[id^="manufacturer_compare_dropdown"]'))}),a=function(e){var t,n;return t=e%10,n=e%100,1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"},u=function(n){return $(".compare_group").removeClass("even").removeClass("odd"),$(".compare_group").each(function(e){var t;return t=a(e+1),e%2!==0&&$(this).addClass("odd"),$(this).find(".label_query").html(t+" Camera"),$(this).find(".desc").html("Choose "+t+" camera to compare")}),n&&n.length?(t(e(r($(n.first())))),r($(n.last()))):void 0},n=function(e,t){var n;return""===t&&$(".compare_group").length>2&&$(e).attr("row_index")!==$("select.compare_dropdown").first().attr("row_index")&&($(e).closest(".compare_group").chosen("destroy").remove(),u()),""!==t&&$(e).attr("row_index")===$("select.compare_dropdown").last().attr("row_index")&&(n=o(Number($(".compare_dropdown").last().attr("row_index"))+1).insertAfter($(".compare_group").last()),u(n.find(".compare_dropdown"))),$(".compare_group").length>2&&$(e).attr("row_index")!==$("select.compare_dropdown").first().attr("row_index")?$(e).find("option").first().text("Remove Option").trigger("chosen:updated"):void 0},o=function(e){var t,n,i,r,o,s,a;return i=$("<div/>",{"class":"row compare_group"}),o=$("<div/>",{"class":"col-sm-12 col-md-2 label_query",text:"1st Camera",style:"text-align:center"}),s=$("<div/>",{"class":"compare-dropdown-container col-sm-12 col-md-5 col-lg-4"}),t=$("<div/>",{"class":"compare-dropdown-container col-sm-12 col-md-5 col-lg-3"}),a=$("<select/>",{"class":"compare_dropdown",name:"manufacturers["+e+"]",id:"manufacturer_compare_dropdown_"+e,row_index:e}).append($('select[id^="manufacturer_compare_dropdown"]').first().children().clone()),n=$("<select/>",{"class":"compare_dropdown",name:"cameras["+e+"]",id:"camera_compare_dropdown_"+e,row_index:e,"data-placeholder":"Select Camera",disabled:!0}).append($("<option/>",{text:"Select Camera"})),r=$("<div/>",{"class":"col-lg-3 hidden-md-down desc",text:"Choose 1st camera to compare"}),i.append(o).append(s.append(a)).append(t.append(n)).append(r)},r=function(e){return e.chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"100%"})},e=function(e){return e.on("change",function(e,t){return n(e.target,t.selected)})},t=function(e){return e.change(function(){var e;return e=$(this),e.val()?($("select#camera_compare_dropdown_"+e.attr("row_index")).prop("disabled",!1).trigger("chosen:updated"),$.ajax({type:"GET",url:"/cameras/populate_cameras/"+encodeURIComponent(e.val()),dataType:"json",success:function(t){var n;return n=[],t.forEach(function(e){return n.push($("<option></option>").attr("value",e.id).text(""+e.model))}),$("select#camera_compare_dropdown_"+e.attr("row_index")).empty().append(n).trigger("chosen:updated").trigger("chosen:open")}})):($("select#camera_compare_dropdown_"+e.attr("row_index")).prop("disabled",!0),$("select#camera_compare_dropdown_"+e.attr("row_index")).empty().trigger("chosen:updated"))})},$("select.compare_dropdown").each(function(e){return r($(this))})),$("html").is(".cameras.search")&&(s=$("#camera_results").dataTable({iDisplayLength:50,bProcessing:!0,bServerSide:!0,sAjaxSource:location.href,sDom:'r<"H"l><"datatable-scroll"ti><"F"p>'})),$("html").is(".cameras.best_match")&&$("form.best_match select").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"350px;",search_fuzzy:!0}).on("change",function(e,t){return $("form.best_match").submit()}),$("html").is(".cameras.details")&&$("form.best-match-manufacturer select").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"350px;",search_fuzzy:!0}).on("change",function(e,t){return $("form.best-match-manufacturer").submit()}),$(document).ready(function(){var e,t;return $("html").is(".cameras.query, .manufacturer_cameras")?(e=$(".loading-message"),s=$("#camera_results").on("xhr.dt",function(){return e.removeClass("show").addClass("hide")}).on("preXhr.dt",function(){return e.removeClass("hide").addClass("show")}).DataTable({serverSide:!0,ajaxSource:"/camera-finder/results"+(window.manufacturerIdParams?"?"+window.manufacturerIdParams:window.location.search),dom:"rtiS",scrollY:500,deferRender:!0,scrollX:"100%",scroller:{loadingIndicator:!0,serverWait:500,displayBuffer:5},columnDefs:[{sortable:!0,sorting:["desc","asc"],targets:["sortable_desc_first"]},{sortable:!0,targets:["sortable"]},{sortable:!1,targets:["_all"]}]}),t=new $.fn.DataTable.FixedColumns(s),s.clearResults=function(){return $(s.table().body()).find("tr").remove(),$("table.DTFC_Cloned tbody tr").remove()},$("th.sorting").click(function(){return s.clearResults()}),$(document).on("click","table#camera_results .compare",function(e){var t,n;return e.preventDefault,$(this).data("enabled")!==!0?!1:(n=$(this).data("id"),t=$(".compare-modal .modal"),t.find(".modal-title").html($(this).data("model")),t.find("a.url").attr("href",$(this).data("url")+"#best-match"),t.modal("show"),t.find("#second_camera").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"350px;"}).on("change",function(e,i){var r,o;return o=i.selected,t.find(".compare").hide(),t.find(".loading").show(),r=encodeURI("cameras[0]="+n+"&cameras[1]="+o),location.href="/cameras/compare?"+r}),!1)})):void 0}),d=function(e){return $.map(e,function(e){return e.value})},c=function(e){return $.map(e,function(e){return e.text})},$("html").is(".cameras.query")&&($("td.disabled").attr("data-member","true"),$("td.disabled").attr("data-toggle","modal"),$("td.disabled").attr("data-target","#loginModal"),$("#loginModal").on("show.bs.modal",function(e){var t,n,i,r;return i=$(e.relatedTarget),r=i.data("member"),r===!0?($(".modal-header").html("IPVM Member Only Feature"),n=$("<div class='alert alert-info'>You've selected a feature that is available exclusively to IPVM members. <a href='/members'>Please login using the form below or learn how you can become an IPVM member</a>.</div>"),$(".modal-body").prepend(n),t=$("<a href='/members' class='btn btn-secondary m-r-05' id='become-member'>Become a Member</a>"),$(".modal-footer").prepend(t)):void 0}),$("#loginModal").on("hide.bs.modal",function(e){$(".alert").remove(),$("#become-member").remove()}),$("#q_fps_gteq").ionRangeSlider({min:0,max:120,postfix:" FPS",onFinish:function(e){return $("#q_fps_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#q_fps_gteq").val()>0||$("#q_fps_gteq").val(""),$("#q_smart_codec_true").change(function(){return $("#main form#camera_query").submit()}),$("#q_power_consumption_lteq").ionRangeSlider({min:0,max:30,postfix:" Watts",onFinish:function(e){return $("#q_power_consumption_lteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),"0"===$("#q_power_consumption_lteq").val()&&($("#q_power_consumption_lteq").ionRangeSlider("update",{from:30}),$("#q_power_consumption_lteq").val("")),$("#q_vandal_gteq").ionRangeSlider({values:["Non Vandal","IK 1","IK 2","IK 3","IK 4","IK 5","IK 6","IK 7","IK 8","IK 9","IK 10","IK 10++"],onFinish:function(e){return $("#q_vandal_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),"0"===$("#q_vandal_gteq").val()&&$("#q_vandal_gteq").val(""),$("#q_optical_zoom_gteq").ionRangeSlider({min:0,max:40,values:["Any","1X","2X","3X","4X","5X","6X","7X","8X","9X","10X","11X","12X","13X","14X","15X","16X","17X","18X","19X","20X","21X","22X","23X","24X","25X","26X","27X","28X","29X","30X","31X","32X","33X","34X","35X","36X","37X","38X","39X","40X"],onFinish:function(e){return $("#q_optical_zoom_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#outdoor_slider").ionRangeSlider({values:c($("#q_outdoor_gteq option")),type:"double",from:$("#q_outdoor_gteq")[0].selectedIndex,to:0!==$("#q_outdoor_lteq")[0].selectedIndex?$("#q_outdoor_lteq")[0].selectedIndex:void 0,onFinish:function(e){return $("#q_outdoor_gteq option")[e.fromNumber].selected=!0,$("#q_outdoor_lteq option")[e.toNumber].selected=!0,$("#q_outdoor_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#size_slider").ionRangeSlider({values:c($("#q_relative_size_gteq option")),type:"double",from:$("#q_relative_size_gteq")[0].selectedIndex,to:0!==$("#q_relative_size_lteq")[0].selectedIndex?$("#q_relative_size_lteq")[0].selectedIndex:void 0,onFinish:function(e){return $("#q_relative_size_gteq option")[e.fromNumber].selected=!0,$("#q_relative_size_lteq option")[e.toNumber].selected=!0,$("#q_relative_size_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#illumination_slider").ionRangeSlider({values:c($("#q_min_illumination_gteq option")),type:"double",from:$("#q_min_illumination_gteq")[0].selectedIndex,to:0!==$("#q_min_illumination_lteq")[0].selectedIndex?$("#q_min_illumination_lteq")[0].selectedIndex:void 0,onFinish:function(e){return $("#q_min_illumination_gteq option")[e.fromNumber].selected=!0,$("#q_min_illumination_lteq option")[e.toNumber].selected=!0,$("#q_min_illumination_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#aov_slider").ionRangeSlider({values:c($("#q_angle_of_views_min_gteq option")),type:"double",from:0,to:360,onFinish:function(e){return $("#q_angle_of_views_min_gteq option")[e.fromNumber].selected=!0,$("#q_angle_of_views_max_lteq option")[e.toNumber].selected=!0,$("#q_angle_of_views_min_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#sensor_slider").ionRangeSlider({values:c($("#q_sensor_size_decimal_gteq option")),type:"double",from:$("#q_sensor_size_decimal_gteq")[0].selectedIndex,to:0!==$("#q_sensor_size_decimal_lteq")[0].selectedIndex?$("#q_sensor_size_decimal_lteq")[0].selectedIndex:void 0,onFinish:function(e){return $("#q_sensor_size_decimal_gteq option")[e.fromNumber].selected=!0,$("#q_sensor_size_decimal_lteq option")[e.toNumber].selected=!0,$("#q_sensor_size_decimal_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}}),$("#infrared_slider").ionRangeSlider({values:c($("#q_infrared_gteq option")),type:"double",from:0,to:200,onFinish:function(e){return $("#q_infrared_gteq option")[e.fromNumber].selected=!0,$("#q_infrared_lteq option")[e.toNumber].selected=!0,$("#main form#camera_query").submit()}}),$("input#q_infrared_eq_0, input#q_infrared_not_eq_0, input#q_infrared_in_").change(function(){return setTimeout(function(){return $("input#q_infrared_eq_0").is(":checked")?(window.preventSubmit=!0,$("#infrared_slider").ionRangeSlider("update",{disable:!0,from:0,to:21}),clearField("infrared_gteq"),clearField("infrared_lteq"),window.preventSubmit=!1,$("#main form#camera_query").submit()):$("#infrared_slider").ionRangeSlider("update",{disable:!1})},50)}),$("#imager_count_slider").ionRangeSlider({values:c($("#q_imager_count_gteq option")),type:"double",from:1,to:20,onFinish:function(e){return $("#q_imager_count_gteq option")[e.fromNumber].selected=!0,$("#q_imager_count_lteq option")[e.toNumber].selected=!0,$("#main form#camera_query").submit()}}),setTimeout(function(){return $("#resolution_slider").ionRangeSlider({values:c($("#q_resolution_pixels_gteq option")),type:"double",from:$("#q_resolution_pixels_gteq")[0].selectedIndex,to:0!==$("#q_resolution_pixels_lteq")[0].selectedIndex?$("#q_resolution_pixels_lteq")[0].selectedIndex:void 0,onFinish:function(e){return $("#q_resolution_pixels_gteq option")[e.fromNumber].selected=!0,$("#q_resolution_pixels_lteq option")[e.toNumber].selected=!0,$("#q_resolution_pixels_gteq").is(":disabled")?void 0:$("#main form#camera_query").submit()}})},50),window.clearField=function(e,t){var n,i,r,o,s;if(null==t&&(t=!0),window.preventSubmit=!0,s="string"==typeof e?$("#q_"+e).length>0?$("#q_"+e):$("#q_"+e+"_").length>0?$("#q_"+e+"_"):$("#q_"+e+"_0"):e,s.is("input[type='checkbox']"))s.attr("checked",!1);else if(s.is("input[type='text']"))try{s.ionRangeSlider("update",{from:0}),s.val("")}catch(r){i=r,s.val("").keyup()}else if(s.is("input[type='radio']"))""===s.val()?(s.trigger("click",!0),s.attr("checked",!0)):s.attr("checked",!1);else if(s.is("select"))if(s.parent().find(".select_slider").length>0)n=s.parent(),n.find(".select_slider").ionRangeSlider("update",{from:0,to:s.find("option").length-1}),n.find("select").val("");else try{s.ionRangeSlider("update",{from:0}),s.val("")}catch(o){i=o,s.val("").trigger("chosen:updated").chosen().change()}return window.preventSubmit=!1,t&&$("#main form#camera_query").submit(),!0},window.clearAll=function(){$("[name^='q[']").each(function(e){return clearField($(this),!1)}),$("#main form#camera_query").submit()},$("a.average_price").click(function(e){return e.preventDefault,$("div.average_price").html('Calculating: <i class="fas fa-spinner fa-pulse"></i>'),$.post($(this).attr("href"),$("#main form#camera_query").serialize(),function(e){return $("div.average_price").text("Mean price is "+e.average+" and median price is "+e.median)}),!1}),$("#q_codecs_id_in, #q_form_factor_id_in, #q_website_id_in, #q_camera_types_id_in, #q_warranty_gteq, #q_lens_mount_in, #q_iris_in, #q_analytics_in, #q_onvifs_id_in, #q_audio_in, #q_pan_range_gteq, #q_tilt_range_gteq, #q_pan_speed_gteq, #q_tilt_speed_gteq, #q_poe_in, #q_dry_contacts_gteq, #q_relay_output_gteq, #q_website_id_not_in").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"200px;",placeholder_text_multiple:"Select..."}),$("#q_form_factor_id_in").on("chosen:showing_dropdown",function(){return $("#q_form_factor_id_in_chosen .chosen-drop ul li").each(function(e){var t;return t=$($("#q_form_factor_id_in option")[e]).data("imgUrl"),$(this).html($(this).html()+" "+t)})}),$("#q_form_factor_id_in").on("change",function(e,t){var n;return(t||{}).selected?(n=$(this.nextElementSibling).find("ul li.search-choice").last().find("span"),n.html($(e.currentTarget).find("option[value="+t.selected+"]").text().match(/.*?(?=<|$)/i)[0])):void 0}),$("#q_form_factor_id_in").next().find("ul.chosen-choices li.search-choice").length>0&&$("#q_form_factor_id_in option:selected").each(function(e,t){return $($("#q_form_factor_id_in").next().find("ul li.search-choice")[e]).find("span").html($(t).text().match(/.*?(?=<|$)/i)[0])}),$('select[id^="q_website_id"]').each(function(){var e;return e=$(this).parent().find(".chosen-container .chosen-drop"),$(this).change(function(){return e.css("left","0")}),e.click(function(e){return e.stopPropagation()}),$("html").click(function(){return e.css("left","")})}),i=function(){var e;return e=0,function(t,n){return clearTimeout(e),e=setTimeout(t,n)}}(),$("#tabs input").not(".default").keyup(function(){return i(function(){return $("#main form#camera_query").submit()},500)}),$("#tabs select").change(function(){return $("#main form#camera_query").submit()}),$('label > input[type="radio"]').parent().click(function(e){var t;return t=$(this).find('input[type="radio"]'),t.closest("td").find("input").prop("checked",!1),t.prop("checked",!0),$("#main form#camera_query").submit()}),$("#main form#camera_query").submit(function(e){var t;return e.preventDefault,window.preventSubmit?!1:(s.clearResults(),t="/camera-finder/results/?"+$(this).serialize(),$(".get_short_url").data("long-url",window.location.origin+"/camera-finder/?"+$(this).serialize()),$("#short_url").html(""),$("div.average_price").html(""),s.ajax.url(t).load(),$(this).is(".subsquent_load")&&history.replaceState("data","",window.location.origin+"/camera-finder"),$(this).addClass("subsquent_load"),$.getScript("/camera-finder/display_criteria?"+$(this).serialize()),!1)}),window.location.href.indexOf("?")>-1&&($.post("/shorten_url",{url:window.location.href}).done(function(e){return history.replaceState("data","",e.url)}),$.getScript("/camera-finder/display_criteria?"+$("#main form#camera_query").serialize())),$(".get_short_url").click(function(e){return e.preventDefault,$.post($(this).attr("href"),{url:$(this).data("long-url")}).done(function(e){return $("#short_url").html(e.html)}),!1}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t,n;return n=$(e.target).attr("href"),t=$(""+n).find(".select_slider"),window.preventSubmit=!0,t.each(function(){return 0===$(this).parent().find("select")[0].selectedIndex?$(this).ionRangeSlider("update",{from:0}):void 0}),window.preventSubmit=!1})),$("html").is(".cameras.new")||$("html").is(".cameras.edit")||$("html").is(".cameras.update")||$("html").is(".cameras.create")?(l=new Pikaday({field:$("input.datepicker")[0],format:"dddd, MMMM Do, YYYY"}),$("select").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"100%"}),$("a#add_field_focal").click(function(e){var t,n,i,r,o,s,a;return e.preventDefault,1===$("#lens_focal_lengths .single").length&&0===$("#lens_focal_lengths .single a.remove_field").length&&$("<a href='#' class='remove_field' style='text-decoration: none'> <i class='fas fa-minus'></i></a>").insertAfter($("#lens_focal_lengths .single:first input:first")),n=$("#lens_focal_lengths .single:last"),o=n.clone().insertAfter(n),a=n.find("input:first").prop("name"),i=/\[([0-9]+)\]/g,t=i.exec(a),s=parseInt(t[1])+1,r=a.replace(i,"["+s+"]"),o.find("input:first").val(""),o.find("input:first").prop("name",r),o.find('input[type="hidden"]').remove(),f("#lens_focal_lengths"),!1}),$("a#add_field_aov").click(function(e){var t,n,i,r,o,s,a;return e.preventDefault,1===$("#angle_of_views .single").length&&0===$("#angle_of_views .single a.remove_field").length&&$("<a href='#' class='remove_field' style='text-decoration: none'> <i class='fas fa-minus'></i></a>").insertAfter($("#angle_of_views .single:first input:first")),n=$("#angle_of_views .single:last"),o=n.clone().insertAfter(n),a=n.find("input:first").prop("name"),i=/\[([0-9]+)\]/g,t=i.exec(a),s=parseInt(t[1])+1,r=a.replace(i,"["+s+"]"),o.find("input:first").val(""),o.find("input:first").prop("name",r),o.find('input[type="hidden"]').remove(),f("#angle_of_views"),!1}),f=function(e){return $("a.remove_field").click(function(t){return t.preventDefault,$(this).closest(".single").remove(),1===$(e+".single").length&&$("a.remove_field").remove(),!1})},f("#lens_focal_lengths"),f("#angle_of_views"),h=function(e){return"Repositionable"===e||"Fixed"===e?($(".camera_main_imager_options").show(),$(".camera_ptz_imager_count").hide(),$(".camera_ptz_imager_options").hide()):e&&e.match(/PTZ/)?($(".camera_main_imager_options").show(),$(".camera_ptz_imager_count").show(),$(".camera_ptz_imager_options").show()):($(".camera_main_imager_options").hide(),$(".camera_ptz_imager_count").hide(),$(".camera_ptz_imager_options").hide()),e&&e.match(/Fixed/)?$("label[for=camera_main_imager_option_ids]").text("Fixed imager options"):$("label[for=camera_main_imager_option_ids]").text("Repositionable imager options")},$("#camera_multi_imager_type").on("change",function(e,t){var n;return n=t?t.selected:null,h(n)}),h($("#camera_multi_imager_type").chosen().val())):void 0})}.call(this),function(){$(function(){var e,t,n,i;return $("html").is(".calculator.fstop")?(i=window.resizeInput=function(){var e,t;return e=$(this).val(),t=$("<span>"+e+"</span>").hide(),t.insertAfter($(this)),$(this).css("width",t.width()+8+"px"),t.remove()},n=function(e,t){var n,i,r,o,s;return r=[],o=Math.round(Math.abs(100*(Math.pow(t/e,2)-1))),s=Math.round(Math.abs(100*(Math.pow(e/t,2)-1))),e>t?(n=o+"% <i>less</i>",i=s+"% <i>more</i>"):(n=o+"% <i>more</i>",i=s+"% <i>less</i>"),r.push(n,i),r},e=$("#fstop_comparison_mode"),t=function(){var t,r,o;return r=parseFloat(e.find("tr.fstop1 input").val()),o=parseFloat(e.find("tr.fstop2 input").val()),t=n(r,o),e.find('[data-id="fstop_difference"]').html("Lens A passes "+t[0]+" light than Lens B.<br>Lens B passes "+t[1]+" light than Lens A."),e.find(".resizing-input").each(i)},e.find("tr.fstop1 input, tr.fstop2 input").keyup(function(){return t()}),e.find("tr.fstop1 input, tr.fstop2 input").validator({range:{base:.7,ceiling:256},validate_with:"range"}),t()):void 0})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};this.FovPreview=function(){function t(e,t,r){i=this,this.container=e,this.resolution_el=t,this.aov_el=r,this.image=this.container.find(".image"),this.bindResolutionChange(),this.bindSeneSelection(),this.bindAovClick(),this.dragger=new n,this.set169()}var n,i;return i=[],t.prototype.setFov=function(e){var t,n,r,o,s,a,l,u;if(e!==this.fov)return this.fov=e,this.original_background_size=i.image.css("background-size").split(" ").map(function(e){return parseFloat(e)}),s=1/Math.tan(.5*this.fov*(3.14159/180)),a=parseFloat((this.image.width()+this.image.width()*s).toFixed(0)),o=parseFloat((.75*a).toFixed(0)),this.image.css("background-size",a+"px "+o+"px"),"50% 50%"===this.image.css("background-position")?(this.origin_bg_pos_x=1-(a/2-this.container.width()/2),this.origin_bg_pos_y=0,r=i.constrainImagePosition(this.origin_bg_pos_x,this.origin_bg_pos_y)):(t=this.origin_bg_pos_x-this.image.width()/2,n=this.origin_bg_pos_y-this.image.height()/2,l=a/this.original_background_size[0],u=o/this.original_background_size[1],this.origin_bg_pos_x=t*l+this.image.width()/2,this.origin_bg_pos_y=n*u+this.image.height()/2,r=i.constrainImagePosition(this.origin_bg_pos_x,this.origin_bg_pos_y)),this.image.css("background-position",r.x+"px "+r.y+"px"),this.container.find(".title").html("FoV: "+e+"\xb0")},t.prototype.set43=function(){return this.image.css("clip","")},t.prototype.set169=function(){var e,t,n,i;return i=this.image.height(),t=(9/16*this.image.width()).toFixed(0),e=i-t,n=e/2,this.image.css("clip","rect("+n+"px,auto,"+(199-n)+"px,0px)")},t.prototype.bindResolutionChange=function(){return this.resolution_el.live("change",function(e){return function(t){var n;return n=e.determineAspectRatio(t.currentTarget.value),1.33===n?e.set43():e.set169()}}(this))},t.prototype.bindSeneSelection=function(){return this.container.find(".select_scene").live("click",function(e){return function(t){return t.preventDefault,e.container.find(".scenes").slideToggle("fast"),!1}}(this)),$(window).click(function(e){return function(t){return e.container.find(".scenes").slideUp("fast")}}(this)),this.container.live("click",function(e){return function(e){return e.stopPropagation,!1}}(this)),this.container.find("#general-scenes ul.scene-list a, #your-scenes ul.scene-list li a").live("click",function(e){return function(t){return t.preventDefault,t.stopPropagation,e.container.find(".scenes li").show(),$(t.target).parent().hide(),e.container.find(".scenes").slideToggle("fast"),e.image.css("background-image","url("+t.currentTarget.href+")"),!1}}(this))},t.prototype.bindAovClick=function(){return this.container.find(".aov_controlls i.fa-arrow-up").mousedown(function(e){return function(){return e.fov_timeout=setInterval(function(){return e.aov_el.val(Validator({value:parseInt(e.aov_el.val())+5,range:{base:0,ceiling:180},validate_with:"range"})).keyup()},75),!1}}(this)),$(document).mouseup(function(e){return function(){return clearInterval(e.fov_timeout)}}(this)),this.container.find(".aov_controlls i.fa-arrow-down").mousedown(function(e){return function(){return e.fov_timeout=setInterval(function(){return e.aov_el.val(Validator({value:parseInt(e.aov_el.val())-5,range:{base:0,ceiling:180},validate_with:"range"})).keyup()},75),!1}}(this))},t.prototype.determineAspectRatio=function(e){var t,n;return n=e.split("x"),t=(n[0]/n[1]).toFixed(2),[1.33,1.78].reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})},t.prototype.constrainImagePosition=function(e,t){var n,i,r;return n=this.image.css("background-size").split(" "),i=this.container.width()-parseInt(n[0]),r=this.container.height()-parseInt(n[1]),e>0?e=0:i>e&&(e=i),t>0?t=0:r>t&&(t=r),{x:parseInt(e.toFixed(0)),y:parseInt(t.toFixed(0))}},n=function(){function t(t){null==t&&(t=i.image.get(0)),this.onMouseup=e(this.onMouseup,this),this.onMousemove=e(this.onMousemove,this),this.el=t,this.mouse_is_down=!1,this.el.addEventListener("mousedown",this.onMousedown.bind(this),!1),document.addEventListener("mouseup",this.onMouseup.bind(this),!1),this.el.addEventListener("mousemove",this.onMousemove.bind(this),!1)}return t.prototype.onMousemove=function(e){var t,n,r,o,s;if(this.mouse_is_down)return o=e.clientX,s=e.clientY,n=o-this.origin_x+i.origin_bg_pos_x,r=s-this.origin_y+i.origin_bg_pos_y,t=i.constrainImagePosition(n,r),i.image.css("background-position",t.x+"px "+t.y+"px")},t.prototype.onMousedown=function(e){this.mouse_is_down=!0,$("html").addClass("disable_select"),this.origin_x=e.clientX,this.origin_y=e.clientY},t.prototype.onMouseup=function(e){this.mouse_is_down=!1,$("html").removeClass("disable_select"),this.original_background_position=i.image.css("background-position").split(" ").map(function(e){return parseFloat(e)}),i.origin_bg_pos_x=this.original_background_position[0],i.origin_bg_pos_y=this.original_background_position[1]},t}(),t}()}.call(this),function(){$(function(){return $("#subscribe-popin").length>0&&("true"!==$.cookie("subscribe_popin_presented")||window.location.href.match("show_subscription_popin"))?($.cookie("subscribe_popin_presented","true",{expires:3}),$("#subscribe-popin").animate({opacity:1,right:"20px"},1e3),$(".subscribepopin-close").click(function(e){return e.preventDefault,e.stopPropogation,$("#subscribe-popin").animate({opacity:0,right:"-400px"},1e3),!1})):void 0})}.call(this),function(){$(function(){return $("html").is(".group_members.index")?$("form.set_role_user select").change(function(){return $(this).closest("form.set_role_user").submit()}):void 0})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};$(function(){var t;return $("html").is(".members.news_preferences")&&(window.add_selection_listeners=function(){return $(".news_pref_selection .selection").each(function(){return $(this).find("i").click(function(){var e;return e=$(this).parent().find(".title").text(),$("#news_preferences .item:contains("+e+")").click(),$(this).parent().remove()})})},add_selection_listeners(),$(".item").click(function(e){var t,n;return n=$(this).attr("id"),t=$(".inputs input[value="+n+"]"),t.prop("checked")?(t.prop("checked",!1),$(this).removeClass("selected")):(t.prop("checked",!0),$(this).addClass("selected")),$("#news_preferences").submit()}),window.news_preferences_list=new List("websites",{valueNames:["title"]}),$(".item a").click(function(e){return e.stopPropagation()}),$("input#custom_alerts_box").tagsInput({width:"100%",height:"150px",defaultText:"Click to add a term",onAddTag:function(){return $("form.edit_user").submit()},onRemoveTag:function(){return $("form.edit_user").submit()}}),$("form.edit_user").bind({"ajax:success":function(e,t,n){return humane.success("Preferences Saved!")},"ajax:error":function(e,t,n){var i;return i=$.parseJSON(t.responseText)}})),$("html").is(".members.edit_profile")&&($(window).on("load",function(){var e;e=document.location.toString(),console.log(e),e.match("#")&&($('.nav-tabs a[href="#'+e.split("#")[1]+'"]').tab("show"),$(window).scrollTop(0))}),$("input:file").change(function(){$("input#user_remove_avatar").attr("disabled",!0)})),$("html").is(".members.crop_avatar")&&new e,$("html").is(".members.personal")&&$("html").is(".current_user")?(t=window.matchMedia("(prefers-color-scheme: dark)").matches,$(".toggle").on("click",function(){var e,n;e=$(this)[0],e.classList.add("animate"),setTimeout(function(){return t?e.classList.toggle("light"):e.classList.toggle("dark")},150),setTimeout(function(){return e.classList.remove("animate")},300),t?(document.documentElement.classList.toggle("light-mode"),n=document.documentElement.classList.contains("light-mode")?"light":"dark","light"===n&&document.documentElement.classList.remove("dark-mode")):(document.documentElement.classList.toggle("dark-mode"),n=document.documentElement.classList.contains("dark-mode")?"dark":"light"),$.ajax({type:"POST",url:"/set_theme_preference",data:{theme:n}})})):void 0}),e=function(){function e(){this.update=t(this.update,this),$("#cropbox").Jcrop({aspectRatio:1,setSelect:[0,0,600,600],onSelect:this.update,onChange:this.update})}return e.prototype.update=function(e){return $("#user_crop_x").val(e.x),$("#user_crop_y").val(e.y),$("#user_crop_w").val(e.w),$("#user_crop_h").val(e.h)},e}()}.call(this),function(){$(function(){var e,t,n;return $("html").is(".surveyor_assignments.index")&&(t=new Pikaday({field:$("input.datepicker")[0],format:"dddd, MMMM Do, YYYY"}),n=new Pikaday({field:$("input.datepicker")[1],format:"dddd, MMMM Do, YYYY"}),e=$("table#assignments").dataTable({sPaginationType:"full_numbers",oLanguage:{sZeroRecords:"You have no quizzes assigned to you."}}),$("#new_surveyor_assignment select, #screening_new_surveyor_assignment select").chosen({inherit_select_classes:!1,allow_single_deselect:!0,width:"297px;",placeholder_text_multiple:"Choose one or more"}),$("i").tooltip(),$("i").click(function(){return!1})),$("body").is(".surveyor")?$("input, select").keypress(function(){return 13!==event.keyCode}):void 0})}.call(this),function(){$(function(){var e,t,n,i,r,o;return r=$(".email_this_form"),n=r.find("input#email"),t=r.find("input.email_this_to"),e=r.find("input.email_this_to, input#email"),i=r.find("input#message"),o=function(i,r,o,s){return $("span.loading").hide(),$(n).val(i),$(e).addClass(r),$(t).val(o),setTimeout(function(){return $(e).removeClass(r),$(t).val("Send"),$(n).val("")},s)},r.bind({"ajax:beforeSend":function(){return $(this).find("span.loading").show(),$(this).find("button").prop("disabled",!0)},"ajax:success":function(e,t,n){return o("Sent to "+$(this).find("input#email").val(),"success","Success!",3100),$(i).val("")},"ajax:error":function(e,t,n){return o("Invalid address, please try again.","error","Error",2250),$(this).find("button").prop("disabled",!1)},"ajax:complete":function(e,t){return $(this).find("button").prop("disabled",!1)}})})}.call(this),function(){
$(function(){var e,t,n,i,r,o,s,a,l,u;return $("html").is(".integrators.index")?(r=function(){var e,t,n,i;return window.map=new google.maps.Map(document.getElementById("map_canvas"),{center:{lat:39,lng:-98},zoom:2,minZoom:2}),window.geocoder=t=new google.maps.Geocoder,window.oms=new OverlappingMarkerSpiderfier(window.map,{keepSpiderfied:!0,markerWontHide:!0,markersWontMove:!0,nearbyDistance:2}),i=new google.maps.InfoWindow,window.oms.addListener("click",function(e){return function(e,t){return i.setContent(e.desc),i.open(window.map,e)}}(this)),n=document.getElementById("autocomplete"),e=new google.maps.places.Autocomplete(n,{types:["(regions)"]}),e.bindTo("bounds",window.map),google.maps.event.addListener(e,"place_changed",function(){var t;return t=e.getPlace(),t.geometry?t.geometry.viewport?window.map.fitBounds(t.geometry.viewport):(window.map.setCenter(t.geometry.location),window.map.setZoom(17)):void 0}),google.maps.event.addListenerOnce(window.map,"idle",function(){return window.member_location?u(member_location.latitude,member_location.longitude):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){return u(e.coords.latitude,e.coords.longitude)}),l(window.location_data)})},google.maps.event.addDomListener(window,"load",r),s=[],u=function(e,t,n){var i;return null==n&&(n=8),i=new google.maps.LatLng(e,t),window.map.setCenter(i),window.map.setZoom(n)},o=function(e){return window.geocoder.geocode({address:e},function(e,t){return t===google.maps.GeocoderStatus.OK?u(e[0].geometry.location.k,e[0].geometry.location.D):void 0})},l=function(e){var n,i,r,o,s,a,l,c;for(c=[],i=0,o=e.length;o>i;i++){for(n=e[i],n=JSON.parse(n),l=n.locations,r=0,s=l.length;s>r;r++)a=l[r],t(n,new google.maps.LatLng(a.latitude,a.longitude));1===e.length?c.push(u(n.locations[0].latitude,n.locations[0].longitude)):c.push(void 0)}return c},t=function(t,n){var i;return i=e(t.name,t,n)},e=function(e){return function(e,t,n){var i,r;return i=t.users_present?"<div class='infowindow'> <a href='http://"+t.url+"' target='_blank'><h2 class='promember'>"+t.name+"</h2></a> </div>":"<div class='infowindow'> <a href='http://"+t.url+"' target='_blank'><h2>"+t.name+"</h2></a> </div>",r=new google.maps.Marker({title:e,position:n,map:window.map}),r.desc=i,oms.addMarker(r),s.push(r)}}(this),n=function(){var e,t,n;for(e=0,t=s.length;t>e;e++)n=s[e],n.setMap(null);return s=[]},i=$('[data-id="integrator_results"]').DataTable({serverSide:!0,ajaxSource:"/integrators",iDisplayLength:20,responsive:!0,dom:'<"top">rt<"bottom"ip><"clear">',columnDefs:[{sortable:!0,targets:["sortable"]},{sortable:!1,targets:["_all"]}],aoColumns:[{sWidth:"35%"},{sWidth:"40%"},{sWidth:"25%"}],initComplete:function(e,t){return window.location_data=t.location_data}}).on("xhr.dt",function(e,t,i){return JSON.stringify(window.location_data)!==JSON.stringify(i.location_data)?(n(),l(window.location_data=i.location_data)):void 0}),a=$.fn.dataTable.util.throttle(function(e){i.search(e).draw()},500),$("#integrator_search").keyup(function(){return a($(this).val())}),$(document).on("click",'[data-trigger-location-change="true"]',function(e){return e.preventDefault,$("#autocomplete").val(""),u($(this).data("latitude"),$(this).data("longitude")),!1})):void 0})}.call(this),function(){$(function(){var e;return e={1:0,2:.1,3:.15,4:.2,5:.25},$("html").is(".accounts.extension")&&($("#commit_btn").click(function(e){var t,n;return e.preventDefault(),n=$("select#plan_id option:selected").data("upgrade-price")||$("input[name=renewal_period_multiplier]:checked").data("price"),$("span#amount").html(n),t=$("#please-confirm.modal").modal("show"),t.find(".buttons .change-plan").click(function(){return t.modal("hide"),$("form.extension").submit()})}),$("select#plan_id").change(function(){var e;return e=$(this).find("option:checked").data("plan-id"),$(".multiplier_options").hide(),$(".multiplier_options.plan_id_"+e).show()}),$(".multiplier_options label").click(function(e){return e.preventDefault(),$(this).prev("input").attr("checked",!0),!1})),$("html").is(".accounts.plan")&&($(document).ready(function(){var e,t,n,i;n=window.location.href,i=n.split("?"),i.length>=2&&(t="show_card_form=",e=i[1].split(/[&;]/g),-1!==e[0].lastIndexOf(t,0)&&e.splice(0,1),n=i[0]+(e.length>0?"?"+e.join("&"):""),window.history.replaceState({},document.title,n))}),$("input:radio[name='plan_id']").change(function(){return $("button.change").removeClass("disabled")}),$("button.change").click(function(e){var t,n;return $(this).hasClass("disabled")?(e.preventDefault(),null):(e.preventDefault(),n=$("input[name='plan_id']:checked").data("upgrade-price"),$("span#amount").html(n),t=$("#please-confirm.modal").modal("show"),t.find(".buttons .change-plan").click(function(){return t.modal("hide"),$("form.change_plan").submit()}))})),$("html").is(".accounts.billing")&&($("#please-confirm .modal .buttons .okay").click(function(){return $("#please-confirm .modal").modal("hide"),$("form.billing").submit()}),$('.cc_method button[value="cc"]').click(function(e){return"expired"===$("form.billing").data("subscription-status")?($("#please-confirm .modal").modal("show"),!1):void 0})),$("html").is(".accounts.reactivate_with_single_user_subscription,.reactivate_and_change_subscription_owner")&&$('.cc_method button[value="cc"]').click(function(e){var t;return e.preventDefault(),t=$("#please-confirm.modal").modal("show"),t.find(".buttons .okay").click(function(){return t.modal("hide"),$("form.billing").submit()})}),$("html").is(".accounts.new")?$(document).ready(function(){var e,t,n,i,r;if(i=window.location.href,r=i.split("?"),r.length>=2){for(n="free_article_offer=",t=r[1].split(/[&;]/g),e=t.length;e-->0;)-1!==t[e].lastIndexOf(n,0)&&t.splice(e,1);i=r[0]+(t.length>0?"?"+t.join("&"):""),window.history.replaceState({},document.title,i)}}):void 0})}.call(this),function(){$(function(){var e,t,n;return $("html").is(".reports.show")&&($(document).ready(function(){var e,t,n,i,r,o,s;if(o=window.location.href,s=o.split("?"),s.length>=2){for(r=["first=","free=","contact=","share="],n=s[1].split(/[&;]/g),e=0,t=r.length;t>e;e++)if(i=r[e],-1!==n[0].lastIndexOf(i,0)){n.splice(0,1);break}o=s[0]+(n.length>0?"?"+n.join("&"):""),window.history.replaceState({},document.title,o)}}),window.setUsernamesAndShowComponents(cachingHelperPayload),$("html").is(".current_user")||$(".post .post-footer").each(function(){return $(this).addClass("hidden")}),$(".email-this-toggle").click(function(){return $(".email-this-to").closest(".hidden").slideDown()}),$("#email").click(function(){return $(".email-this-to-message").find(".hidden").slideDown()}),t=function(e){return'<div class="perma_dialog_top_wrapper"><div class="perma_dialog_icon_wrapper"><i class="fas fa-exclamation-triangle perma_dialog_warning_icon"></i></div><div class="perma_dialog_text"><p class="perma_dialog_down_text">This webpage may no longer be available</p></div></div><div class="perma_dialog_links"><a class="perma_dialog_archive_link btn" href="https://perma.cc/'+e.attr("data-perma-id")+'" target="_blank" rel="noopener noreferrer">View archived page</a><a class="perma_dialog_original_link" href="'+e.attr("href")+'" target="_blank" rel="noopener noreferrer">Continue to original</a></div><div class="perma_dialog_marker"></div>'},n=function(n){var i,r,o,s;return o=n.attr("data-perma-id"),$(".perma_hover_dialog_container[data-perma-id="+o+"]").length>0?void 0:(i=$(document.createElement("div")),i.addClass("perma_hover_dialog_container"),i.html(t(n)),i.css("display","none"),i.css("position","absolute"),$("body").append(i),r=$(n).offset().left+$(n).width()/2-30,s=$(n).offset().top-i.height()-15,i.css("left",Math.max(15,r)),i.css("top",Math.max(15,s)),i.attr("data-perma-id",o),i.css("display","block"),i.find(".perma_dialog_archive_link").on("click",function(){return e(n)}),i.find(".perma_dialog_original_link").on("click",function(){return e(n)}),$(document).on("click.perma"+o,function(t){var i;return i=$(event.target),i.closest(".perma_hover_dialog_container[data-perma-id="+o+"]").length?void 0:e(n)}),$(document).on("keydown.perma"+o,function(t){return 27===t.which?e(n):void 0}))},e=function(e){var t,n;return n=e.attr("data-perma-id"),$(document).unbind("click.perma"+n),$(document).unbind("keydown.perma"+n),t=$(".perma_hover_dialog_container[data-perma-id="+n+"]"),1===t.length?t.remove():void 0},$(".perma_archive_down_link").each(function(e){return $(this).on("click",function(e){return e.preventDefault,n($(this)),!1})}),$(document).ready(function(){var e,t,n,i;$(".obfuscator-wrapper").length&&(e=$(".content_restricted_modal").outerHeight(),n=$(".restricted-content").offset().top,i=$(".obfuscator-wrapper").offset().top,t=n-i,$(".content-restricted-container").css({top:t+"px"}))}),$(window).load(function(){var e,t,n,i;$(".obfuscator-wrapper").length&&(e=$(".content_restricted_modal").outerHeight(),n=$(".restricted-content").offset().top,i=$(".obfuscator-wrapper").offset().top,t=n-i,$(".content-restricted-container").css({top:t+"px"}),$(".restricted-content").waypoint(function(e){return"up"===e?$(".content-restricted-container").css({position:"absolute","max-width":"100%",top:t+"px"}):void 0},{offset:100}),$(".restricted-content").waypoint(function(e){return"down"===e?$(".content-restricted-container").css({position:"fixed",width:$(".obfuscator-wrapper").width(),"max-width":"calc(100% - 2rem)",top:"98px"}):void 0},{offset:100}),$(".restricted-content").waypoint(function(e){return"down"===e?$(".content-restricted-container").css({position:"absolute","max-width":"100%",top:"auto",bottom:"10px"}):void 0},{offset:function(){return-$(".obfuscator-wrapper").height()+n+e-135}}),$(".restricted-content").waypoint(function(e){return"up"===e?$(".content-restricted-container").css({position:"fixed","max-width":"calc(100% - 2rem)",top:"98px"}):void 0},{offset:function(){return-$(".obfuscator-wrapper").height()+n+e-134}}))})),$("html").is(".reports.index")?$(document).ready(function(){var e;location.search.indexOf("read_more=true")>-1&&-1===location.search.indexOf("page")&&(e=$("#read-more").offset(),e.top-=20,$("html, body").animate({scrollTop:e.top,scrollLeft:e.left},1200))}):void 0})}.call(this),function(){$(function(){var e,t,n,i;return $("html").is(".topics.show")&&Boolean($(".best_in_place").length)&&($(".best_in_place").best_in_place(),$(".best_in_place").bind("ajax:success",function(){return humane.success("Topic title updated successfully.")}),$(".best_in_place").bind("ajax:error",function(){return humane.error("Topic title failed to update.")})),($("html").is(".forums.show")||$("html").is(".topics.show"))&&($(".email-this-toggle").click(function(){return $(".email-this-to").closest(".hidden").slideDown()}),$("#email").click(function(){return $(".email-this-to-message").find(".hidden").slideDown()})),$("#topic-creator").length>0&&(i=100,t=$("#topic-creator input#topic_subject"),e=$("#topic-creator .title-container .title_count"),e.html(i-t.val().length),$("#topic-creator .title-container input").on({focus:function(){var e;return e=$(this).parent(),e.addClass("active"),$("#topic-creator .hidden").slideDown()},keyup:function(){var n;return n=i-t.val().length,e.html(n>0?n:0),0>=n?t.val(t.val().slice(0,i)):void 0}}),$("#topic-creator .title-container input").on("blur",function(){var e;return e=$(this).parent(),e.removeClass("active")}),$("#topic-creator .close").on("click",function(e){return e.preventDefault(),$("#topic-creator .hidden").slideUp(),!1})),$("html").is(".topics.show")&&($("#topic_tag_list").chosen({placeholder_text_multiple:"Select some tags"}).on("change",function(e,t){return $.ajax({type:"PUT",dataType:"json",url:$(e.target).closest("form").attr("action"),data:{topic:{tag_list:$(this).val()}}})}),$(window).load(function(){var e,t,n;return $(".obfuscator-wrapper").length&&$(".restricted-content").height()+$(".obfuscator-wrapper").height()>=$(".content_restricted_modal").outerHeight()?(e=$(".content_restricted_modal").outerHeight(),t=$(".restricted-content").height(),n=$(".obfuscator-wrapper").height(),$(".content-restricted-container").css({top:"calc("+-t+"px - 3rem)"}),$(".restricted-content").waypoint(function(e){return"up"===e?$(".content-restricted-container").css({position:"absolute","max-width":"100%",top:"calc("+-t+"px - 3rem)"}):void 0},{offset:100}),$(".restricted-content").waypoint(function(e){return"down"===e?$(".content-restricted-container").css({position:"fixed",width:$("#posts").width(),"max-width":"calc(100% - 2rem)",top:"98px"}):void 0},{offset:100}),$(".restricted-content").waypoint(function(e){return"down"===e?$(".content-restricted-container").css({position:"absolute","max-width":"100%",top:"auto",bottom:"10px"}):void 0},{offset:function(){return-n-t+e+50}}),$(".restricted-content").waypoint(function(e){return"up"===e?$(".content-restricted-container").css({position:"fixed","max-width":"calc(100% - 2rem)",top:"98px"}):void 0},{offset:function(){return-n-t+e+50}})):void 0})),$("html").is(".forums.list_discussions")?(n=localStorage.getItem("activeTab"),location.hash?$("a[href='"+location.hash+"']").tab("show"):n&&$('a[href="'+n+'"]').tab("show"),$("body").on("click","a[data-toggle='tab']",function(e){var t;return e.preventDefault(),t=this.getAttribute("href"),history.pushState?history.pushState(null,null,t):location.hash=t,localStorage.setItem("activeTab",t),$(this).tab("show"),!1}),$(window).on("popstate",function(){var e;return e=location.hash||$("a[data-toggle='tab']").first().attr("href"),$("a[href='"+e+"']").tab("show")}),$("#comments_search_form").on("submit",function(e){return $("#user_comments").html("<p style='text-align:center;'><img alt='Preload' style='vertical-align:-3px;' src='https://drafe9icih5i1.cloudfront.net/assets/loading-086b161aedd221e0a3fd1889023135b9223664f5cc6491c8649073618c6da37a.gif'> Loading posts...</p>")}),$("#comments_search_form input").on("search",function(e){return""===$(this).val()?$(this).parent().submit():void 0})):void 0})}.call(this),function(){function e(e){return'<a href="'.concat(e.closest(".post-info").data().displayUrl).concat('">').concat(e.text()).concat("</a>")}function t(){this.innerHTML=e($(this))}function n(){return payload=window.cachingHelperPayload,payload.current_user_admin?$("[data-banned-post-id]"):$("[data-banned-post-user-id="+payload.current_user_id+"]")}function i(){return n().map(function(){return $(this).data("bannedPostId")}).get()}function r(e){for(postId in e)$("[data-banned-post-id="+postId+"]").html(e[postId]).removeClass("hidden").find("[data-post-id]").addClass(function(){return window.cachingHelperPayload.current_user_admin?"banned":""})}function o(){$(".post-info[data-post-visible][data-display-url]").find(".post_author").each(t)}function s(){$(".post-footer").show()}function a(e){return".post-info[data-post-id="+e+"]"}function l(e){$(e.user_first_posts.map(a).join(",")).prepend("<div class='first-comment' ><i class='fas fa-star'></i><p>Member's First Comment</p></div>")}window.highlightUserVotes=function(){payload=window.cachingHelperPayload;for(var e in payload.current_user_votes)payload.current_user_votes.hasOwnProperty(e)&&(vote=payload.current_user_votes[e],$("#post_"+vote.post_id+' .vote  a[data-category="'+vote.category+'"]').addClass("voted_on"))},window.canSeeBannedPosts=function(e){return e.current_user_admin||$("[data-banned-post-id]").map(function(){return $(this).data("bannedPostUserId")}).get().includes(e.current_user_id)?!0:void 0},window.cachingWork=function(e,t){o(),e&&t&&s(),window.highlightUserVotes()},window.showBannedPosts=function(e,t){$.get("/forum/"+e+"/topics/"+t+"/get_banned_posts",{post_ids:i()}).always(function(e){r(e),cachingWorkAfterBannedPostsAreLoaded()})},window.showAdminOptions=function(e){l(e)},window.cachingWorkAfterBannedPostsAreLoaded=function(){o(),s(),window.highlightUserVotes()}}(),window.setUsernamesAndShowComponents=function(e){e.current_user_id&&cachingWork(e.show_footer,e.active_user),e.current_user_admin&&showAdminOptions(e),$("[data-banned-post-id]").length>0&&canSeeBannedPosts(e)&&showBannedPosts(e.forum_id,e.topic_id)},window.setUsernameAndShowComponentForPost=function(e){cachingWork(e.show_footer,e.active_user)},function(){$(function(){return $('input[name="user[password]"]').keyup(function(){var e;return e=$(this).val(),e.length>=8?($("#pw-req-char").removeClass("invalid").addClass("valid"),$("#pw-req-char i").removeClass("fa-times").addClass("fa-check")):($("#pw-req-char").removeClass("valid").addClass("invalid"),$("#pw-req-char i").removeClass("fa-check").addClass("fa-times")),e.match(/[A-z]/)?($("#pw-req-lowcase").removeClass("invalid").addClass("valid"),$("#pw-req-lowcase i").removeClass("fa-times").addClass("fa-check")):($("#pw-req-lowcase").removeClass("valid").addClass("invalid"),$("#pw-req-lowcase i").removeClass("fa-check").addClass("fa-times")),e.match(/[0-9]/)?($("#pw-req-num").removeClass("invalid").addClass("valid"),$("#pw-req-num i").removeClass("fa-times").addClass("fa-check")):($("#pw-req-num").removeClass("valid").addClass("invalid"),$("#pw-req-num i").removeClass("fa-check").addClass("fa-times"))})})}.call(this),function(){$(function(){return($("html").is(".reports.show")||$("html").is(".courses.show")||$("html").is(".courses.overview"))&&($("html").is(".current_user")||$(".lead-url").addClass("hidden"),$("html").is(".current_user"))?([].slice.call(document.querySelectorAll(".lead-url")).forEach(function(e){var t;t=e.parentNode,t.classList.add("card","card-body")}),$(".lead-url").on("click",function(e){return e.preventDefault()}),$(".lead-url").one("click",function(e){var t,n,i,r,o,s;return o=$(this)[0].dataset.website_id,s=$(this)[0].dataset.website_name,$(this).parent().append("<form novalidate = 'novalidate' class = \"lead_generation_form_"+o+"\" action='/lead_generation' data-remote='true' method='POST'>"),r=$(this).parent().children("form").eq(0),$("<div style='display:none;font-size:0.9rem' class='lead-intro'> Submit this, "+window.firstname+", and we will send your name and email address to "+s+" so they can follow up with you directly.</div>").appendTo(r).slideDown(),$("<input style='display:none;' class='form-control' type='text' name='lead_message' class='form-control' placeholder='(Optional) Type your request here'>").appendTo(r).slideDown(),$("<button style='display:none;' class='lead-submit btn btn-primary-outline'> <i class='far fa-envelope'></i> Send</button>").appendTo(r).slideDown(),$("<input type='hidden' name='website_id' value="+o+">").appendTo(r),n=$(".lead_generation_form_"+o),i=n.find('input[name="lead_message"]'),t=n.find(":submit"),$(t).click(function(e){return e.preventDefault(),$(this).prop("disabled",!0),$(n).submit()}),$(n).on("ajax:complete",function(e,n){return 200===n.status?($(t).prop("disabled",!0),$(i).val("Message Sent!")):($(i).val("Error sending message."),$(t).prop("disabled",!1))})})):void 0})}.call(this),function(){$(function(){var e,t,n,i,r,o,s,a;return $("html").is(".issues.show")&&($("body").on("best_in_place:activate",".due_date_bip",function(){return $(".due_date_inner").datetimepicker({allowBlank:!0,formatTime:"g:i a",format:"n/j/y g:i a",minDate:$(".due_date_inner").data("min-date")}),$(".due_date_inner").datetimepicker("show")}),a=function(){var e;return e=$("#due_countdown"),e.html($(".due_date_bip.best_in_place").html())},a(),setInterval(a,6e4),$(".best_in_place").length>0&&($(".best_in_place").best_in_place(),$(".issue_title_bip.best_in_place").bind("ajax:success",function(){return humane.success("Title updated successfully.")}),$(".issue_title_bip.best_in_place").bind("ajax:error",function(e,t,n){return 422===t.status?humane.error(JSON.parse(t.responseText).error||"Title failed to update."):humane.error("Not authorized")}),$(".due_date_bip.best_in_place").bind("ajax:success",function(){return a(),humane.success("Due date updated successfully.")}),$(".due_date_bip.best_in_place").bind("ajax:error",function(e,t,n){return 422===t.status?humane.error(JSON.parse(t.responseText).error||"Due date failed to update."):humane.error("Not authorized")}),e=$(".open_bip.best_in_place").data("bip-value"),$(".open_bip.best_in_place").bind("ajax:success",function(){return humane.success("Issue "+(e?"opened.":"closed."))}),$(".open_bip.best_in_place").bind("ajax:error",function(t,n,i){return e=!e,$(".open_bip.best_in_place").css("color",e?"green":"red"),422===n.status?humane.error("Issue open/close failed to update."):humane.error("Not authorized")}),n=$("#reply_toggle_open").html().replace(/\b[^\s]*$/,""),$("#toggle_open").click(function(){return e=!e,$(".open_bip.best_in_place").css("color",e?"green":"red"),$("#reply_toggle_open").html(n+(e?"Close":"Reopen"))}),$("#reply_toggle_open").click(function(t){return $("#delay").attr("value",""),e=!e,$(".open_bip.best_in_place").css("color",e?"green":"red"),$("#reply_toggle_open").html(n+(e?"Close":"Reopen"))}),$("#reply").click(function(e){return $("#delay").attr("value","")}),$("#toggle_open_close").click(function(){return e=!e,$(".open_bip.best_in_place").css("color",e?"green":"red"),$("#toggle_open_close").html(e?"Close":"Reopen")}),s=!1,$("#edit_due_date_reply").datetimepicker({formatTime:"g:i a",format:"n/j/y g:i a",minDate:$(".due_date_inner").data("min-date"),onClose:function(){s||(s=!0,$("#post_editor").val(tinymce.get("post_editor").getContent()),$("#delay").attr("value",$("#edit_due_date_reply").val()),$("#new_post").submit(),$("#new_post").on("ajax:complete",function(e,t){var n,i,r;return 200===t.status&&""!==$("#delay").val()?(n=$("#due_countdown"),i=$("#edit_due_date_reply").val(),r=moment.utc(new Date),moment.duration(r.diff(moment.utc(i))).asHours()<168?n.html(moment.utc(i).fromNow()):n.html(moment.utc(i).calendar(null,{sameElse:"MMM D, YYYY"})),$(".due_date_bip").text(n.html()),humane.success("Now Due "+n.html())):void 0}))}}),$("#reply_delay").click(function(e){return s=!1,e.preventDefault(),$("#edit_due_date_reply").datetimepicker("show")}),t=$(".public_bip.best_in_place").data("bip-value"),$(".public_bip.best_in_place").bind("ajax:success",function(){return humane.success("Issue set to "+(t?"public.":"private."))}),$(".public_bip.best_in_place").bind("ajax:error",function(e,n,i){return t=!t,$(".public_bip.best_in_place").css("color",t?"blue":"red"),$(".public_bip.best_in_place").attr("data-original-title",t?"IPVM Team":"Author + Assignees Only"),422===n.status?humane.error("Issue public/private failed to update."):humane.error("Not authorized")}),$("#toggle_public").click(function(){return t=!t,$(".public_bip.best_in_place").css("color",t?"blue":"red"),$(".public_bip.best_in_place").attr("data-original-title",t?"IPVM Team":"Author + Assignees Only")})),$("#delay_due_date_one_week").click(function(e){var t,n;return e.preventDefault(),n=$(this)[0],t=""+$(n).attr("data-href"),$.ajax({type:"POST",url:t,complete:function(e){var t;t=JSON.parse(e.responseText),t.success?($(".due_date_bip").text(t.text),a(),humane.success("Due "+t.text)):humane.error(t.text)}})}),$("#context-menu-box").length&&$(".contents img").on("dblclick",function(e){var t;return e.preventDefault(),t=$(this).attr("src"),$("#context-menu-box").css({display:"block",top:e.clientY+10,left:$(window).width()<600?20:e.clientX}),$("#context-menu-box input.image_input").val(t),$("#context-menu-box input.image_size_input").val($(this).get(0).naturalWidth),$(document).one("click",function(e){return document.getElementById("context-menu-box").contains(e.target)?void 0:$("#context-menu-box").css({display:"none"})})}),$("select#issue_the_assignee_id").on("change",function(e){return $("#the_assignee_form").submit()}),$("select#issue_the_assignee_id").select2({width:"100%",placeholder:"Choose Assignee"}),$("#the_assignee_form").bind("ajax:complete",function(e,t,n){return 201===t.status?humane.success("Assignee updated successfully."):422===t.status?humane.error(JSON.parse(t.responseText).error||"Assignee failed to update."):humane.error("Not authorized")}),$("select#issue_assignee_ids").on("change",function(e){return $("#assignee_form").submit()}),$("select#issue_assignee_ids").select2({width:"100%",placeholder:"Add Followers"}),$("#assignee_form").bind("ajax:complete",function(e,t,n){return 201===t.status?humane.success("Followers updated successfully."):422===t.status?humane.error(JSON.parse(t.responseText).error||"Followers failed to update."):humane.error("Not authorized")}),$("select#issue_tag_ids").on("change",function(e){return $("#tags_form").submit()}),$("select#issue_tag_ids").select2({width:"100%",placeholder:"Add Tags"}),$("#tags_form").bind("ajax:complete",function(e,t,n){return 201===t.status?humane.success("Tags updated successfully."):422===t.status?humane.error(JSON.parse(t.responseText).error||"Tags failed to update."):humane.error("Not authorized")}),$("#create_report_form").submit(function(e){return e.preventDefault(),$('#create_report_form input[type="submit"]').prop("disabled",!0)}),$("#create_report_form").bind("ajax:complete",function(e,t,n){return $('#create_report_form input[type="submit"]').prop("disabled",!1),201===t.status?(humane.success("Associated report updated successfully."),$("#create_report_form").slideUp(),$("#reveal_report").html('Report: <a href="'+JSON.parse(t.responseText).report_url+'">'+JSON.parse(t.responseText).report_title+"</a>"),$("#reveal_report").slideDown()):422===t.status?humane.error(JSON.parse(t.responseText).error||"Associated report failed to update."):humane.error("Not authorized")}),$("#create_graphic_form").submit(function(e){return e.preventDefault(),$('#create_graphic_form input[type="submit"]').prop("disabled",!0)}),$("#create_graphic_form").bind("ajax:complete",function(e,t,n){return $('#create_graphic_form input[type="submit"]').prop("disabled",!1),201===t.status?(humane.success("Graphic issue created successfully."),console.log(t.responseText),$("#create_graphic_form").slideUp(),$("#reveal_graphic").html('Graphic: <a href="'+JSON.parse(t.responseText).graphic_url+'">'+JSON.parse(t.responseText).graphic_title+"</a>"),$("#reveal_graphic").slideDown()):422===t.status?humane.error(JSON.parse(t.responseText).error||"Associated graphic issue failed to update."):humane.error("Not authorized")})),($("html").is(".issues.new")||$("html").is(".issues.index"))&&$("#issue-creator").length>0?(o=100,r=$("#issue-creator input#issue_title"),i=$("#issue-creator .title-container .title_count"),i.html(o-r.val().length),$("#issue-creator .title-container input").on({focus:function(){var e;return e=$(this).parent(),e.addClass("active"),$("html").is(".issues.index")?$("#issue-creator .hidden").slideDown():void 0},keyup:function(){var e;return e=o-r.val().length,i.html(e>0?e:0),0>=e?r.val(r.val().slice(0,o)):void 0}}),$("#issue-creator .title-container input").on("blur",function(){var e;return e=$(this).parent(),e.removeClass("active")}),$("html").is(".issues.index")&&$("#issue-creator .close").on("click",function(e){return e.preventDefault(),$("#issue-creator .hidden").slideUp(),!1}),$("#issue-creator select#issue_the_assignee_id").select2({width:"100%",placeholder:"Choose Assignee"}),$("#issue-creator select#issue_assignee_ids").select2({width:"100%",placeholder:"Add Followers"}),$("#issue-creator select#issue_tag_ids").select2({width:"100%",allowClear:!0,placeholder:"Add Tags"}),$("#issue-creator #due_date").datetimepicker({formatTime:"g:i a",format:"n/j/y g:i a",minDate:$("#issue-creator #due_date").data("min-date")}),$("#issue-creator input#issue_create_report").click(function(){return $("#issue-creator input#issue_create_report").prop("checked")?$("#issue-creator .hidden#report_slug").slideDown():$("#issue-creator .hidden#report_slug").slideUp()}),$("#new_issue").submit(function(e){return e.preventDefault(),$('#new_issue input[type="submit"]').prop("disabled",!0)}),$("#new_issue").on("ajax:complete",function(e,t,n){return 201===t.status?window.location=JSON.parse(t.responseText).url:(422===t.status?humane.error(JSON.parse(t.responseText).error||"Issue creation failed."):humane.error("Not authorized"),$('#new_issue input[type="submit"]').prop("disabled",!1))})):void 0})}.call(this),function(){$(function(){var e,t,n,i,r,o;$("html").is(".current_user")&&($("html").is(".reports.show")||$("html").is(".topics.show")||$("html").is(".issues.show"))&&""!==window.topic_slug&&(window.document_title=$(document).find("title").text(),e=function(e){var t,n,i,r,o;n=$(".post[data-post-id='"+e.post_parent_id+"']"),0!==n.length&&($(n).after("<div class='nested_messages'>"+e.post_html+"</div>"),r=[].slice.call(document.getElementById("post_"+e.post_id).querySelectorAll("img.lazy")),r.forEach(function(e){e.src=e.dataset.src,e.classList.remove("lazy")}),$("#post_"+e.post_id).addClass("raisedbox"),t=$("#post_"+e.post_id).find("span[data-datetime]"),i=t.data("datetime"),o=moment.utc(new Date),moment.duration(o.diff(moment.utc(i))).asHours()<168?t.html(moment.utc(i).fromNow()):t.html(moment.utc(i).calendar(null,{sameElse:"MMM D, YYYY"})),$.ajax({type:"GET",url:"/forums/topics/"+window.cachingHelperPayload.topic_id+"/posts/"+e.post_id+"/get_post_username_and_ui_components_payload",complete:function(t){var n,i,r,o;i=JSON.parse(t.responseText),$(".post-info[data-post-id="+e.post_id+"]").find(".dynamic_author").html(i.get_username_payload),n=i.get_ui_components_to_show;for(r in n)o=n[r],o&&$(".post-info[data-post-id="+e.post_id+"]").find(".hidden."+r).removeClass("hidden")}}),$("#post_"+e.post_id).show("slow"),$(".post-footer").show(),$("#post_"+e.post_id).after('<div class="nested_messages"></div>'),$(".spinner").remove(),window.setUsernameAndShowComponentForPost(window.cachingHelperPayload),$("#inline-reply-bottom").show(),$("#inline-reply-top").show(),inline_editor(),inline_reply(),window.matchMedia("(min-width: 1200px)").matches&&window.cachingHelperPayload.current_user_admin&&dragndrop())},t=function(e){var t,n,i,r,o,s;n=$("#posts"),$(n).append(""+e.post_html),o=[].slice.call(document.getElementById("post_"+e.post_id).querySelectorAll("img.lazy")),o.forEach(function(e){e.src=e.dataset.src,e.classList.remove("lazy")}),$("#post_"+e.post_id).addClass("raisedbox"),t=$("#post_"+e.post_id).find("span[data-datetime]"),r=t.data("datetime"),s=moment.utc(new Date),moment.duration(s.diff(moment.utc(r))).asHours()<168?t.html(moment.utc(r).fromNow()):t.html(moment.utc(r).calendar(null,{sameElse:"MMM D, YYYY"})),$.ajax({type:"GET",url:"/forums/topics/"+window.cachingHelperPayload.topic_id+"/posts/"+e.post_id+"/get_post_username_and_ui_components_payload",complete:function(t){var n,i,r,o;i=JSON.parse(t.responseText),$(".post-info[data-post-id="+e.post_id+"]").find(".dynamic_author").html(i.get_username_payload),n=i.get_ui_components_to_show;for(r in n)o=n[r],o&&$(".post-info[data-post-id="+e.post_id+"]").find(".hidden."+r).removeClass("hidden")}}),$("#post_"+e.post_id).show("slow"),$(".post-footer").show(),$("#post_"+e.post_id).after('<div class="nested_messages"></div>'),$(".spinner").remove(),window.setUsernameAndShowComponentForPost(window.cachingHelperPayload),$("#inline-reply-top").show(),$("#inline-reply-top").find('input[type="submit"]').attr("disabled",!1),$("#inline-reply-bottom").find('input[type="submit"]').attr("disabled",!1),inline_editor(),inline_reply(),window.scroll_to_new_post&&(i=$("#post_"+e.post_id),i&&window.scrollTo({top:i.offset().top-100,behavior:"smooth"})),window.scroll_to_new_post=!1,window.matchMedia("(min-width: 1200px)").matches&&window.cachingHelperPayload.current_user_admin&&dragndrop()},o=function(){var e;e=$(".raisedbox").length,e>0?document.title="("+e+") "+window.document_title:document.title=window.document_title},i=function(n){var i,r;null===n.post_parent_id?t(n):e(n),window.not_update_page_title!==!0&&o(),window.not_update_page_title=!1,i=[].slice.call(document.querySelectorAll(".raisedbox")),"IntersectionObserver"in window?(r=new IntersectionObserver(function(e,t){return e.forEach(function(e){var t;e.isIntersecting&&(t=e.target,setTimeout(function(){t.classList.remove("raisedbox"),o()},3e3),r.unobserve(t))})}),i.forEach(function(e){r.observe(e)})):i.forEach(function(e){setTimeout(function(){e.classList.remove("raisedbox"),o()},3e3)})},r=new Pusher("b44bd525f20602484fd5",{authEndpoint:"/pusher/auth"}),n=r.subscribe(window.topic_slug),setTimeout(function(){r.disconnect()},288e5),n.bind("post_created",function(e){return void 0!==e.post_html?i(e):$.getJSON(""+e.post_url,function(t){return e=Object.assign(e,t),i(e)})}))})}.call(this),function(){$(function(){var e;return e=new ClipboardJS("#copybutton"),e.on("success",function(e){humane.success("Link copied to clipboard!")}),e.on("error",function(e){humane.error("Press Ctrl+C to copy")})})}.call(this),function(){$(function(){var e;return $("html").is(".reports.show")||$("html").is(".topics.show")||$("html").is(".courses.show")||$("html").is(".courses.overview")||$("html").is(".issues.show")?(document.documentElement.classList.remove("no-js"),
e=function(e,t){var n,i;i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},n=new Image,n.onload=function(){var i;i=n.width>0&&n.height>0,t(e,i)},n.onerror=function(){t(e,!1)},n.src="data:image/webp;base64,"+i[e]},$(document).ready(function(){var t,n;n=[].slice.call(document.querySelectorAll("img.lazy")),"IntersectionObserver"in window?(t=new IntersectionObserver(function(n,i){return n.forEach(function(n){var i;n.isIntersecting&&(i=n.target,e("lossless",function(e,t){return t?(console.log(n),i.src=i.dataset.webp):(i.src=i.dataset.src,i.srcset=i.dataset.srcset)}),i.classList.remove("lazy"),t.unobserve(i))})},{rootMargin:"300px"}),n.forEach(function(e){t.observe(e)})):n.forEach(function(e){e.src=e.dataset.src,e.classList.remove("lazy")})})):void 0})}.call(this),!function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.create(e.prototype);for(var r in n)i[r]=n[r];return i.constructor=t,t.prototype=i,t}function i(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:f.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:f.events,this.format=e.hasOwnProperty("format")?e.format:f.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:f.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:f.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:f.tagName,this.target=e.hasOwnProperty("target")?e.target:f.target,this.validate=e.hasOwnProperty("validate")?e.validate:f.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||f.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||f.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:f.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function r(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function o(e){return e}function s(e,t){return"url"===t?"_blank":null}function a(){return function(e){this.j=[],this.T=e||null}}function l(e,t,n,i){for(var r=0,o=e.length,s=t,a=[],l=void 0;o>r&&(l=s.next(e[r]));)s=l,r++;if(r>=o)return[];for(;o-1>r;)l=new m(i),a.push(l),s.on(e[r],l),s=l,r++;return l=new m(n),a.push(l),s.on(e[o-1],l),a}function u(){return function(e){e&&(this.v=e)}}function c(e){var t=e?{v:e}:{};return n(v,u(),t)}function d(e){return e instanceof y||e instanceof I}var f={defaultProtocol:"http",events:null,format:o,formatHref:o,nl2br:!1,tagName:"a",target:s,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};i.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(t,n,i){var r=void 0,o=this[t];if(!o)return o;switch("undefined"==typeof o?"undefined":e(o)){case"function":return o(n,i.type);case"object":return r=o.hasOwnProperty(i.type)?o[i.type]:f[t],"function"==typeof r?r(n,i.type):r}return o},getObject:function(e,t,n){var i=this[e];return"function"==typeof i?i(t,n.type):i}};var h=Object.freeze({defaults:f,Options:i,contains:r}),p=a();p.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],i=n[0],r=n[1];if(this.test(e,i))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var m=n(p,a(),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),g=n(p,a(),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}}),v=u();v.prototype={toString:function(){return this.v+""}};var y=c(),b=c("@"),_=c(":"),w=c("."),x=c(),C=c(),k=c("\n"),T=c(),S=c("+"),E=c("#"),D=c(),A=c("mailto:"),N=c("?"),P=c("/"),O=c("_"),M=c(),I=c(),R=c(),L=c("{"),B=c("["),F=c("<"),$=c("("),z=c("}"),H=c("]"),j=c(">"),W=c(")"),q=c("&"),U=Object.freeze({Base:v,DOMAIN:y,AT:b,COLON:_,DOT:w,PUNCTUATION:x,LOCALHOST:C,NL:k,NUM:T,PLUS:S,POUND:E,QUERY:N,PROTOCOL:D,MAILTO:A,SLASH:P,UNDERSCORE:O,SYM:M,TLD:I,WS:R,OPENBRACE:L,OPENBRACKET:B,OPENANGLEBRACKET:F,OPENPAREN:$,CLOSEBRACE:z,CLOSEBRACKET:H,CLOSEANGLEBRACKET:j,CLOSEPAREN:W,AMPERSAND:q}),Y="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),V="0123456789".split(""),X="0123456789abcdefghijklmnopqrstuvwxyz".split(""),G=[" ","\f","\r","	","","\xa0","\u1680","\u180e"],K=[],Q=function(e){return new m(e)},Z=Q(),J=Q(T),ee=Q(y),te=Q(),ne=Q(R);Z.on("@",Q(b)).on(".",Q(w)).on("+",Q(S)).on("#",Q(E)).on("?",Q(N)).on("/",Q(P)).on("_",Q(O)).on(":",Q(_)).on("{",Q(L)).on("[",Q(B)).on("<",Q(F)).on("(",Q($)).on("}",Q(z)).on("]",Q(H)).on(">",Q(j)).on(")",Q(W)).on("&",Q(q)).on([",",";","!",'"',"'"],Q(x)),Z.on("\n",Q(k)).on(G,ne),ne.on(G,ne);for(var ie=0;ie<Y.length;ie++){var re=l(Y[ie],Z,I,y);K.push.apply(K,re)}var oe=l("file",Z,y,y),se=l("ftp",Z,y,y),ae=l("http",Z,y,y),le=l("mailto",Z,y,y);K.push.apply(K,oe),K.push.apply(K,se),K.push.apply(K,ae),K.push.apply(K,le);var ue=oe.pop(),ce=se.pop(),de=ae.pop(),fe=le.pop(),he=Q(y),pe=Q(D),me=Q(A);ce.on("s",he).on(":",pe),de.on("s",he).on(":",pe),K.push(he),ue.on(":",pe),he.on(":",pe),fe.on(":",me);var ge=l("localhost",Z,C,y);K.push.apply(K,ge),Z.on(V,J),J.on("-",te).on(V,J).on(X,ee),ee.on("-",te).on(X,ee);for(var ve=0;ve<K.length;ve++)K[ve].on("-",te).on(X,ee);te.on("-",te).on(V,ee).on(X,ee),Z.defaultTransition=Q(M);var ye=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,i=[],r=0;n>r;){for(var o=Z,s=null,a=0,l=null,u=-1;n>r&&(s=o.next(t[r]));)o=s,o.accepts()?(u=0,l=o):u>=0&&u++,a++,r++;if(!(0>u)){r-=u,a-=u;var c=l.emit();i.push(new c(e.substr(r-a,a)))}}return i},be=Z,_e=Object.freeze({State:m,TOKENS:U,run:ye,start:be}),we=u();we.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var xe=n(we,u(),{type:"email",isLink:!0}),Ce=n(we,u(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),ke=n(we,u(),{type:"text"}),Te=n(we,u(),{type:"nl"}),Se=n(we,u(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,i=this.v,r=[],o=0;i[o]instanceof D;)t=!0,r.push(i[o].toString().toLowerCase()),o++;for(;i[o]instanceof P;)n=!0,r.push(i[o].toString()),o++;for(;d(i[o]);)r.push(i[o].toString().toLowerCase()),o++;for(;o<i.length;o++)r.push(i[o].toString());return r=r.join(""),t||n||(r=e+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof D}}),Ee=Object.freeze({Base:we,MAILTOEMAIL:xe,EMAIL:Ce,NL:Te,TEXT:ke,URL:Se}),De=function(e){return new g(e)},Ae=De(),Ne=De(),Pe=De(),Oe=De(),Me=De(),Ie=De(),Re=De(),Le=De(Se),Be=De(),Fe=De(Se),$e=De(Se),ze=De(),He=De(),je=De(),We=De(),qe=De(),Ue=De(Se),Ye=De(Se),Ve=De(Se),Xe=De(Se),Ge=De(),Ke=De(),Qe=De(),Ze=De(),Je=De(),et=De(),tt=De(Ce),nt=De(),it=De(Ce),rt=De(xe),ot=De(),st=De(),at=De(),lt=De(),ut=De(Te);Ae.on(k,ut).on(D,Ne).on(A,Pe).on(P,Oe),Ne.on(P,Oe),Oe.on(P,Me),Ae.on(I,Ie).on(y,Ie).on(C,Le).on(T,Ie),Me.on(I,$e).on(y,$e).on(T,$e).on(C,$e),Ie.on(w,Re),Je.on(w,et),Re.on(I,Le).on(y,Ie).on(T,Ie).on(C,Ie),et.on(I,tt).on(y,Je).on(T,Je).on(C,Je),Le.on(w,Re),tt.on(w,et),Le.on(_,Be).on(P,$e),Be.on(T,Fe),Fe.on(P,$e),tt.on(_,nt),nt.on(T,it);var ct=[y,b,C,T,S,E,D,P,I,O,M,q],dt=[_,w,N,x,z,H,j,W,L,B,F,$];$e.on(L,He).on(B,je).on(F,We).on($,qe),ze.on(L,He).on(B,je).on(F,We).on($,qe),He.on(z,$e),je.on(H,$e),We.on(j,$e),qe.on(W,$e),Ue.on(z,$e),Ye.on(H,$e),Ve.on(j,$e),Xe.on(W,$e),Ge.on(z,$e),Ke.on(H,$e),Qe.on(j,$e),Ze.on(W,$e),He.on(ct,Ue),je.on(ct,Ye),We.on(ct,Ve),qe.on(ct,Xe),He.on(dt,Ge),je.on(dt,Ke),We.on(dt,Qe),qe.on(dt,Ze),Ue.on(ct,Ue),Ye.on(ct,Ye),Ve.on(ct,Ve),Xe.on(ct,Xe),Ue.on(dt,Ue),Ye.on(dt,Ye),Ve.on(dt,Ve),Xe.on(dt,Xe),Ge.on(ct,Ue),Ke.on(ct,Ye),Qe.on(ct,Ve),Ze.on(ct,Xe),Ge.on(dt,Ge),Ke.on(dt,Ke),Qe.on(dt,Qe),Ze.on(dt,Ze),$e.on(ct,$e),ze.on(ct,$e),$e.on(dt,ze),ze.on(dt,ze),Pe.on(I,rt).on(y,rt).on(T,rt).on(C,rt),rt.on(ct,rt).on(dt,ot),ot.on(ct,rt).on(dt,ot);var ft=[y,T,S,E,N,O,M,q,I];Ie.on(ft,st).on(b,at),Le.on(ft,st).on(b,at),Re.on(ft,st),st.on(ft,st).on(b,at).on(w,lt),lt.on(ft,st),at.on(I,Je).on(y,Je).on(C,tt);var ht=function(e){for(var t=e.length,n=0,i=[],r=[];t>n;){for(var o=Ae,s=null,a=null,l=0,u=null,c=-1;t>n&&!(s=o.next(e[n]));)r.push(e[n++]);for(;t>n&&(a=s||o.next(e[n]));)s=null,o=a,o.accepts()?(c=0,u=o):c>=0&&c++,n++,l++;if(0>c)for(var d=n-l;n>d;d++)r.push(e[d]);else{r.length>0&&(i.push(new ke(r)),r=[]),n-=c,l-=c;var f=u.emit();i.push(new f(e.slice(n-l,n)))}}return r.length>0&&i.push(new ke(r)),i},pt=Object.freeze({State:g,TOKENS:Ee,run:ht,start:Ae});Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var mt=function(e){return ht(ye(e))},gt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=mt(e),i=[],r=0;r<n.length;r++){var o=n[r];!o.isLink||t&&o.type!==t||i.push(o.toObject())}return i},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=mt(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)};t.find=gt,t.inherits=n,t.options=h,t.parser=pt,t.scanner=_e,t.test=vt,t.tokenize=mt}(self.linkify=self.linkify||{})}(),!function(e,t){var n=function(e){function t(e){this.a=e}function n(e){return y.test(e)}function i(e){return b.test(e)}function r(e){return e.replace(_,"\n")}function o(e,t){this.b=e,this.c=t,this.d=null,this.input=null,this.e=-1,this.f=-1,this.g=-1,this.h=-1,this.i=-1,this.j()}function s(e,t){this.k=null,this.startLine=1,this.startColumn=0,this.options=t||{},this.tokenizer=new o(this,e)}function a(e,n){var i=new s(new t(p),n);return i.tokenize(e)}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=w.tokenize(e),r=[],o=[];for(n=new C(n),t=0;t<i.length;t++){var s=i[t];if(s.type!==k)if(s.type===S){var a=u(s.chars,n);r.push.apply(r,a)}else r.push(s);else{r.push(s);var l=s.tagName.toUpperCase(),f="A"===l||x.contains(n.ignoreTags,l);if(!f)continue;var p=r.length;c(l,i,++t,r),t+=r.length-p-1}}for(t=0;t<r.length;t++){var m=r[t];switch(m.type){case k:var g="<"+m.tagName;if(m.attributes.length>0){var v=h(m.attributes);g+=" "+v.join(" ")}g+=">",o.push(g);break;case T:o.push("</"+m.tagName+">");break;case S:o.push(d(m.chars));break;case E:o.push("<!--"+d(m.chars)+"-->")}}return o.join("")}function u(t,n){for(var i=e.tokenize(t),r=[],o=0;o<i.length;o++){var s=i[o];if("nl"===s.type&&n.nl2br)r.push({type:k,tagName:"br",attributes:[],l:!0});else if(s.isLink&&n.check(s)){var a=n.resolve(s),l=a.formatted,u=a.formattedHref,c=a.tagName,d=a.className,f=a.target,h=a.attributes,p=[["href",u]];d&&p.push(["class",d]),f&&p.push(["target",f]);for(var m in h)p.push([m,h[m]]);r.push({type:k,tagName:c,attributes:p,l:!1}),r.push({type:S,chars:l}),r.push({type:T,tagName:c})}else r.push({type:S,chars:s.toString()})}return r}function c(e,t,n,i){for(var r=1;n<t.length&&r>0;){var o=t[n];o.type===k&&o.tagName.toUpperCase()===e?r++:o.type===T&&o.tagName.toUpperCase()===e&&r--,i.push(o),n++}return i}function d(e){return e}function f(e){return e.replace(/"/g,"&quot;")}function h(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=i[0],o=i[1];t.push(r+'="'+f(o)+'"')}return t}var p={m:"\xa0"},m=/^#[xX]([A-Fa-f0-9]+)$/,g=/^#([0-9]+)$/,v=/^([A-Za-z0-9]+)$/;t.prototype.parse=function(e){if(e){var t=e.match(m);return t?"&#x"+t[1]+";":(t=e.match(g))?"&#"+t[1]+";":(t=e.match(v),t?this.a[t[1]]||"&"+t[1]+";":void 0)}};var y=/[\t\n\f ]/,b=/[A-Za-z]/,_=/\r\n?/g;o.prototype={j:function(){this.d="beforeData",this.input="",this.e=0,this.f=1,this.g=0,this.h=-1,this.i=-1,this.b.j()},tokenize:function(e){this.j(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=r(e);this.e<this.input.length;)this.n[this.d].call(this)},tokenizeEOF:function(){this.o()},o:function(){"data"===this.d&&(this.b.p(),this.d="beforeData")},q:function(){return this.input.charAt(this.e)},r:function(){var e=this.q();return this.e++,"\n"===e?(this.f++,this.g=0):this.g++,e},s:function(){var e=this.input.indexOf(";",this.e);if(-1!==e){var t=this.input.slice(this.e,e),n=this.c.parse(t);if(n){for(var i=t.length;i;)this.r(),i--;return this.r(),n}}},t:function(){this.h=this.f,this.i=this.g,this.b.tagOpen&&this.b.tagOpen()},n:{beforeData:function(){var e=this.q();"<"===e?(this.d="tagOpen",this.t(),this.r()):(this.d="data",this.b.u())},data:function(){var e=this.q();"<"===e?(this.b.p(),this.d="tagOpen",this.t(),this.r()):"&"===e?(this.r(),this.b.v(this.s()||"&")):(this.r(),this.b.v(e))},tagOpen:function(){var e=this.r();"!"===e?this.d="markupDeclaration":"/"===e?this.d="endTagOpen":i(e)&&(this.d="tagName",this.b.w(),this.b.x(e.toLowerCase()))},markupDeclaration:function(){var e=this.r();"-"===e&&"-"===this.input.charAt(this.e)&&(this.r(),this.d="commentStart",this.b.y())},commentStart:function(){var e=this.r();"-"===e?this.d="commentStartDash":">"===e?(this.b.z(),this.d="beforeData"):(this.b.A(e),this.d="comment")},commentStartDash:function(){var e=this.r();"-"===e?this.d="commentEnd":">"===e?(this.b.z(),this.d="beforeData"):(this.b.A("-"),this.d="comment")},comment:function(){var e=this.r();"-"===e?this.d="commentEndDash":this.b.A(e)},commentEndDash:function(){var e=this.r();"-"===e?this.d="commentEnd":(this.b.A("-"+e),this.d="comment")},commentEnd:function(){var e=this.r();">"===e?(this.b.z(),this.d="beforeData"):(this.b.A("--"+e),this.d="comment")},tagName:function(){var e=this.r();n(e)?this.d="beforeAttributeName":"/"===e?this.d="selfClosingStartTag":">"===e?(this.b.B(),this.d="beforeData"):this.b.x(e)},beforeAttributeName:function(){var e=this.q();return n(e)?void this.r():void("/"===e?(this.d="selfClosingStartTag",this.r()):">"===e?(this.r(),this.b.B(),this.d="beforeData"):(this.d="attributeName",this.b.C(),this.r(),this.b.D(e)))},attributeName:function(){var e=this.q();n(e)?(this.d="afterAttributeName",this.r()):"/"===e?(this.b.F(!1),this.b.G(),this.r(),this.d="selfClosingStartTag"):"="===e?(this.d="beforeAttributeValue",this.r()):">"===e?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.r(),this.b.D(e))},afterAttributeName:function(){var e=this.q();return n(e)?void this.r():void("/"===e?(this.b.F(!1),this.b.G(),this.r(),this.d="selfClosingStartTag"):"="===e?(this.r(),this.d="beforeAttributeValue"):">"===e?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.b.F(!1),this.b.G(),this.r(),this.d="attributeName",this.b.C(),this.b.D(e)))},beforeAttributeValue:function(){var e=this.q();n(e)?this.r():'"'===e?(this.d="attributeValueDoubleQuoted",this.b.F(!0),this.r()):"'"===e?(this.d="attributeValueSingleQuoted",this.b.F(!0),this.r()):">"===e?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.d="attributeValueUnquoted",this.b.F(!1),this.r(),this.b.H(e))},attributeValueDoubleQuoted:function(){var e=this.r();'"'===e?(this.b.G(),this.d="afterAttributeValueQuoted"):"&"===e?this.b.H(this.s('"')||"&"):this.b.H(e)},attributeValueSingleQuoted:function(){var e=this.r();"'"===e?(this.b.G(),this.d="afterAttributeValueQuoted"):"&"===e?this.b.H(this.s("'")||"&"):this.b.H(e)},attributeValueUnquoted:function(){var e=this.q();n(e)?(this.b.G(),this.r(),this.d="beforeAttributeName"):"&"===e?(this.r(),this.b.H(this.s(">")||"&")):">"===e?(this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.r(),this.b.H(e))},afterAttributeValueQuoted:function(){var e=this.q();n(e)?(this.r(),this.d="beforeAttributeName"):"/"===e?(this.r(),this.d="selfClosingStartTag"):">"===e?(this.r(),this.b.B(),this.d="beforeData"):this.d="beforeAttributeName"},selfClosingStartTag:function(){var e=this.q();">"===e?(this.r(),this.b.I(),this.b.B(),this.d="beforeData"):this.d="beforeAttributeName"},endTagOpen:function(){var e=this.r();i(e)&&(this.d="tagName",this.b.J(),this.b.x(e.toLowerCase()))}}},s.prototype={tokenize:function(e){return this.K=[],this.tokenizer.tokenize(e),this.K},tokenizePart:function(e){return this.K=[],this.tokenizer.tokenizePart(e),this.K},tokenizeEOF:function(){return this.K=[],this.tokenizer.tokenizeEOF(),this.K[0]},j:function(){this.k=null,this.startLine=1,this.startColumn=0},L:function(){this.options.M&&(this.k.M={start:{f:this.startLine,g:this.startColumn},N:{f:this.tokenizer.f,g:this.tokenizer.g}}),this.startLine=this.tokenizer.f,this.startColumn=this.tokenizer.g},u:function(){this.k={type:"Chars",chars:""},this.K.push(this.k)},v:function(e){this.k.chars+=e},p:function(){this.L()},y:function(){this.k={type:"Comment",chars:""},this.K.push(this.k)},A:function(e){this.k.chars+=e},z:function(){this.L()},w:function(){this.k={type:"StartTag",tagName:"",attributes:[],l:!1},this.K.push(this.k)},J:function(){this.k={type:"EndTag",tagName:""},this.K.push(this.k)},B:function(){this.L()},I:function(){this.k.l=!0},x:function(e){this.k.tagName+=e},C:function(){this._currentAttribute=["","",null],this.k.attributes.push(this._currentAttribute)},D:function(e){this._currentAttribute[0]+=e},F:function(e){this._currentAttribute[2]=e},H:function(e){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=e},G:function(){}};var w={HTML5NamedCharRefs:p,EntityParser:t,EventedTokenizer:o,Tokenizer:s,tokenize:a},x=e.options,C=x.Options,k="StartTag",T="EndTag",S="Chars",E="Comment";return l}(t);e.linkifyHtml=n}(window,linkify);
